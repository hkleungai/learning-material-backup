<!doctype html>
<html>
   <head>
        <link rel='stylesheet' type='text/css' href='../../hkust/f2021_python_interactive_system/js/codemirror.css' />
        <link rel='stylesheet' type='text/css' href='../../hkust/f2021_python_interactive_system/js/theme/idle.css' />
        <link rel='stylesheet' type='text/css' href='../../hkust/f2021_python_interactive_system/style.css' />

        <script src="../../hkust/f2021_python_interactive_system/js/jquery-3.5.1.min.js"></script>
        <script src="../../hkust/f2021_python_interactive_system/js/jquery-ui-1.10.4.custom.min.js"></script>
        <script src="../../hkust/f2021_python_interactive_system/skulpt/skulpt.min.js" type="text/javascript"></script>
        <script src="../../hkust/f2021_python_interactive_system/skulpt/skulpt-stdlib.js" type="text/javascript"></script>
        <script src="../../hkust/f2021_python_interactive_system/js/codemirror.js" type="text/javascript"></script>
        <script src="../../hkust/f2021_python_interactive_system/js/mode/python.js" type="text/javascript"></script>
        <script src="../../hkust/f2021_python_interactive_system/js/pyquestion.js" type="text/javascript"></script>
        <script>
            /////////////////////////////////////////////////////////////////
            ///////////////////// Question Type & Python program code

            // This sets the question type
            // Use the combination of pyQuestion.questionTypeRandomOrder
            //                        pyQuestion.questionTypeIndentation
            //                        pyQuestion.questionTypeDeleteLines
            //                        pyQuestion.questionTypeChangeCode
            // to set the type

            // For example, if you want the question to have random order and
            // random indentation, you would add the two together:
            //     pyQuestion.questionTypeRandomOrder + pyQuestion.questionTypeIndentation
            var questionType =  pyQuestion.questionTypeChangeCode ;

            var questionTypeChangeCodeLineNumber = 10;
            var questionTypeChangeCodeBackgroundColorRed   = 255;
            var questionTypeChangeCodeBackgroundColorGreen = 204;
            var questionTypeChangeCodeBackgroundColorBlue  = 255;

            // This is the target code, executed when the page is loaded
            var pySrc = "Y2xhc3MgQ29pbkV4Y2hhbmdlTWFjaGluZToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLnRvdGFsID0gMAogICAgZGVmIGluc2VydChzZWxmLCBhbW91bnQpOgogICAgICAgIGlmIGFtb3VudCA9PSAxIG9yIGFtb3VudCA9PSAyIG9yIGFtb3VudCA9PSA1OgogICAgICAgICAgICBzZWxmLnRvdGFsID0gc2VsZi50b3RhbCArIGFtb3VudAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCJTb3JyeSwgSSBvbmx5IGFjY2VwdCAkMSwgJDIsIG9yICQ1IGNvaW5zIikKICAgIGRlZiBnaXZlX3RvX3VzZXIoc2VsZik6CiAgICAgICAgbnVtXzEwX25vdGVzID0gaW50KHNlbGYudG90YWwgLyAxMCkKICAgICAgICByZW1haW5fYW1vdW50ID0gc2VsZi50b3RhbCAlIDEwCiAgICAgICAgbnVtXzVfY29pbnMgPSBpbnQocmVtYWluX2Ftb3VudCAvIDUpCiAgICAgICAgcmVtYWluX2Ftb3VudCA9IHJlbWFpbl9hbW91bnQgJSA1CiAgICAgICAgbnVtXzJfY29pbnMgPSBpbnQocmVtYWluX2Ftb3VudCAvIDIpCiAgICAgICAgbnVtXzFfY29pbnMgPSByZW1haW5fYW1vdW50ICUgMgogICAgICAgIGlmIG51bV8xMF9ub3RlcyA+IDA6CiAgICAgICAgICAgIHByaW50KCJJIGFtIGdpdmluZyB5b3UgdGhpcyBtYW55ICQxMCBub3RlKHMpOiIsIG51bV8xMF9ub3RlcykKICAgICAgICBpZiBudW1fNV9jb2lucyA+IDA6CiAgICAgICAgICAgIHByaW50KCJJIGFtIGdpdmluZyB5b3UgdGhpcyBtYW55ICQ1IGNvaW4ocyk6IiwgbnVtXzVfY29pbnMpCiAgICAgICAgaWYgbnVtXzJfY29pbnMgPiAwOgogICAgICAgICAgICBwcmludCgiSSBhbSBnaXZpbmcgeW91IHRoaXMgbWFueSAkMiBjb2luKHMpOiIsIG51bV8yX2NvaW5zKQogICAgICAgIGlmIG51bV8xX2NvaW5zID4gMDoKICAgICAgICAgICAgcHJpbnQoIkkgYW0gZ2l2aW5nIHlvdSB0aGlzIG1hbnkgJDEgY29pbihzKToiLCBudW1fMV9jb2lucykKICAgICAgICBzZWxmLnRvdGFsID0gMAogICAgICAgIHByaW50KCIiKQptYWNoaW5lID0gQ29pbkV4Y2hhbmdlTWFjaGluZSgpCnRleHQgPSAiaW50byB0aGUgbWFjaGluZS4gVGhlIHJlc3VsdCBpczoiCnByaW50KCJUaGUgdXNlciBpbnNlcnRzICQzLCAkMSwgJDIsICQ1IiwgdGV4dCkKbWFjaGluZS5pbnNlcnQoMykKbWFjaGluZS5pbnNlcnQoMSkKbWFjaGluZS5pbnNlcnQoMikKbWFjaGluZS5pbnNlcnQoNSkKbWFjaGluZS5naXZlX3RvX3VzZXIoKQpwcmludCgiVGhlIHVzZXIgaW5zZXJ0cyAkNSwgJDUsICQyLCAkMSwgJDEiLCB0ZXh0KQptYWNoaW5lLmluc2VydCg1KQptYWNoaW5lLmluc2VydCg1KQptYWNoaW5lLmluc2VydCgyKQptYWNoaW5lLmluc2VydCgxKQptYWNoaW5lLmluc2VydCgxKQptYWNoaW5lLmdpdmVfdG9fdXNlcigpCnByaW50KCJUaGUgdXNlciBpbnNlcnRzICQxLCAkMSwgJDEsICQxLCAkMSIsIHRleHQpCm1hY2hpbmUuaW5zZXJ0KDEpCm1hY2hpbmUuaW5zZXJ0KDEpCm1hY2hpbmUuaW5zZXJ0KDEpCm1hY2hpbmUuaW5zZXJ0KDEpCm1hY2hpbmUuaW5zZXJ0KDEpCm1hY2hpbmUuZ2l2ZV90b191c2VyKCk=";


            // This is the code used as the base for the drag and drop Python code shown to the user
            // For example, if you have a 'delete code' task, you would take the above code and add extra code to it, then generate this
            var pyForUser = "Y2xhc3MgQ29pbkV4Y2hhbmdlTWFjaGluZToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLnRvdGFsID0gMAogICAgZGVmIGluc2VydChzZWxmLCBhbW91bnQpOgogICAgICAgIGlmIGFtb3VudCA9PSAxIG9yIGFtb3VudCA9PSAyIG9yIGFtb3VudCA9PSA1OgogICAgICAgICAgICBzZWxmLnRvdGFsID0gc2VsZi50b3RhbCArIGFtb3VudAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCJTb3JyeSwgSSBvbmx5IGFjY2VwdCAkMSwgJDIsIG9yICQ1IGNvaW5zIikKICAgIGRlZiBnaXZlX3RvX3VzZXIoc2VsZik6CiAgICAgICAgIyB3cml0ZSBvbmUgbGluZSBoZXJlCiAgICAgICAgcmVtYWluX2Ftb3VudCA9IHNlbGYudG90YWwgJSAxMAogICAgICAgIG51bV81X2NvaW5zID0gaW50KHJlbWFpbl9hbW91bnQgLyA1KQogICAgICAgIHJlbWFpbl9hbW91bnQgPSByZW1haW5fYW1vdW50ICUgNQogICAgICAgIG51bV8yX2NvaW5zID0gaW50KHJlbWFpbl9hbW91bnQgLyAyKQogICAgICAgIG51bV8xX2NvaW5zID0gcmVtYWluX2Ftb3VudCAlIDIKICAgICAgICBpZiBudW1fMTBfbm90ZXMgPiAwOgogICAgICAgICAgICBwcmludCgiSSBhbSBnaXZpbmcgeW91IHRoaXMgbWFueSAkMTAgbm90ZShzKToiLCBudW1fMTBfbm90ZXMpCiAgICAgICAgaWYgbnVtXzVfY29pbnMgPiAwOgogICAgICAgICAgICBwcmludCgiSSBhbSBnaXZpbmcgeW91IHRoaXMgbWFueSAkNSBjb2luKHMpOiIsIG51bV81X2NvaW5zKQogICAgICAgIGlmIG51bV8yX2NvaW5zID4gMDoKICAgICAgICAgICAgcHJpbnQoIkkgYW0gZ2l2aW5nIHlvdSB0aGlzIG1hbnkgJDIgY29pbihzKToiLCBudW1fMl9jb2lucykKICAgICAgICBpZiBudW1fMV9jb2lucyA+IDA6CiAgICAgICAgICAgIHByaW50KCJJIGFtIGdpdmluZyB5b3UgdGhpcyBtYW55ICQxIGNvaW4ocyk6IiwgbnVtXzFfY29pbnMpCiAgICAgICAgc2VsZi50b3RhbCA9IDAKICAgICAgICBwcmludCgiIikKbWFjaGluZSA9IENvaW5FeGNoYW5nZU1hY2hpbmUoKQp0ZXh0ID0gImludG8gdGhlIG1hY2hpbmUuIFRoZSByZXN1bHQgaXM6IgpwcmludCgiVGhlIHVzZXIgaW5zZXJ0cyAkMywgJDEsICQyLCAkNSIsIHRleHQpCm1hY2hpbmUuaW5zZXJ0KDMpCm1hY2hpbmUuaW5zZXJ0KDEpCm1hY2hpbmUuaW5zZXJ0KDIpCm1hY2hpbmUuaW5zZXJ0KDUpCm1hY2hpbmUuZ2l2ZV90b191c2VyKCkKcHJpbnQoIlRoZSB1c2VyIGluc2VydHMgJDUsICQ1LCAkMiwgJDEsICQxIiwgdGV4dCkKbWFjaGluZS5pbnNlcnQoNSkKbWFjaGluZS5pbnNlcnQoNSkKbWFjaGluZS5pbnNlcnQoMikKbWFjaGluZS5pbnNlcnQoMSkKbWFjaGluZS5pbnNlcnQoMSkKbWFjaGluZS5naXZlX3RvX3VzZXIoKQpwcmludCgiVGhlIHVzZXIgaW5zZXJ0cyAkMSwgJDEsICQxLCAkMSwgJDEiLCB0ZXh0KQptYWNoaW5lLmluc2VydCgxKQptYWNoaW5lLmluc2VydCgxKQptYWNoaW5lLmluc2VydCgxKQptYWNoaW5lLmluc2VydCgxKQptYWNoaW5lLmluc2VydCgxKQptYWNoaW5lLmdpdmVfdG9fdXNlcigp";

            ///////////////////// Question Type & End of Python program code
            /////////////////////////////////////////////////////////////////

            $(document).ready(function() {
                let options = {
                        showListLineNumbers:false,
                }

                // Set up the options for the change code question type
                if (questionType | pyQuestion.questionTypeChangeCode) {
                    options.changeCodeLineNumber = questionTypeChangeCodeLineNumber;
                    options.changeCodeBackgroundColor = [
                        questionTypeChangeCodeBackgroundColorRed,
                        questionTypeChangeCodeBackgroundColorGreen,
                        questionTypeChangeCodeBackgroundColorBlue
                    ];
                }

                // Initialize the pyQuestion module
                pyQuestion.init(questionType, pySrc, pyForUser, options);

                // Run the target program at the start
                pyQuestion.runTargetProgram("programOutputAreaForTarget", "turtleGraphicsOutputForTarget");

            });
        </script>
    </head>

    <body>
        <h1>
            <span class="header">COMP1021 Learning Tool <button type="button" class="aboutButton">?</button></span>
            <span class="title">Objects - Coin Exchange Machine</span>
        </h1>

        <div class="pageContent">

            <div class="codePane" style="width:620px">

                <h4>A Machine which Exchanges Coins for Notes</h4>
                <ul>
                    <li>Sometimes it's annoying to have lots of coins</li>
                    <li>It's useful to use a machine which can change the coins into notes</li>
                    <li>This example emulates a machine which takes coins and returns $10 notes</li>
                    <li>The machine only accepts 3 types of coin: $1, $2 and $5</li>
                    <!--
                    <li>After returning the notes, some dollars may remain. For the remaining amount, the optimal number of $1, $2 and $5 coins will be returned </li>
                    <li style="list-style: none;">
                        <ul>
                            <li>
                                For example, if $8 is entered, one $5 coin, one $2 coin, and one $1 coin will be returned
                            </li>
                        </ul>

                    </li>
                    <li style="list-style: none;">
                        <ul>
                            <li>
                                For example, if $13 is entered, one $10 note, one $2 coin, and one $1 coin will be returned
                            </li>
                        </ul>

                    </li>
                -->
                    <li>The main part of the program emulates the following:


                    </li>
                    <li style="list-style: none;">
                        <ul>
                            <li>The user inserts $3, $1, $2, $5 and triggers the exchange</li>
                            <li>The user inserts $5, $5, $2, $1, $1 and triggers the exchange</li>
                            <li>The user inserts $1, $1, $1, $1, $1 and triggers the exchange</li>
                        </ul>

                    </li>

                </ul>


                <h4>The target output of the program is shown here:</h4>
                <textarea id="programOutputAreaForTarget" rows="14" style="font-family: Consolas, Monospace, sans-serif; font-size: 15px; line-height: 18px; width: 620px;" ></textarea>

                <h4>The output of your program will be shown here:</h4>
                <textarea id="programOutputArea" rows="14"  ></textarea>
                <p><button type="button" class="runUserProgramButton">Run my answer!</button></p>
            </div>

            <div class="codePane" style="width:700px;">


                <!-- The question instruction -->
                <h4>Instructions</h4>
                <ul id="message"></ul>

                <!-- The Python drag and drop code goes in this -->
                <ul id="codeList"></ul>

                <p>When you have finished, click here:</p>
                <p><button type="button" class="runUserProgramButton">Run my answer!</button></p>

                <h4>Your code will be shown here:</h4>
                <textarea id="userCodeArea" rows="2" cols="40"></textarea>

                <p>If you want to reset the question and start all over again, click here:</p>
                <p><button type="button" class="resetButton">Reset</button></p>
            </div>

        </div>

    </body>
</html>
