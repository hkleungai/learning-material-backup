<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>CS 2012h Project 2: Tetris</TITLE>
<META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>
<META content="Microsoft FrontPage 6.0" name=GENERATOR></HEAD>
<BODY bgColor=#ffffff>
<STYLE type=text/css>BODY {
        FONT-FAMILY: Arial,Helvetica,sans-serif; FONT-SIZE: 10pt
}
TD {
        FONT-FAMILY: Arial,Helvetica,sans-serif; FONT-SIZE: 10pt
}
LI {
        FONT-FAMILY: Arial,Helvetica,sans-serif; FONT-SIZE: 10pt
}
.no_ul {
        TEXT-DECORATION: none
}
</STYLE>

<TABLE border=0 cellPadding=0 cellSpacing=5 width="100%">
  <TBODY>
  <TR>
    <TD width=80><A
      href="../../index.html"><IMG
      border=0 height=130 src="../../img_files/logo_eye.gif" width=80></A></TD>
    <TD vAlign=bottom>
      <TABLE border=0 cellPadding=0 cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD><A class=no_ul
            href="../../index.html"><FONT
            color=#003366 face=Verdana,Arial,Helvetica,sans-serif size=4><B>
            <FONT color=#ff9900>Object Oriented Programming and Data Structures </FONT></B></FONT> </A></TD></TR>
        <TR>
          <TD vAlign=top><IMG border=0 height=2 src="../../img_files/6699cc.gif"
            width="100%"> </TD></TR>
        <TR>
          <TD><FONT color=#003366 face=Verdana,Arial,Helvetica,sans-serif
            size=2><B>Spring Semester 2013 </B></FONT>
  </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><!-- Body -->

<TABLE border=0 cellPadding=0 cellSpacing=10 width="100%">
  <TBODY>
  <TR>
    <TD>
      <BLOCKQUOTE>&nbsp;
        <TABLE cellPadding=10 width="100%">
          <TBODY>
          <TR>
            <TD width=288><IMG alt="Tetris"
              src="assign_tetris_stuff/ui.jpg" width=200></TD>
            <TD width="100%">
              <HR>

              <H2>Project 2 : Tetris </H2>
	      
              <TABLE>
                <TBODY>
                <TR>
                  <TD><B>Assigned : Mar 8</B> <BR><B>Due : Mar 29</B>
                    <P style="MARGIN-BOTTOM: -5px; MARGIN-TOP: 0px">
                    <P style="MARGIN-BOTTOM: -5px; MARGIN-TOP: 0px">
                    <P style="MARGIN-BOTTOM: -5px; MARGIN-TOP: 0px">
                    <BLOCKQUOTE>&nbsp;</BLOCKQUOTE>
                  <TD width=50>
                  <TD>
                    <!---TABLE border=1>
                      <TBODY>
                      <TR>
                        <TD colSpan=7>
                          <CENTER><B> April/May</B></CENTER>
                      <TR>
                        <TD><B>S </B>
                        <TD><B>M </B>
                        <TD><B>T </B>
                        <TD><B>W </B>
                        <TD><B>T </B>
                        <TD><B>F </B>
                        <TD><B>S </B>
                      <TR>
						<TD>
                        <TD>16
                        <TD>17
                        <TD >18
                        <TD>19
                        <TD >20
                        <TD>21
                        
                      <TR>
					    <TD >22
                        <TD>23
                        <TD >24
                        <TD bgColor=#88ff88>25
                        <TD>26
                        <TD>27
                        <TD>28
                        
                      <TR>
					    <TD>29
                        <TD>30
                        <TD>1
                        <TD>2
                        <TD>3
                        <TD>4
                        <TD>5
                        
                      <TR>
					    <TD>6
                        <TD>7
                        <TD>8
                        <TD>9
                        <TD>10
                        <TD>11
                        <TD>12
					</TR>
					<TR>
						<TD>13
						<TD >14
						<TD >15
						<TD bgcolor=#ff0000>16
</TR></TBODY></TABLE----></TR></TBODY></TABLE>
              <HR>
            </TD></TR></TBODY></TABLE>
        <H2>Quick Links</H2>
        <OL> 
	<!---LI><a href="prj4group.txt">Project 4 groups</a--->
	<LI><a href="http://cssystem.cse.ust.hk/home.php?docbase=FAQ/hkust_only&req_url=FAQ/hkust_only/displayx.html">Displaying X applications to PC running Xwin32</a>
          <LI> <a href="assign_tetris_stuff/tetris.linux">Sample solution</a> 
<font size=-2>(only runs on Linux!)</font>
	<LI> <a href="assign_tetris_stuff/background.bmp">background image</a> 
<font size=-2>(download this image in the same directory of the sample solution before running)</font>
          <LI> <a href="p4marking.htm">Marking Scheme</a></OL>

        <H2>Project Description</H2>

<h4> Preamble </H4>

<font size=-2> The following idea on <i>pair programming</i> on project #2 was adopted from a similar course in Princeton where students may work in pairs in programming assignments </font>

<p>

<b>Pair programming. </b> For this assignment you may work jointly with one partner. In such cases, both partners are responsible for jointly contributing to and understanding all parts of the completed assignment. In this case, only one partner submits the code and analysis; both partners receive the same grade. 

<p>
<b>What is pair programming?</b> Pair programming "is a practice in which two programmers work side-by-side at one computer, continuously collaborating on the same design, algorithm, code, or test." One partner is driving (designing and typing the code) while the other is navigating (reviewing the work, identifying bugs, and asking questions). The two partners switch roles every 30-40 minutes, and on demand, brainstorm. Before pair programming, you must read the article <a href=pairs-kindergarten.pdf>All I really need to know about pair programming I learned in kindergarten</a>. 

<h4>&nbsp;</h4>


<h4> Introduction</font></h4>
<p>In this assignment, you will implement a well known game
- Tetris. You have to use object-oriented technique and Qt tool kit to develop
this game. If you didn't play this game, you should play it before you start
implementation. This can help you a lot. The executable file for Solaris machine
is located here -&gt;<a href="assign_tetris_stuff/tetris.linux">Tetris</a> (See
&quot;</font><b>Requirement</b>&quot;
for how to control).&nbsp;</font><p>Let's play it !!
<h4>&nbsp;</h4>
<h4>Anatomy</font></h4>
<p>The interface of Tetris is very simple (see the following
figure):</font></p>
<p align="center"><img border="0" src="assign_tetris_stuff/ui.jpg" width="338" height="454"></p>
<p>It usually contains a <b>game board</b>, <b>preview
window</b>, <b>level display</b> and <b>score display</b>.&nbsp;</font></p>
<p><b><u>Game board</u></b> is the place that you play. You
can consider the game board as an invisible grid. When the game start, a <b>block</b>
will be generated on the top of the game board. The block will fall continuously
until it reaches the ground or touches any object on the game board. Then the
block will be fixed on the game board. A new block will be generated at the top
of the game board and the process continue.&nbsp; During falling, you can move
the falling block left, right or down. You can also rotate the block in
clockwise or anti-clockwise direction. If a row of the game board are completely
occupied by the components (squares) of the fixed game boards, the row will
disappear, your score will increased and everything above the disappeared row
will be shift down. The score gain from disappeared rows depends on the decision
of the developer. The <a href="assign_tetris_stuff/tetris.linux">given example</a>
uses this equation [ mark = 10 * combo * combo ]. ( combo = number of rows
disappeared for a single block ). When your score exceed certain limit, the
level will increase. Level control the speed of block falling (a block falls
faster if level is higher). In the given example, <font color="#FF0000">the level will increase by 1
for every 100 mark</font>. And, the falling speed equals to [1000ms - (level -1)*100]
per grid square. The maximum level is 10.&nbsp;</font></p>
<b><i>Block Types: </i></b>There are 7 types of block. All
of them contains 4 squares. They are listed as follow.</font> <b>Center</b>
is the center of rotation.&nbsp;</font>
<table border="1" width="100%">
  <tr>
    <td width="14%" align="center">Type 1</font></td>
    <td width="14%" align="center">Type 2</font></td>
    <td width="14%" align="center">Type 3</font></td>
    <td width="14%" align="center">Type 4</font></td>
    <td width="14%" align="center">Type 5</font></td>
    <td width="15%" align="center">Type 6&nbsp;</font></td>
    <td width="15%" align="center">Type 7</font></td>
  </tr>
  <tr>
    <td width="14%" align="center"><img border="0" src="assign_tetris_stuff/type1.jpg" width="100" height="150"></td>
    <td width="14%" align="center"><img border="0" src="assign_tetris_stuff/type2.jpg" width="100" height="150"></td>
    <td width="14%" align="center"><img border="0" src="assign_tetris_stuff/type3.jpg" width="100" height="150"></td>
    <td width="14%" align="center"><img border="0" src="assign_tetris_stuff/type4.jpg" width="100" height="150"></td>
    <td width="14%" align="center"><img border="0" src="assign_tetris_stuff/type5.jpg" width="100" height="150"></td>
    <td width="15%" align="center"><img border="0" src="assign_tetris_stuff/type6.jpg" width="100" height="150"></td>
    <td width="15%" align="center"><img border="0" src="assign_tetris_stuff/type7.jpg" width="100" height="150"></td>
  </tr>
</table>
<p><b><u>Preview window</u></b> displays the block that will
be generated next.</font></p>
<p><b><u>Level display</u></b> displays the current level.
As mentioned in the subsection <b>Game board</b>, level control the speed of the
falling block.</font></p>
<p><b><u>Score display</u></b> displays the current score of
the player.</font></p>
<p>&nbsp;</p>

<h4>Requirement</h4></font></p>
<p>1) The game interface should at least contains a <b>Game
board</b>.</font></p>
<p>2) The size of the Game board is 10 square x 20 square.
It is empty just before the game start.</font></p>
<p>3) You have to load a bitmap as the background of the
game board (just like the given example). If you don't have any idea, you can
use the <a href="assign_tetris_stuff/background.bmp">image</a> of the given example. The suggest image size is 200 x 400 pixel
and the square size is 20x20 pixel.</font></p>
<p>4) You must follow the following key press event (this is
the key press event of the given example):</font></p>
<table border="1" width="41%">
  <tr>
    <td width="31%" align="center">
      <p align="center">arrow(up)</td>
    <td width="69%" align="center">
      <p align="center">Start game</td>
  </tr>
  <tr>
    <td width="31%" align="center">
      <p align="center">arrow(left)</td>
    <td width="69%" align="center">
      <p align="center">Move block left</td>
  </tr>
  <tr>
    <td width="31%" align="center">
      <p align="center">arrow(right)</td>
    <td width="69%" align="center">
      <p align="center">Move block right</td>
  </tr>
  <tr>
    <td width="31%" align="center">
      <p align="center">arrow(down)</td>
    <td width="69%" align="center">
      <p align="center">Move block down</td>
  </tr>
  <tr>
    <td width="31%" align="center">
      <p align="center">Z</td>
    <td width="69%" align="center">
      <p align="center">Rotate block in clockwise direction</td>
  </tr>
  <tr>
    <td width="31%" align="center">
      <p align="center">X</td>
    <td width="69%" align="center">
      <p align="center">Rotate block in anti-clockwise direction</td>
  </tr>
</table>
<p>5) When either the top or the second top row of the game
board is not empty, the game end. That is, the state go back to the the state
that just before you start the game. You can either repaint or do not repaint
the game board.</font></p>
<p>6) You have to implement all the 7 types of blocks. The
center of rotation have to be correct.</font></p>
<p>7) The type of a new block have to be decided
randomly.&nbsp;</font></p>
<p>8) The stating position of a block is at the middle of
the third top row. Suppose the width of a row is A, the x coordinate of the
center of the new block is either floor[A/2] or ceiling[A/2].</font></p>
<p>9) Your game at least has level 1. That is, the first
level is playable. One suggested falling speed is [1000ms - (level -1)*100] per
grid square.&nbsp;</font></p>
<p>10) Since you may not implement the level/score display,
you may not keep the score of the player.</font></p>
<p>11) <b>IMPORTANT</b>: The game play is the same as the
given example! In other word, your game should be implemented correctly!&nbsp;</font></p>
<h4>Notes</font></h4>
<p>1) Try to separate the game core components from the UI.</font></p>
<p>2) Remember to initialize the random seed. (i.e. call
srand() )</font></p>
<p>3) You can decide the appearance of the squares. So, you
can use a bitmap to represent a square. One suggestion is to draw the squares by
QPainter::fillRect().</font></p>
<p>4) Thoroughly test and fix all the bugs before submission</font></p>
<p>&nbsp;</p>
<h2>
Grading Scheme</font></font></h2>
<p>
A main objective of this course is to learn and practise
good design principles so that you can eventually write very large programs
comfortably and professionally.&nbsp; As such, you should not just turn
in a program that works.&nbsp; You are expected to have a good design too
so that your program is comprehensible and can be extended easily in case
the specification changes later.&nbsp; Whether you like it or not, it is
a fact in life that user requirements keep changing while a program is
being developed.&nbsp; Your design should be flexible enough to cater for
such possibilities.&nbsp; You should describe your design clearly in a
separate file, named </font><font face="Lucida Console"><font size=-1>README.txt</font></font>.</font>
</p>
<p>As is always the case, you should use meaningful
identifier names in your program so that other people can understand your
code easily.&nbsp; You are also expected to break your program into functionally
distinct pieces kept in different files, with the C++ source files compiled
separately.&nbsp; Brief yet informative comments should be added throughout
the program to improve its comprehensibility.</font>
<p>The grading scheme is as follows:</font>
<ul>
<li>
Program correctness in satisfying specification (70%)</font></li>

<li>
Object-oriented programming style and use of separate
compilation (15%)</font></li>

<li>
Documentation and comprehensibility (15%)</font></li>
</ul>

    <h2><font size="5">What to submit</font></h2>
    <ol>
      <li>All the source code (.cpp and .h), but not the object code or
      executable</li>
      <li>Makefile and README.txt
            <li>Zip (1) and (2) inside a file called <b>tetris.zip</b>, and upload
		the file to CASS before 23:59:00 on the due date.
                <i>Warning: If your submitted project fails to compile,
                your assignment will be treated as <b>late</b> (where late policy applies). </i></li>

</li>
    </ol>

<p>&nbsp;</p>

  <TR>
      <TD vAlign=top><IMG border=0 height=2 src="../../img_files/6699cc.gif" width="100%"> </TD></TR>
        </TABLE>
      <TABLE border=0 cellPadding=0 cellSpacing=0 width="100%">
        <TBODY>
        <TR>
          <TD vAlign=top><FONT color=#999999 size=1>&nbsp;&nbsp;&nbsp;design by
            <A href="http://www.cse.ust.hk/~pang">Tai Pang WU</A>, maintenance
            by <A href="http://www.cse.ust.hk/~cktang/">Chi Keung Tang</A>.
</FONT></TD>
          <TD align=right vAlign=top><A class=no_ul
            href="../../index.html"><FONT
            color=#000000><B>CS 2012h Object Oriented Programming and Data Structures</B>
            </FONT></A><BR>Spring Semester 2013<BR>&nbsp; </TD>
          <TD>&nbsp;</TD>
          <TD vAlign=top width=40><A
            href="../../index.html"><IMG
            border=0 height=40 src="../../img_files/pixel_cube.gif" width=40></A>
          </TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD align=right vAlign=top><FONT color=#999999>Last modified:
Fri Feb  4 17:16:06 HKT 2013
            </FONT> </TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></BODY></HTML>


</body>
</html>
