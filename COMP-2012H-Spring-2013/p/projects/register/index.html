<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>

	<HEAD>

		<TITLE>CS 2012h Project 5: Register</TITLE>

		<META content="text/html; charset=iso-8859-1" http-equiv="Content-Type">

		<META content="MSHTML 5.00.2614.3500" name="GENERATOR">

	</HEAD>

	<BODY bgColor="#ffffff">

		<STYLE type="text/css">BODY { FONT-FAMILY: Arial,Helvetica,sans-serif; FONT-SIZE: 10pt }

	TD { FONT-FAMILY: Arial,Helvetica,sans-serif; FONT-SIZE: 10pt }

	LI { FONT-FAMILY: Arial,Helvetica,sans-serif; FONT-SIZE: 10pt }

	.no_ul { TEXT-DECORATION: none }

	</STYLE>

		<TABLE border="0" cellPadding="0" cellSpacing="5" width="100%">

			<TBODY>

				<TR>

					<TD width="80"><A href="../../index.html"><IMG border="0" height="130" src="../../img_files/logo_eye.gif" width="80"></A></TD>

					<TD vAlign="bottom">

						<TABLE border="0" cellPadding="0" cellSpacing="0" width="100%">

							<TBODY>

								<TR>

									<TD><A class="no_ul" href="../../index.html"><FONT color="#003366" face="Verdana,Arial,Helvetica,sans-serif" size="4"><B>

													<FONT color="#ff9900">Object Oriented Programming and Data Structures</FONT></B></FONT></A>

									</TD>

								</TR>

								<TR>

									<TD vAlign="top"><IMG border="0" height="2" src="../../img_files/6699cc.gif" width="100%">

									</TD>

								</TR>

								<TR>

									<TD><FONT color="#003366" face="Verdana,Arial,Helvetica,sans-serif" size="2"><B>Spring 

												Semester 2011 </B></FONT>

									</TD>

								</TR>

							</TBODY></TABLE>

					</TD>

				</TR>

			</TBODY></TABLE> <!-- Body -->

		

<TABLE width="100%" border="0" align="center" cellPadding="0" cellSpacing="10">

  <TBODY>

				<TR>

					<TD></TD>

				</TR>

				

    <TR> 

      <TD> <BLOCKQUOTE>&nbsp; 

          <TABLE cellPadding="10" width="100%">

            <TBODY>

              <TR> 

                <TD width="288"><IMG alt="Course registration" src="register.gif" width="200"></TD>

                <TD width="100%"> <HR> <H2>Project 5 : Register</H2>

                  <TABLE>

                    <TBODY>

                      <TR> 

                        <TD><B>Assigned : April 26</B> <BR> <B>Due : May 16</B>
                          <P style="MARGIN-TOP: 0px; MARGIN-BOTTOM: -5px"> 

                          <P style="MARGIN-TOP: 0px; MARGIN-BOTTOM: -5px"> 

                          <P style="MARGIN-TOP: 0px; MARGIN-BOTTOM: -5px"> 

                          <BLOCKQUOTE><FONT face="Verdana,Arial,Helvetica,sans-serif"></FONT>&nbsp;</BLOCKQUOTE>

                        <!---TD width="50"> 

                        <TD> <TABLE border="1">

                            <TBODY>

                              <TR> 

                                <TD colSpan="7"> <CENTER>

                                    <B> February/March </B> </CENTER> 

                              <TR> 

                                <TD><B>S </B> 

                                <TD><B>M </B> 

                                <TD><B>T </B> 

                                <TD><B>W </B> 

                                <TD><B>T </B> 

                                <TD><B>F </B> 

                                <TD><B>S </B> 

                              <TR> 
								<TD>
                                <TD> 5 
                                <TD bgColor="#88ff88"> 6 

                                <TD> 7 
                                <TD> 8 

                                <TD> 9 

                                <TD> 10

                                 

                              <TR> 

								<TD> 11
                                <TD> 12

                                <TD> 13

                                <TD> 14 

                                <TD> 15 

                                <TD> 16 

                                <TD> 17 

                                 

                              <TR> 
								<TD>18
                                <TD> 19 

                                <TD> 20 

                                <TD> 21 

                                <TD> 22 

                                <TD> 23 

                                <TD> 24 

									 

                              <TR> 
								<TD>25
                                <TD> 26 

                                <TD> 27 

                                <TD> 28 

                                <TD> 1 

                                <TD> 2 

                                <TD> 3 

                                 

                              <TR> 
								<TD> 4
                                <TD> 5 

                                <TD>  6 

                                <TD> 7
                                <TD> 8
                                <TD> 9
                                <TD> 10
                                
                              
							  <TR>
								<TD > 11
								<TD > 12
								<TD > 13
								<TD > 14
								<TD > 15
								<TD bgcolor="#ff0000"> 16
								</TR>
                            </TBODY>

                          </TABLE---></TD>

                      </TR>

                    </TBODY>

                  </TABLE>

                  <HR> </TD>

              </TR>

            </TBODY>

          </TABLE>

          <H2>Quick Links</H2>

          <OL>
	    <!---LI> <a href="solo.html">Solo</a--->
	    <LI> <a href="p1-ms">Detailed marking scheme</a>
	    <!---LI> <a href="p1test.pl">Automatic marking scheme</a--->
	    <!---LI> <a href="project1grade.htm">Project 1 grades</a--->
	    <LI> Useful notes on <a href="funcPointer.html">function pointers</a>
            <LI> <a href="Register.linux">Sample solution (Linux)</a> 
	    <LI> <a href="Register_linux.dat">Sample data file under Linux</a>
            <LI> <a href="Register.exe">Sample solution (WIN32)</a> 
	    <LI> <a href="Register_win.dat">Sample data file under WIN32</a> <font size = -2>(you can load the sample database)</font>
            <LI> <a href="hash.pdf">Hash table</a> <font size=-2>(COMP171 lecture notes, Fall 2003 

              - courtesy of <a href="http://www.cse.ust.hk/~brown">Michael Brown</a>)</font>
            <LI><a href="layout.ppt">Snapshot of internal data structure during 
              runtime</a></LI><font color=red><b> now animated!</b></font>
            <!---LI><a href="http://www.edc.ncl.ac.uk/pages/comp/tutorial/make/">Makefile 
              Tutorial</a></LI--->

          </OL>

<p><font size=-2>
In the quick links above, although we provide sample WIN32 solution, this is for your easy reference on PC only. Your project <bold>must</bold> compile and run on Linux.</font></P>
          <H2>Project Description</H2>

          <P>Register is an interactive course registration system. In this assignment, 

            you will implement a (simplified) course registration system for HKUST. 

            You will use object-oriented technique to implement the system. 
</p>
          <H3>Logical Design (Database for Course Registration System)</H3>

          <P>The course registration system should maintain information of students, 

            courses and courses&nbsp;selections for each student. Using the terminology 

            of database, there are three <EM><STRONG>tables</STRONG></EM>: Student, 

            Course and CourseSelection:</FONT> </P>

          <table width="53%" border="1" align="center">

            <tr> 

              <th width="29%"><strong>Table</strong></th>

              <th><strong>Attributes</strong></th>

            </tr>

            <tr> 

              <td>Student</td>

              <td><strong><font color="#0000FF">StudentID</font></strong>, StudentName, 

                Year, Gender</td>

            </tr>

            <tr> 

              <td>Course</td>

              <td><strong><font color="#0000FF">CourseCode</font></strong>, CourseName, 

                Credit</td>

            </tr>

            <tr> 

              <td>CourseSelection</td>

              <td><strong><font color="#0000FF">StudentID</font></strong>, <strong><font color="#0000FF">CourseCode</font></strong>, 

                ExamMark</td>

            </tr>

          </table>

          <p>This means that the table Student have 4 attributes, student ID, 

            student name, year and gender. Similarly for the table Course and 

            CourseSelection. 
	   <p>The item in blue and boldface 
            is the <em><strong><font color="#0000FF">primary 
            key</font></strong></em> of the corresponding table, which means that 

            they are <em>unique</em> and <em>not NULL</em>. Therefore, no two 

            different students will have the same student ID, and one student cannot 
            take the same course twice. Every student should have a student 
            ID. If a student (StudentID = &quot;00123456&quot;) selected a course 

            (CourseID = &quot;COMP2012h&quot;) and got 50 marks in the exam, then 

            there will have a record [&quot;00123456&quot;, &quot;COMP2012h&quot;, 

            50] in the table of the CourseSelection.</p>

          <p>Also, there are some constraints in the attributes as follow:</p>

          <table width="94%" border="1" align="center">

            <tr> 

              <th width="16%"><strong>Attribute</strong></th>

              <th width="64%"><strong>Possible data range (logical)</strong></th>

              <th width="20%"><strong>Valid Example</strong></th>

            </tr>

            <tr> 

              <td>StudentID</td>

              <td>numerical string, length = 8</td>

              <td>&quot;03123456&quot;</td>

            </tr>

            <tr> 

              <td>StudentName</td>

              <td>string, 1 &lt;= length &lt;= 32</td>

              <td>&quot;Cheung Pak Ming&quot;</td>

            </tr>

            <tr> 

              <td>Year</td>

              <td>{1,2,3}</td>

              <td>1</td>

            </tr>

            <tr> 

              <td>Gender</td>

              <td>Either <em>Male</em> or <em>Female</em></td>

              <td>Male</td>

            </tr>

            <tr> 

              <td>CourseCode</td>

              <td>string, whose length is either 7 or 8, contains upper letters 

                or numerical characters only. The first four characters are upper 

                letters.</td>

              <td>&quot;COMP300Y&quot;</td>

            </tr>

            <tr> 

              <td>CourseName</td>

              <td>string, 1 &lt;= length &lt;= 50</td>

              <td>&quot;Machine Learning&quot;</td>

            </tr>

            <tr> 

              <td>Credit</td>

              <td>{0,1,2,3,4,5}</td>

              <td>4</td>

            </tr>

            <tr> 

              <td>ExamMark</td>

              <td>Lower bound = 0, Upper bound = 100; or unassigned</td>

              <td>0</td>

            </tr>

          </table>

          <p>The above data range is only logical, you can use any C++ data type 

            (or coding to enforce the constraints) to implement them. Also, it 

            is better to use some constants to define the above constraints, for 

            example: the length of the student ID, which allows efficient modification 

            of the program once there are any changes in the requirements. </p>

          <h3>Hash Table</h3>

          <p>Hash table is a data structure, which allows you to search a record 

            (with a key) in constant (expected) time, instead of linear time as 

            in an array or a linked list. For example, if the course table is 

            stored in a hash table, and the key is the course code, then you can 

            search the course record for &quot;COMP2012h&quot; in constant (expected) 

            time. The detail of the Hash Table can be found in the <a href="hash.pdf">lecture 

            note of COMP171</a>.</p>

          <p>In this assignment, you should implement a (Separate Chaining) hash 

            table, ie. an array of linked lists. The linked lists should be doubly-linked 

            and sorted in the key value (for example, the StudentID in the Student 

            table).</p>

          <p>Also, you must implement the following hash functions (assume the 

            key is a string, represented by (c[0], c[1], ..., c[n]):</p>

          <table width="90%" border="1" align="center">

            <tr> 

              <th width="12%"><strong>Key in HashTable</strong></th>

              <th width="13%"><strong>Number of buckets (m)</strong></th>

              <th width="6%"><strong>Base (b)</strong></th>

              <th width="48%"><strong>Term of c[i]</strong></th>

              <th width="21%"><strong>Hash function</strong></th>

            </tr>

            <tr> 

              <td>StudentID</td>

              <td><div align="center"><font color=red><b>29</b></font></div></td>

              <td><div align="center">10</font></div></td>

              <td>number represented in c[i]</td>

              <td rowspan="2">( Sum_i{term of c[i] * (b^i)} ) % m</td>

            </tr>

            <tr> 

              <td>CourseCode</td>

              <td><div align="center"> <font color=red><b>17</b></font> </div></td>

              <td><div align="center">36</div></td>

              <td><p>( Index of letter in c[i]+10 ), if c[i] is an upper letter<br>

                  ( number represented in c[i] ), if c[i] is a digit</p></td>

            </tr>

          </table>

          <p>As an example, consider the course code &quot;COMP300Y&quot;. The 

            term of the first four letter are (3+10, 15+10, 13+10, 16+10) respectively, 

            since the index of &quot;A&quot; is 1, &quot;B&quot; is 2, and so 

            on. The term of the next three digits are (3, 0, 0) respectively. 

            The term of the last letter &quot;Y&quot; is (25+10). Therefore, the 

            hash value of &quot;COMP300Y&quot; of the above hash function is (13 

            + 25*36 + 23*36^2 + 26*36^3 + 3*36^4 + 35*36^7) % 17.</p>

          <p>It should be noticed that the choice of the number of buckets has 

            a significant effect in the running time of the operations of the 

            hash table and its value should depend on the application. Here, in 
            this assignment, we do not consider this issue (but rather in COMP171).</p>
          <h3>Data Structure Requirement</h3>

          <p>The Student and Course table should be stored in a hash table, with 

            StudentID and CourseCode as the key respectively. Also, the doubly-linked 

            lists inside the hash tables need to be sorted in the alphabetic order 

            of the StudentID and CourseCode respectively.</p>

          <p>The CourseSelection table should be stored in a doubly-linked list, 

            sorted in the key (primary sorting key: StudentID, secondary sorting 

            key: CourseCode). To make the searching of CourseSelection records 

            more efficient, there will have two extra <strong><em>indexes</em></strong>. 

            The index is a Hash table with a key and a pointer, which points to 

            a record in the CourseSelection table. One of the indexes will use 

            StudentID as the key (same hash function as Student table), the other 

            index will use the CourseCode as the key (same hash function as Course 

            table). Therefore, finding whether a student have taken any courses 

            can use the first index, while finding whether a course is taken by 

            any students can use the second index. Also, the doubly-linked lists 

            inside the hash tables (of the indexes) need to be sorted in the alphabetic 

            order of StudentID and CourseCode respectively.</p>

          <h3> Required Operations</FONT></h3>

	You should run the <a href="Register.linux">sample code</a> (Linux version) to 
  	understand the display format and user interaction. The following lists
        the required menu items which you must implement to score full credits.
     <h4>Student Menu</h4>

          <ol>

            <li>Insert a new student</li>

            <li>Modify the name, year, or gender of an existing student </li>

            <li>Delete an existing student</li>

            <li>Query an existing student</li>

          </ol>

          <h4>Course Menu</h4>

          <ol>

            <li>Insert a new course</li>

            <li>Modify the name or credit of an existing course</li>

            <li>Delete an existing course</li>

            <li>Query an existing course</li>

          </ol>

          <h4>Course Registration</h4>

          <ol>

            <li>Add (register) a course for a student</li>

            <li>Drop a course for a student</li>

            <li>Modify the exam mark of a course for a student</li>

            <li>Query an existing registration record</li>

          </ol>

          <h4>Report Generation</h4>

          <p>All the reports generated should be stored in HTML format (with <b>table</b> 

            support), so that the IE/Netscape can view the outputted HTML file.</p>

          <ol>

<li>List all student information (Students.html) [sorted in Student ID]</li>
<li>List all course information (Courses.html)   [sorted in Course Code]</li>
<li>List all the courses of a student (StudentID.html)  [sorted in Course Code]</li>
<li>List all the students of a course (CourseCode.html) [sorted in Student ID]</li>

          </ol>

          <p>For the last type of report, the filename of the report (for the 

            course &quot;COMP2012h&quot;) is &quot;COMP2012h.html&quot;.</p>

          <h4>File I/O</FONT></h4>

          <ol>

            <li>Save all the data in the database to a file (filename is specified 

              by user)</li>

            <li>Load the data from a file (filename is specified by user)</li>

          </ol>

          <p>For the loading part, if the file specified by the user is corrupted 

            (violated any rules specified above) or is not in the correct format, 

            the program should print an error message about this and the database 

            must return to the state before loading. You can design the file format 

            for storing the database, you must store enough information for successful 

            loading. </p>

          <p>The requirements above is only for your easy referencing, you must 

            refer to the <a href="Register.linux">sample program (Linux)</a> for the 

            detail of the above requirement.</p>

          <h2>Hints</FONT></h2>

          <ol>

            <li> Think carefully and design everything first on a paper, and then 

              start to write the code.</li>

            <li>Implement a sorted, doubly-linked list with template. You can 

              make any reasonable assumptions about the class specified in the 

              template arguments.</li>

            <li>Implement a sorted, separate-chaining hash table with template. 

              The buckets must be implemented with sorted, doubly-linked list. 

              You can use the class, implemented in point 2.</li>

            <li>In this project you are allowed to use STL libraries (except hash_map and related hash tables) to make your implementation easier, but you are not required to do so.

            <li>Design and create a class to store a record in each table (Student, 

              Course, CourseSelection)</li>

            <li> Combine the data structure (doubly-linked list and hash table) 

              and the classes for records together.</li>

            <li>You can freely design the classes needed (including the identifiers 

              of classes, members, ...), but it must obey the rules above and 

              it must be reasonable (object-oriented, information hiding, ...).</li>

            <li>You cannot assume the user's input are always in correct format.</li>

            <li>Beware overflow when computing the hash function.</li>

            <li>The Makefile must be written, so that we can compile your program 

              with the command &quot;gmake&quot;. Also, the Makefile must allow 

              &quot;separate compilation&quot;.</li>

            <li>Make sure your program can compile and run under Linux successfully. 

              You cannot argue that your program are successfully run under Window, 

              but not Linux.</li>

            <!---li>The default &quot;g++&quot; is an old version compiler, which 

              might not have full support of template. You might try to use the 

              &quot;/usr/local/GNU/gcc-3.3/sunos-5.8/bin/g++&quot;, which is 

              a newer version and have more support on template. You can define 
              a macro in the Makefile (<a href="sample_makefile">sample</a>). 


</li ---->
	<li> This <a href="ming_makefile"> Makefile </a> is what we used to compile our implementation of Project #5. You can take a look. It may help you to design the .cpp and .h for your own Project #5.
</li>
            <li>In marking your assignment, we will use the &quot;diff -b file1 

              file2 &quot; (Linux command) to test your HTML output against the 

              sample program's HTML output. You can use this command to test your 

              program before submission. The sample program is the Linux version, 

              not the WIN32 version.</li>

            <li>Sometimes, cin, cout, ifstream, or ofstream might be inconvenient 

              in outputting formatted text. In this cases, you can try the functions: 

              printf, fprintf, sprintf, fopen, fread (binary mode), fwrite (binary 

              mode). If you are interested in these functions, you can search 

              them in MSDN or any online C++ tutorial.</li>

            <li>Thoroughly test and fix all the bugs before submission.</li>

          </ol>

          <h2>Grading Scheme</FONT></FONT></h2>

          <p> A main objective of this course is to learn and practice good design 

            principles so that you can eventually write very large programs comfortably 

            and professionally.&nbsp; As such, you should not just turn in a program 

            that works.&nbsp; You are expected to have a good design too so that 

            your program is comprehensible and can be extended easily in case 

            the specification changes later.&nbsp; Whether you like it or not, 

            it is a fact in life that user requirements keep changing while a 

            program is being developed.&nbsp; Your design should be flexible enough 

            to cater for such possibilities.&nbsp; You should describe your design 

            clearly in a separate file, named </FONT><font size="-1">README.txt</font></FONT><font>.</font> 

          </p>

          <p> As is always the case, you should use meaningful identifier names 

            in your program so that other people can understand your code easily.&nbsp; 

            You are also expected to break your program into functionally distinct 

            pieces kept in different files, with the C++ source files compiled 

            separately.&nbsp; Brief yet informative comments should be added throughout 

            the program to improve its comprehensibility.</FONT> 

          <p>The grading scheme is as follows:</FONT> 

          <ul>

            <li> Program correctness in satisfying specification (70%)</FONT> 

            <li> Object-oriented programming style and use of separate compilation 

              (15%)</FONT> 

            <li> Documentation and comprehensibility (15%)</FONT></li>

          </ul>

          <h2>What to submit</h2>

          <ol>

            <li>All the source codes (.cpp and .h), but not the object code or 

              executable </li>

            <li>Makefile and README.txt </li>

            <li>Zip (1) and (2) to a single zip file <b>register.zip</b> and upload the file 
  before 23:59 on the due date<br>
		<i>Warning: If your submitted project fails to
 		compile, your assignment will be treated as <b>late</b> (late policy will apply). </i></li>

          </ol>

          <p>&nbsp;</p>

          <p>&nbsp;</p>

        </BLOCKQUOTE></TD>

				</TR>

			</TBODY></TABLE>

		<TR>

			<TD vAlign="top"><IMG border="0" height="2" src="../../img_files/6699cc.gif" width="100%">

			</TD>

		</TR>

		</TABLE>

		<TABLE border="0" cellPadding="0" cellSpacing="0" width="100%">

			<TBODY>

				<TR>

					<TD vAlign="top"><FONT color="#999999" size="1">&nbsp;&nbsp;&nbsp;design by <A href="http://www.cse.ust.hk/~pakming">

								Pak Ming Cheung</A>, maintenance by <A href="http://www.cse.ust.hk/~cktang/">Chi 

								Keung Tang</A>. </FONT>

					</TD>

					<TD align="right" vAlign="top"><A class="no_ul" href="../../index.html"><FONT color="#000000"><B>CS 

									2012h Object Oriented Programming and Data Structures</B></FONT></A>

						<BR>

						Spring Semester 2013<BR>

						&nbsp;

					</TD>

					<TD>&nbsp;</TD>

					<TD vAlign="top" width="40"><A href="../../index.html"><IMG border="0" height="40" src="../../img_files/pixel_cube.gif" width="40"></A>

					</TD>

				</TR>

				<TR>

					<TD>&nbsp;</TD>

					

      <TD align="right" vAlign="top"><FONT color="#999999">Last modified: 
Fri Feb  4 17:23:44 HKT 2013
        </FONT> </TD>

					<TD>&nbsp;</TD>

					<TD>&nbsp;</TD>

				</TR>

			</TBODY></TABLE>

		</TD></TR></TBODY></TABLE></BODY></HTML>

