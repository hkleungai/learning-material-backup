<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>COMP2012H Self-test Web Page</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="keywords" content="" />
<!--link rel="stylesheet" href="img/Underground.css" type="text/css" /-->
<!-- Bubble tooltips: adopted from: http://www.web-graphics.com/mtarchive/bubbletooltips.html--><!-- For automatic tooltip: -->
<script src="bubbletooltips/bubbletooltips.js" type=text/javascript></script>
<!-- Example:  usage <a href="" title=""></a>  --><!-- For customize tooltip -->
<link media=all href="bubbletooltips/bt.css" type=text/css rel=stylesheet>
<script type="text/javascript" src="jquery/jquery.js"></script>

<!-- JQuery Calender is located here... -->
<style type="text/css">@import url(jquerycalendar/jquery-calendar.css);</style>
<script type="text/javascript" src="jquerycalendar/jquery-calendar.js"></script>

<script type="text/javascript" src="selftestmenu.js"></script>
<link rel="stylesheet" type="text/css" href="selfteststyle.css" />
<!-- highslide stuff: TESTING... -->
<script type="text/javascript" src="highslide/highslide-with-html.js"></script>
<script type="text/javascript">    
    hs.graphicsDir = 'highslide/graphics/';
    hs.outlineType = 'rounded-white';
    hs.outlineWhileAnimating = true;
</script>
<style type="text/css">@import url(highslide/myslide.css);</style>
<!-- END OF highslide stuff -->

</head>

<!-- Start of the main html body -->
<body>

<!-- wrap starts here -->
<div id="main">
<div id="wrap">
        <!-- header -->
        <div id="header">
                <span id="slogan" ></span>
                <!-- tabs -->
                <ul>
                  <li class="showall-solution"><a href="#" title="Show all solutions"><span>Show all solutions</span></a></li>
                  <li class="hideall-solution"><a href="#" title="Hide all solutions"><span>Hide all solutions</span></a></li>
                  <li id="tabShowNormalView"><a href="#" title="The normal webpage view"><span>Web view</span></a></li>
                  <li id="tabShowAllOnePage"><a href="#" title="The view which is suitable for printing"><span>Printable view</span></a></li>
                  <li id="tabIncFontSize"><a href="#" title="Increase the font size" ><span >++ Font size</span></a></li>
                  <li id="tabDecFontSize"><a href="#" title="Decrease the font size" ><span >-- Font size</span></a></li>
                </ul>
        </div>
        <!-- main block: right panel -->
        <!--div id="main"-->

        <!--  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Test Content %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  -->


    <div id='block9' style="display:block;">
      <h1>Self-test 9: <br /> <!-- [Nov 9-13] --> Scope and separate compilation</h1>
      <OL>
	
	<LI>
	<div class="question-wrapper">
	<div class="question-content">
        <p>What is the output of the following program?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;

int Number; //global variable

void Increment(int IncNum)
{
        IncNum = IncNum + 3;
        cout << IncNum << endl;
        Number = Number + 1;
}

int main(void)
{
        Number = 1;
        Increment(Number);
        cout << Number << endl;
        return 0;
}
</pre>
	</div>  
	<div class="toggle-solution">Solution</div>
	<div class="solution-content">
	  <p>
	  <b>4</b>.<br>
	  <b>2</b>
	  </p>
	</div>          
	</div>
        <hr />
	</LI>

	

	<LI>
	<div class="question-wrapper">
	<div class="question-content">
	  <p>What is the output of the following program?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;

int Number; //global variable

void Increment(int&amp; IncNum)
{
        IncNum = IncNum + 3;
        cout << IncNum << endl;
        Number = Number + 1;
}

int main(void)
{
        Number = 1;
        Increment(Number);
        cout << Number << endl;
        return 0;
}
</pre>
	</div>  
	<div class="toggle-solution">Solution</div>
	<div class="solution-content">
	  <p>
	  <b>4</b><br>
	  <b>5</b></p>
	</div>          
	</div>
	<hr />
	</LI>


	<LI>
	<div class="question-wrapper">
	<div class="question-content">
        <p>What is the output of the following program?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;

int Number; //global variable

void Increment(int Number)
{
        Number = Number + 1;
        cout << Number << endl;
}

int main(void) 
{
        Number = 1;
        Increment(Number);
        cout << Number << endl;
        return 0;
}
</pre>
	</div>  
	<div class="toggle-solution">Solution</div>
	<div class="solution-content">
	  <p>
	  <b>2</b><br>
	  <b>1</b></p>
	</div>          
	</div>
	<hr />
	</LI>

	
	<LI>
	<div class="question-wrapper">
	<div class="question-content">
        <p>What is the output of the following program?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;

int A,B,C,D;

void Two(int A, int B, int&amp; D)
{
        B = 21; D = 23;
        cout &lt;&lt; A &lt;&lt; " " &lt;&lt; B &lt;&lt; " " &lt;&lt; C &lt;&lt; " " &lt;&lt; D &lt;&lt; endl;
}

void One(int A, int B, int&amp; C)
{
        int D;
        A = 10; B = 11; C = 12; D = 13;
        cout &lt;&lt; A &lt;&lt; " " &lt;&lt; B &lt;&lt; " " &lt;&lt; C &lt;&lt; " " &lt;&lt; D &lt;&lt; endl;
        Two(A,B,C);
}

int main(void)
{
        A = 1; B = 2; C = 3; D = 4;
        One(A,B,C);
        cout &lt;&lt; A &lt;&lt; " " &lt;&lt; B << " " &lt;&lt; C &lt;&lt; " " &lt;&lt; D &lt;&lt; endl;
        Two(A,B,C);
        cout &lt;&lt; A &lt;&lt; " " &lt;&lt; B &lt;&lt; " " &lt;&lt; C &lt;&lt; " " &lt;&lt; D &lt;&lt; endl;
        return 0;
}
</pre>
	</div>  
	<div class="toggle-solution">Solution</div>
	<div class="solution-content">
	  <p>
          <b>10 11 12 13</b><br>
          <b>10 21 23 23</b><br>
          <b>1 2 23 4</b><br>
          <b>1 21 23 23</b><br>
          <b>1 2 23 4</b></p>
	</div>          
	</div>
	<hr />
	</LI>
        

	<LI>
	<div class="question-wrapper">
	<div class="question-content">
	  <p>Which of the following statements is NOT correct regarding separate compilation?</p>             
	  <OL TYPE="A">
	    <li>Repeat the definitions of global constants.</li>
	    <li>You must add the keyword extern for external variables.</li>
	    <li>You must add the keyword extern for external functions.</li>
	    <li>Repeat the function prototypes of external functions.</li>
	  </ol>
	</div>  
	<div class="toggle-solution">Solution</div>
        <div class="solution-content">
	  <p> <b> C</b>. The keyword extern is optional because all C++ functions are global. </p>
	</div>          
	</div>
	<hr />  
	</LI>

	<LI>
	<div class="question-wrapper">
	<div class="question-content">
	  <p>Given the definition of the struct</p>
<pre>
struct node
{
        int value;
        node left;
        node right;
};
</pre>
	  <p>(a) What is the problem with the above definition? How to fix the bug?</p>
	  <p>(b) After fixing the bug, what is the output of the following code: <br />
	  <i>sizeof(node);</i> </p>

	</div>
	<div class="toggle-solution">Solution</div>     
	<div class="solution-content">
	  <p><b></b> (a) Here, we have a recursion definition of node, which is not possible in C++. The correct way should be as follow:</p>
<pre>
struct node
{
        int value;
        node *left; // pointer to the left node
        node *right; // pointer to the right node 
};
</pre>
	  <p>(b) <b>12 bytes (in 32-bit machine) and 20 bytes (in 64-bit machines)</b>. <i>sizeof</i> computes number of bytes in a struct. In 32-bit machine, each address uses 4 bytes. In 64-bit machine (e.g. in our lab's linux machines), each address uses 8 bytes. So, <i>sizeof(node) = sizeof(int) + 2*sizeof(node*)</i>. And, in a 32-bit machine, it is equal to 4 + 4*2 = 12 bytes; in a 64-bit machine, it is equal to 4 + 8*2 = 20 bytes.</p> 
	</div>
	</div>
	<hr />
	</LI>

      </OL>
    </div>



        <!-- wrap ends here; don't delete this /div --> 
        </div>

</div>
</div>

</body>
</html>
