<html><head><title>Anand@FSE&#39;12</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=wAPX1HepqA24RkYW1AuHYA');.lst-kix_rwjev7jvyxep-3>li:before{content:"\0025cf  "}.lst-kix_rwjev7jvyxep-8>li:before{content:"\0025a0  "}ul.lst-kix_s7qc3hq0vmu4-0{list-style-type:none}.lst-kix_rwjev7jvyxep-0>li:before{content:"\0025cf  "}.lst-kix_5keb2alczugi-5>li:before{content:"\0025a0  "}.lst-kix_pe9x0zq2boq2-3>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-3,decimal) ". "}.lst-kix_5keb2alczugi-8>li:before{content:"\0025a0  "}.lst-kix_8x4guou2uibq-4>li:before{content:"\0025cb  "}.lst-kix_rwjev7jvyxep-5>li:before{content:"\0025a0  "}.lst-kix_rwjev7jvyxep-2>li:before{content:"\0025a0  "}ul.lst-kix_s7qc3hq0vmu4-6{list-style-type:none}ul.lst-kix_s7qc3hq0vmu4-5{list-style-type:none}.lst-kix_pe9x0zq2boq2-0>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-0}ul.lst-kix_s7qc3hq0vmu4-8{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-1.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-1 0}ul.lst-kix_s7qc3hq0vmu4-7{list-style-type:none}ul.lst-kix_s7qc3hq0vmu4-2{list-style-type:none}ul.lst-kix_s7qc3hq0vmu4-1{list-style-type:none}ul.lst-kix_s7qc3hq0vmu4-4{list-style-type:none}ul.lst-kix_s7qc3hq0vmu4-3{list-style-type:none}.lst-kix_8x4guou2uibq-8>li:before{content:"\0025a0  "}.lst-kix_s7qc3hq0vmu4-3>li:before{content:"\0025cf  "}.lst-kix_8x4guou2uibq-7>li:before{content:"\0025cb  "}ul.lst-kix_8x4guou2uibq-4{list-style-type:none}ul.lst-kix_8x4guou2uibq-5{list-style-type:none}ul.lst-kix_8x4guou2uibq-6{list-style-type:none}ul.lst-kix_8x4guou2uibq-7{list-style-type:none}ul.lst-kix_8x4guou2uibq-8{list-style-type:none}.lst-kix_8x4guou2uibq-5>li:before{content:"\0025a0  "}.lst-kix_5keb2alczugi-0>li:before{content:"\0025cf  "}.lst-kix_pe9x0zq2boq2-6>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-6}ol.lst-kix_pe9x0zq2boq2-7.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-7 0}.lst-kix_8x4guou2uibq-0>li:before{content:"\0025cf  "}.lst-kix_s7qc3hq0vmu4-0>li:before{content:"\0025cf  "}ul.lst-kix_8x4guou2uibq-1{list-style-type:none}ul.lst-kix_8x4guou2uibq-0{list-style-type:none}.lst-kix_pe9x0zq2boq2-1>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-1}ul.lst-kix_8x4guou2uibq-3{list-style-type:none}.lst-kix_5keb2alczugi-7>li:before{content:"\0025cb  "}ul.lst-kix_8x4guou2uibq-2{list-style-type:none}.lst-kix_8x4guou2uibq-6>li:before{content:"\0025cf  "}ul.lst-kix_rwjev7jvyxep-1{list-style-type:none}ul.lst-kix_rwjev7jvyxep-0{list-style-type:none}.lst-kix_pe9x0zq2boq2-5>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-5,lower-roman) ". "}ol.lst-kix_pe9x0zq2boq2-8.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-8 0}ul.lst-kix_rwjev7jvyxep-8{list-style-type:none}ul.lst-kix_rwjev7jvyxep-7{list-style-type:none}ul.lst-kix_rwjev7jvyxep-6{list-style-type:none}ul.lst-kix_rwjev7jvyxep-5{list-style-type:none}ul.lst-kix_rwjev7jvyxep-4{list-style-type:none}ul.lst-kix_rwjev7jvyxep-3{list-style-type:none}ul.lst-kix_rwjev7jvyxep-2{list-style-type:none}.lst-kix_pe9x0zq2boq2-2>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-2}ol.lst-kix_pe9x0zq2boq2-0{list-style-type:none}.lst-kix_pe9x0zq2boq2-4>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-4}ol.lst-kix_pe9x0zq2boq2-1{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-2{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-3{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-4{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-5{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-6{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-7{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-8{list-style-type:none}.lst-kix_pe9x0zq2boq2-3>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-3}.lst-kix_rwjev7jvyxep-4>li:before{content:"\0025cb  "}ol.lst-kix_pe9x0zq2boq2-5.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-5 0}.lst-kix_s7qc3hq0vmu4-6>li:before{content:"\0025cf  "}ol.lst-kix_pe9x0zq2boq2-0.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-0 0}.lst-kix_s7qc3hq0vmu4-4>li:before{content:"\0025cb  "}.lst-kix_5keb2alczugi-2>li:before{content:"\0025a0  "}.lst-kix_rwjev7jvyxep-1>li:before{content:"\0025cb  "}.lst-kix_pe9x0zq2boq2-8>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-8,lower-roman) ". "}.lst-kix_8x4guou2uibq-3>li:before{content:"\0025cf  "}.lst-kix_pe9x0zq2boq2-0>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-0,decimal) ". "}.lst-kix_pe9x0zq2boq2-8>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-8}.lst-kix_rwjev7jvyxep-7>li:before{content:"\0025cb  "}ol.lst-kix_pe9x0zq2boq2-2.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-2 0}.lst-kix_pe9x0zq2boq2-6>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-6,decimal) ". "}.lst-kix_8x4guou2uibq-2>li:before{content:"\0025a0  "}.lst-kix_s7qc3hq0vmu4-1>li:before{content:"\0025cb  "}.lst-kix_pe9x0zq2boq2-2>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-2,lower-roman) ". "}.lst-kix_5keb2alczugi-4>li:before{content:"\0025cb  "}ul.lst-kix_5keb2alczugi-7{list-style-type:none}ul.lst-kix_5keb2alczugi-8{list-style-type:none}ul.lst-kix_5keb2alczugi-5{list-style-type:none}ul.lst-kix_5keb2alczugi-6{list-style-type:none}ul.lst-kix_5keb2alczugi-3{list-style-type:none}ul.lst-kix_5keb2alczugi-4{list-style-type:none}ul.lst-kix_5keb2alczugi-1{list-style-type:none}ul.lst-kix_5keb2alczugi-2{list-style-type:none}ol.lst-kix_pe9x0zq2boq2-4.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-4 0}ul.lst-kix_5keb2alczugi-0{list-style-type:none}.lst-kix_s7qc3hq0vmu4-5>li:before{content:"\0025a0  "}ol.lst-kix_pe9x0zq2boq2-6.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-6 0}.lst-kix_pe9x0zq2boq2-7>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-7,lower-latin) ". "}.lst-kix_5keb2alczugi-6>li:before{content:"\0025cf  "}.lst-kix_pe9x0zq2boq2-5>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-5}.lst-kix_5keb2alczugi-1>li:before{content:"\0025cb  "}.lst-kix_s7qc3hq0vmu4-7>li:before{content:"\0025cb  "}.lst-kix_s7qc3hq0vmu4-2>li:before{content:"\0025a0  "}.lst-kix_rwjev7jvyxep-6>li:before{content:"\0025cf  "}.lst-kix_5keb2alczugi-3>li:before{content:"\0025cf  "}.lst-kix_pe9x0zq2boq2-7>li{counter-increment:lst-ctn-kix_pe9x0zq2boq2-7}.lst-kix_s7qc3hq0vmu4-8>li:before{content:"\0025a0  "}ol.lst-kix_pe9x0zq2boq2-3.start{counter-reset:lst-ctn-kix_pe9x0zq2boq2-3 0}.lst-kix_pe9x0zq2boq2-1>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-1,lower-latin) ". "}.lst-kix_8x4guou2uibq-1>li:before{content:"\0025cb  "}.lst-kix_pe9x0zq2boq2-4>li:before{content:"" counter(lst-ctn-kix_pe9x0zq2boq2-4,lower-latin) ". "}ol{margin:0;padding:0}.c1{padding-left:0pt;line-height:1.15;text-align:justify;direction:ltr;margin-left:36pt}.c9{font-size:12pt;text-decoration:underline;font-weight:bold}.c17{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c7{padding-left:0pt;direction:ltr;margin-left:36pt}.c10{padding-left:0pt;direction:ltr;margin-left:72pt}.c8{margin:0;padding:0}.c2{line-height:1.15;direction:ltr}.c3{height:11pt}.c6{color:#ff0000}.c16{direction:ltr}.c12{text-align:center}.c14{font-size:16pt}.c0{font-style:italic}.c13{font-weight:bold}.c4{text-align:justify}.c15{font-size:14pt}.c18{font-size:12pt}.c19{text-decoration:underline}.c11{color:#ff00ff}.c20{color:#0000ff}.c5{font-family:"Times New Roman"}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:"Georgia";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Arial";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:"Arial";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:"Arial";padding-bottom:2pt}</style></head><body class="c17"><p class="c2 c12"><span class="c13 c15">Automated Concolic Testing of Smartphone Apps</span></p><p class="c2 c12"><span class="c18">Reading report prepared by Yepang Liu</span></p><p class="c2"><span class="c9">Citation</span></p><p class="c2 c4"><span class="c5">Saswat Anand, Mayur Naik, Hongseok Yang, Mary Jean Harrold. Automated Concolic Testing of Smartphone Apps.</span><span class="c5 c13">&nbsp;</span><span class="c5">In </span><span class="c0 c5">Proceedings of the 20th ACM SIGSOFT Symposium on the Foundations of Software Engineering </span><span class="c5">(</span><span class="c0 c5">FSE &lsquo;12</span><span class="c5">), Research Triangle Park, NC, November 2012.</span></p><p class="c2 c3"><span class="c13 c15 c19"></span></p><p class="c2"><span class="c9">Abstract</span></p><p class="c2 c4"><span>We present an algorithm and a system for generating input events to exercise smartphone apps. Our approach is based on concolic testing and generates sequences of events automatically and systematically. It alleviates the path explosion problem by checking a condition on program executions that identifies subsumption between different event sequences. We also describe our implementation of the approach for Android, the most popular smartphone app platform, and the results of an evaluation that demonstrates its effectiveness on five Android apps.</span></p><p class="c2 c3"><span class="c18"></span></p><p class="c2"><span class="c9">Key Targeted Problem</span></p><p class="c2"><span>Input events generation for event-driven program in general, and smartphone apps in particular.</span></p><p class="c2 c3"><span></span></p><p class="c2"><span class="c9">Inputs and Outputs</span></p><p class="c2"><span>Inputs: Java bytecodes of the classes in Android SDK and the application under test</span></p><p class="c2"><span>Outputs: a set of tests, each denoting an GUI event sequence</span></p><p class="c2 c3"><span></span></p><p class="c2"><span class="c9">Research and Idea Pattern</span></p><p class="c2 c4"><span>This paper targets at a well known problem: test input generation. While many techniques for conventional programs have been proposed (e.g., KLEE, DART), generating inputs for smartphone applications has its uniqueness (e.g., the most important inputs are events and smartphone apps are incomplete programs). </span><span class="c11">[Hao: What do you mean by incomplete programs.]</span><span>&nbsp;This paper adopts the standard concolic execution technique for generating input event sequences. The major novelty is that the authors proposed a pruning technique based on the subsumption relation to address the scalability issue of the standard concolic execution technique (due to path explosion)</span><span class="c6">[wurongxin: In terms of the branch coverage, this pruning technique will not have any problem. However, in practice, will some bugs be triggered by a certain short sequence instead of a long sequence?]</span><span>. The reduction provides a formal guarantee that the input event sequences generated by their technique can achieve exactly the same branch coverage as the sequences generated by the standard concolic execution technique. </span><span class="c6">[scc: Is the approach applicable only to branch coverage?]</span></p><p class="c2 c4"><span class="c20">[yueqi: How do they detect the side-effect by native libraries because most of the code running by Android applications are in fact in native libraries? If they only detect no write events by the APP itself, it does not make sense since it is a dynamic approach. If they want to guarantee the reduction is sound, they must have way to deal with native code. Unlike static approaches that already make assumption about environments, dynamic approaches must deal with this issue.]</span></p><p class="c2 c3 c4"><span></span></p><p class="c2 c4"><span class="c9">Major Contributions</span></p><ol class="c8 lst-kix_pe9x0zq2boq2-0 start" start="1"><li class="c1"><span>A concolic execution based approach to systematically generating input events for smartphone apps.</span></li><li class="c1"><span>An efficient algorithm, ACTEVE to alleviate the path explosion problem faced by the standard concolic execution technique.</span></li><li class="c1"><span>An implementation and evaluation of ACTEVE. They used controlled experiments on five popular open-source Android applications to demonstrate the effectiveness and efficiency of their approach.</span></li></ol><p class="c2 c3 c4"><span></span></p><p class="c2 c4"><span>&nbsp;</span><span class="c9">Paper Summary</span></p><p class="c2 c4"><span>The quality of smartphone applications is very important. There is a growing need for tools that can apply to all stages of a smartphone app&rsquo;s life cycle. Some features of smartphone apps make static analysis very challenging: event-driven programming paradigm (GUI), multi-threading, inter-process communications, databases etc.. Thus dynamic analysis techniques are commonly adopted in reality. This paper targets at generating inputs (specifically, GUI event sequences for smartphone apps) for dynamic analysis techniques in a fully automated manner. Existing techniques for generating GUI events have some limitations. Capture-replay based techniques are specific to platforms and not portable. Model-based techniques are general enough, but they require extra human efforts to provide the model (e.g., GUI layouts). As such, these techniques cannot be effectively adopted. </span></p><p class="c2 c4"><span>This paper proposed a novel concolic execution based approach for systematic generation of input events to exercise smartphone apps. It generates single events (e.g., tap events) using standard concolic execution technique (similar to the techniques adopted in DART and KLEE, I will not describe the details in this report). To generate a sequence of input events, the concolic execution technique can be iteratively applied. For example, to generate event sequences with length up to 2, we can generate all single-event sequences in the first iteration and extend these sequences in the second iteration (this naive algorithm ALLSEQS is shown in the following figure). </span></p><p class="c2 c3 c4"><span></span></p><p class="c2 c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 338.00px; height: 171.00px;"><img alt="" src="images/image00.png" style="width: 338.00px; height: 171.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2 c4"><span>The symex(&#1055;i) operation in the algorithm generates all one-step extension for the event sequences in &#1055;i. However, experiments showing that ALLSEQS cannot scale as the length of the event sequences increases. For example, ALLSEQS does not terminate within 12 hours when it is used to generate four-event sequences for a moderate size app. The authors examined the generated event sequences and found out there is significant redundancy in these sequences. Many events in the sequences do not affect program states (e.g., they never write to any memory locations). The author further investigated other apps, and observed such read-only events are prevalent due to diverse reasons. First, many GUI widgets never react to any events, and are used for displaying information only (not actionable). Second, even actionable widgets can be commonly disabled in certain application states. Third, GUI-based programs are conservative in updating states to avoid unnecessary re-rendering of GUI widgets. </span><span class="c6">[scc: Interesting observations.]</span></p><p class="c2 c4"><span>Based on this observation, the authors proposed a pruning technique based on the subsumption relation (formally defined in the paper). Their insight is that if a sequence </span><span class="c0">s</span><span>&nbsp;is subsumed by another suquence </span><span class="c0">s&rsquo;</span><span>, then we can avoid generating extensions for </span><span class="c0">s</span><span>, and instead generates extensions for </span><span class="c0">s&rsquo;</span><span>&nbsp;only. They show that the pattern of read-only events is a subsumption relation, and propose a new efficient algorithm called ACTEVE. The general idea is that ACTEVE prunes event-sequences that end with a read-only event in each iteration. The following figure gives ACTEVE algorithm. </span></p><p class="c2 c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 192.00px;"><img alt="" src="images/image01.png" style="width: 346.00px; height: 192.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2 c4"><span>ACTEVE can scale to large K as compared with ALLSEQS. The reasons are: first, the pruning can be efficiently done by checking whether an event handler changes global data; second, in each iteration, fewer event sequences need to be extended due to pruning. Such pruning is safe and provides a formal guarantee: all branches covered by the event sequences generated by ALLSEQS can also be covered by the sequences generated by ACTEVE. </span><span class="c6">[scc: The technique seems complementary to Yueqi&rsquo;s technique. The authors leverage some interesting observation made on Android event handlers.]</span></p><p class="c2 c3 c4"><span></span></p><p class="c2 c4"><span class="c9">Evaluation</span></p><p class="c2 c4"><span>To demonstrate the effectiveness and efficiency of their approach, the authors selected five popular open-source Android applications, and conducted two sets of controlled experiments.</span></p><p class="c2 c4"><span>(1) Experiment 1</span></p><ul class="c8 lst-kix_8x4guou2uibq-0 start"><li class="c7"><span>Goal: measure the improvement in efficiency of ACTE</span><span>VE</span><span>&nbsp;over A</span><span>LL</span><span>S</span><span>EQS</span></li><li class="c7"><span>Experimental setup</span></li></ul><ul class="c8 lst-kix_8x4guou2uibq-1 start"><li class="c10"><span>K = 4 for RMP, Translate, and Sprite</span></li><li class="c10"><span>K = 3 for Timer, K = 2 for Ringdroid (when K = 4, A</span><span>LL</span><span>S</span><span>EQS</span><span>&nbsp;cannot finish within 12 hours) </span></li></ul><ul class="c8 lst-kix_8x4guou2uibq-0"><li class="c7"><span>Comparison metrics</span></li></ul><ul class="c8 lst-kix_8x4guou2uibq-1 start"><li class="c10"><span>running time of each algorithm</span></li><li class="c10"><span>the number of feasible paths found by each algorithm</span></li><li class="c10"><span>the number of path constraint solvings when running each algorithm</span></li></ul><ul class="c8 lst-kix_8x4guou2uibq-0"><li class="c7"><span>Conclusion: ACTEVE is significantly more efficient than ACTSEQS</span></li></ul><p class="c16"><span>(2) Experiment 2</span></p><ul class="c8 lst-kix_s7qc3hq0vmu4-0 start"><li class="c7"><span>study the reduction in number of paths by ACTE</span><span>VE </span><span>(pruning capability)</span></li><li class="c7"><span>Experimental setup</span></li></ul><ul class="c8 lst-kix_s7qc3hq0vmu4-1 start"><li class="c10"><span>K = 4 for all subjects</span></li></ul><ul class="c8 lst-kix_s7qc3hq0vmu4-0"><li class="c7"><span>Comparison metrics</span></li></ul><ul class="c8 lst-kix_s7qc3hq0vmu4-1 start"><li class="c10"><span>the number of feasible paths that </span><span class="c0">symex</span><span>&nbsp;operation explores</span></li><li class="c10"><span>the number of feasible paths that remain after the </span><span class="c0">prune</span><span>&nbsp;operation</span></li></ul><ul class="c8 lst-kix_s7qc3hq0vmu4-0"><li class="c1"><span>Conclusion: their pruning technique can effectively remove redundant paths, and thus boosts the performance of their event sequence generation algorithm.</span></li></ul><p class="c2 c3 c4"><span></span></p><p class="c2 c4"><span class="c9">Reflection</span></p><ul class="c8 lst-kix_rwjev7jvyxep-0 start"><li class="c1"><span>Although this paper addresses the well known input generation problem, it targets at a special domain. The proposed technique directly applies to the smartphone applications. This is the novelty of the paper. </span></li><li class="c1"><span>This paper proposed a simple solution (i.e., read-only events based pruning) to address the scalability issue of the standard concolic execution technique when it is applied to generate input event sequences for smartphone applications. The paper provides a solid proof that the proposed algorithm can generate event sequences that would achieve exactly the same branch coverage as the sequences generated by the standard concolic execution technique. This formal guarantee is the major strength of this paper. </span></li></ul></body></html>