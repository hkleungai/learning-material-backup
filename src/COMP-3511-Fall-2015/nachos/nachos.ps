%!PS-Adobe-2.0
%%Creator: dvipsk 5.66a Copyright 1986-97 Radical Eye Software (www.radicaleye.com)
%%Title: bk.dvi
%%Pages: 16
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Palatino-Bold Palatino-Roman Palatino-Italic CMSY10
%%+ CMMI10 Times-Roman
%%EndComments
%DVIPSCommandLine: /usr/cs/bin/dvips -Pcm -D1200 -r0 -N0 -K0 bk.dvi -o
%+ nachos.ps
%DVIPSParameters: dpi=1200
%DVIPSSource:  TeX output 1997.10.02:0737
%%BeginProcSet: tex.pro
%!
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{dup length product length le{dup length product
exch 0 exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}
ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false RMat{BDot}
imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1 false
RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform round
exch round exch itransform moveto rulex 0 rlineto 0 ruley neg rlineto
rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail{dup
/delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}B /d{
-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{4 M}B
/w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{p 1 w}
B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p a}B
/bos{/SS save N}B /eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont cvx]cvx def}def /ObliqueSlant
{dup sin S cos div neg}B /SlantFont{4 index mul add}def /ExtendFont{3 -1
roll mul exch}def /ReEncodeFont{/Encoding exch def}def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale true def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
%%BeginFont: CMMI10
%!PS-AdobeFont-1.1: CMMI10 1.100
%%CreationDate: 1996 Jul 23 07:53:57

% Copyright (C) 1997 American Mathematical Society.  All Rights Reserved.

11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 62 /greater put
readonly def
/FontBBox{-32 -250 1048 750}readonly def
/UniqueID 5087385 def
currentdict end
currentfile eexec
80347982ab3942d930e069a70d0d48311d725e830d1c76fba12e12486e989c98
74c2b527f0925722787027f44470d484262c360cdfdddf3657533a57bb16f730
48bfbbfcb73a650484015441fdc837add94ac8fbd2022e3ec8f115d4b4bb7b7f
15388f22cc6198efe768bd9fceb3446ee4a8dc27d6cd152485384ef5f59381ff
da43f2d20c8fb08aa27ab2015b774db10dacfdcd33e60f178c461553146ab427
bdd7da12534ba078ad3d780414930da4f8d58abefd45db119b10eb409dd89792
3c6e705479464a4b310b58348c4b42393988fef4925cf984423aaf65fea9f0e6
4629953bcf50b919d968d99bd185f83112b2759cc411764e9bde677f57c5ee5a
c555448d5f81a16259ded1e11bf4119d53e8ab07a802df900d3a2d5ccc1c6876
d29c5e9effb7af3ef83400b0910c07873a8c56fa7b1eb1ba426043b00cc95dbe
dc6e136cbbbcb3f67509964f9f281ebf81fe5b018122eaf66c4a838487e82e18
6e006093042848a903efb3469ab6b4049767aadb95c30408dfd58d8a10f4cb22
168decd9f3ee100f07b49aa44c92139b669cc312ba20192454eb2375be6284b0
26659d964b96ae82d4942e758027fcf23c25ed01115af27ce7f20efe2a822bb6
84004f20243a49c9e93301fc21b80815c033c3e2ba58ef53da2157d524b395f2
b37abca13bc6a2f42e824ab7e47106176b0d6db267fbb795ac7425582df2e3dc
55863468a9200742bd7b552c48f8cf58bc21343bd3b95abfa140f33f37c6f3f7
8b0d8a5154eb7c1f62ec598267f13e841a3e64172663935ac8b665d86540d316
ddece329c008049c5e74b27d59022c5515059bc3b89370b1bc6a169c888bb325
e0b74282d6f053a50da4024ed1e433271a32ab8c17d41c632b41cf9f3ecd5fe1
24daf7aea7ce8a63047b245822930d517df7baaafa69d2d17f7d93cebd45416d
f3459365434123a76ccf883a4973bab19807e1f0c4bab03a45f7ed69ff2660ff
3963e4def11001eec4238c368a39d874fd30b3c14f4186ec7700fbce22abe468
eb32baf7b0164f8f21a9b5e706b91411faaa44467cb2180ab03de375c1ab93e9
76e11ab92fdd4a7280a6d1a8dc65c4c89d04c8ed6988045a2a3de9a4c7b1efd3
75b79ee3d49569213fcb818f6f1cf250f5e595c4b2c7c1af70ac5d2e0c6460dc
1ec49ea5e8512f7db9a3ea1e7f62d31fca3dcd885125f67623e749c6d05209c6
83be0545748dce3b76460f75c794c37689b1213e5eabf56332a51b4e9fcd612e
45a122463dd68f3553b127d8cce7b8f59941af67fd54c656a810ccbbaa59fb1a
05aaec0aa0263387e31854cfffb805e05c05a5a68f4ae4336f5a593904fff23e
9406d2b68176d3549c81865f832f71c467356d962005f580b42d709b393ccfcd
40193f29bcf84e1200f77ce6505d146a1cd2c9ac708cd9c2a8fe39504ed888cb
cae8be7c586701e18f68f7898e7988fa4c5f5d40bd926af409f1cd65211db2fc
513df180c0746e6cea0660
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark

%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57

% Copyright (C) 1997 American Mathematical Society.  All Rights Reserved.

11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 15 /bullet put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
/UniqueID 5000820 def
currentdict end
currentfile eexec
9b9c1569015f2c1d2bf560f4c0d52257bac8ced9b09a275ab231194ecf829352
05826f4e975dcecec72b2cf3a18899ccde1fd935d09d813b096cc6b83cdf4f23
b9a60db41f9976ac333263c908dcefcdbd4c8402ed00a36e7487634d089fd45a
f4a38a56a4412c3b0baffaeb717bf0de9ffb7a8460bf475a6718b0c73c571145
d026957276530530a2fbefc6c8f67052788e6703bb5ee49533870bca1f113ad8
3750d597b842d8d96c423ba1273ddd32f3a54a912a443fcd44f7c3a6fe3956b0
aa1e784aaec6fce08dae0c76da9d0a3eba57b98a6233d9e9f0c3f00fcc6b2c6a
9ba23af389e6dfff4efec3de05d6276c6be417703ce508377f25960ef4ed83b4
9b01b873f3a639ce00f356229b6477a081933fef3bb80e2b9dffa7f75567b1fa
4d739b772f8d674e567534c6c5bbf1cf615372be20b18472f7aa58be8c216dbd
df81cc0a86b6d8318ca68fe22c8af13b54d7576fe4ca5a7af9005ea5cc4edb79
c0ab668e4fec4b7f5a9eb5f0e4c088cd818ecc4feb4b40ec8bd2981bf2336074
b64c4301c39221774c4482ad2518015bc80e2e96dabb4bdf5fbde00562af1aa6
90336bfc814e8312dd70402bf02d57a3ffe05e732cdfddafc00d318f83a79439
5eb8460eed2f5f1e7a2726c02f81b69917baaf163033a49dc10f61f35c72d3c9
33039c21bc71a9b4b25bc7573429924340b16d1cdfe6a6b93450c50f15b6229f
be901e24b3d21bf434b7f60802dfa0bb3462a12bff97ca01cf591cba483a1699
da979b8e79d363c1849565820b5d62eb82d4e481b26944bdb6f0f02642252a86
35e29f2f3f5faa4444aa607bfd3bf4ac98653fed
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark

%%EndFont 
TeXDict begin 40258431 52099146 1000 1200 1200 (bk.dvi)
@start /Fa 107[74 74 147[{TeXBase1Encoding ReEncodeFont}2
166.044 /Times-Roman rf /Fb 193[129 62[{}1 166.044 /CMMI10
rf /Fc 134[111 1[166 1[122 66 88 78 1[122 111 122 177
66 122 1[66 122 111 1[100 122 2[100 10[155 1[133 122
4[166 199 6[111 3[133 12[100 100 100 100 100 2[50 46[{
 TeXBase1Encoding ReEncodeFont }31 199.253 /Palatino-Bold
rf /Fd 135[83 138 1[101 55 74 65 1[101 92 1[148 1[101
1[55 1[92 65 83 101 74 1[83 16[101 1[138 7[92 3[111 7[42
8[83 2[42 46[{ TeXBase1Encoding ReEncodeFont }24 166.044
/Palatino-Bold rf /Fe 240[83 15[{}1 166.044 /CMSY10 rf
/Ff 134[133 1[199 133 146 80 106 93 1[146 133 146 213
80 2[80 146 133 93 120 146 106 146 120 13[146 3[199 199
4[93 5[173 159 186 11[120 120 120 120 120 2[60 46[{
 TeXBase1Encoding ReEncodeFont }34 239.103 /Palatino-Bold
rf /Fg 134[83 75 124 83 91 50 66 58 1[91 83 91 133 50
2[50 91 83 58 75 91 66 91 75 12[100 91 3[124 124 4[58
5[108 100 116 7[75 75 75 75 75 75 75 75 75 75 1[37 46[{
 TeXBase1Encoding ReEncodeFont }41 149.44 /Palatino-Bold
rf /Fh 166[100 100 2[116 92 78 100 1[90 117 124 141 91
2[50 3[91 116 106 91 116 10[75 1[75 75 75 1[75 91 37
46[{ TeXBase1Encoding ReEncodeFont }24 149.44 /Palatino-Roman
rf /Fi 134[83 83 120 1[92 55 65 65 1[83 74 92 129 46
2[46 83 1[46 65 1[68 77 74 18[129 33[42 44[{
 TeXBase1Encoding ReEncodeFont }21 166.044 /Palatino-Italic
rf /Fj 104[166 83 1[83 83 24[83 92 86 138 94 100 54 70
66 93 100 91 97 147 48 92 39 48 97 92 55 80 101 74 92
83 3[55 1[55 111 111 111 166 120 129 102 87 111 131 100
131 138 157 101 121 55 56 138 1[92 101 129 118 101 129
124 74 3[42 42 83 83 83 83 83 83 83 83 83 83 101 42 55
42 101 1[55 55 46 35[101 100 2[{ TeXBase1Encoding ReEncodeFont }81
166.044 /Palatino-Roman rf /Fk 105[100 31[113 2[84 79
1[120 109 116 4[58 116 2[95 2[110 30[141 67[{
 TeXBase1Encoding ReEncodeFont }12 199.253 /Palatino-Roman
rf /Fl 138[111 66 78 78 2[88 111 155 4[100 100 55 78
100 1[92 88 23[66 26[50 1[50 44[{ TeXBase1Encoding ReEncodeFont }17
199.253 /Palatino-Italic rf /Fm 134[133 2[135 1[78 101
94 2[131 139 211 70 133 1[70 139 1[80 115 146 2[120 11[186
147 14[146 1[170 146 186 18[60 1[60 44[{ TeXBase1Encoding ReEncodeFont }
24 239.103 /Palatino-Roman rf /Fn 166[230 4[211 181 3[271
286 326 4[287 2[210 1[244 1[268 65[{ TeXBase1Encoding ReEncodeFont }10
344.375 /Palatino-Roman rf /Fo 135[172 7[210 1[210 4[115
3[172 210 33[230 268 65[{ TeXBase1Encoding ReEncodeFont }8
344.375 /Palatino-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 1200dpi
TeXDict begin

%%EndSetup
%%Page: 907 1
907 0 bop 1086 1614 a Fo(Appendix)88 b(B)1086 4038 y
Fn(THE)e(NACHOS)1086 4404 y(SYSTEM)p 1086 4703 5779 9
v 1086 5400 a Fm(By)60 b(Thomas)f(E.)g(Anderson)1086
5800 y(University)g(of)g(California,)e(Berkeley)1086
6266 y Fl(I)50 b(hear)f(and)h(I)g(for)l(get,)g(I)g(see)e(and)i(I)g(r)l
(emember)-15 b(,)1086 6626 y(I)50 b(do)g(and)g(I)g(understand.)2267
6967 y Fk(\226)f(Chinese)j(pr)l(overb)1086 7479 y Fj(A)45
b(good)h(way)g(to)f(gain)h(a)f(deeper)f(understanding)i(of)f(modern)f
(operating-system)h(con-)1086 7678 y(cepts)34 b(is)i(to)e(get)h(your)g
(hands)g(dirty)g(\227)g(to)g(take)f(apart)h(the)f(code)g(for)g(an)h
(operating)f(system)1086 7877 y(to)52 b(see)h(how)f(it)h(works)g(at)g
(a)g(low)g(level,)i(to)d(build)i(signi\002cant)f(pieces)g(of)f(the)g
(operating)1086 8076 y(system)44 b(yourself,)h(and)f(to)g(observe)e
(the)i(ef)m(fects)g(of)g(your)g(work.)59 b(An)43 b(operating-system)
1086 8276 y(course)d(pr)m(oject)g(pr)m(ovides)h(this)h(opportunity)f
(to)g(see)g(how)h(you)f(can)g(use)h(basic)g(concepts)1086
8475 y(to)62 b(solve)h(r)m(eal-world)g(pr)m(oblems.)114
b(Course)62 b(pr)m(ojects)f(can)i(also)g(be)f(valuable)h(in)g(many)1086
8674 y(other)40 b(ar)m(eas)i(of)g(computer)e(science,)h(fr)m(om)g
(compilers)g(and)h(databases)g(to)g(graphics)g(and)1086
8873 y(r)m(obotics.)91 b(But)56 b(a)f(pr)m(oject)f(is)i(particularly)f
(important)f(for)h(operating)f(systems,)59 b(wher)m(e)1086
9073 y(many)41 b(of)g(the)g(concepts)f(ar)m(e)h(best)g(learned)g(by)h
(example)e(and)h(experimentation.)1385 9272 y(That)h(is)h(why)f(we)h
(cr)m(eated)e Fi(Nachos,)g Fj(an)h(instr)o(uctional)g(operating)f
(system)h(intended)1086 9471 y(for)f(use)h(as)g(the)f(course)g(pr)m
(oject)f(for)h(an)h(under)m(graduate)f(or)g(\002rst-year)h(graduate)g
(course)1086 9670 y(in)e(operating)f(systems.)51 b(Nachos)40
b(includes)g(code)g(for)f(a)h(simple)g(but)g(complete)f(working)1086
9870 y(operating)60 b(system,)66 b(a)c(machine)e(simulator)h(that)g
(allows)i(it)f(to)f(be)g(used)h(in)f(a)g(normal)1086
10069 y Fh(UNIX)76 b Fj(workstation)h(envir)m(onment,)k(and)76
b(a)h(set)f(of)g(sample)g(assignments.)155 b(Nachos)6640
10680 y Fg(907)p eop
%%Page: 908 2
908 1 bop 936 834 a Fg(908)298 b(Appendix)38 b(B)149
b(The)37 b(Nachos)i(System)936 1432 y Fj(lets)62 b(anyone)e(explor)m(e)
f(all)j(the)f(major)f(components)f(of)i(a)h(modern)d(operating)i
(system)936 1631 y(described)56 b(in)g(this)h(book,)i(fr)m(om)d(thr)m
(eads)g(and)g(pr)m(ocess)g(synchr)m(onization,)i(to)e(\002le)h(sys-)936
1830 y(tems,)70 b(to)65 b(multipr)m(ogramming,)k(to)c(virtual)g(memory)
-18 b(,)69 b(to)c(networking.)121 b(The)64 b(assign-)936
2029 y(ments)51 b(ask)j(you)e(to)g(design)h(and)f(implement)f(a)i
(signi\002cant)g(piece)e(of)h(functionality)h(in)936
2229 y(each)40 b(of)i(these)e(ar)m(eas.)1235 2428 y(Nachos)67
b(is)i(distributed)g(without)g(char)m(ge.)129 b(It)68
b(curr)m(ently)f(r)o(uns)h(on)f(both)g(Digital)936 2627
y(Equipment)39 b(Corporation)e Fh(MIPS)g(UNIX)j Fj(workstations)g(and)g
(Sun)f Fh(SP)-14 b(ARC)41 b Fj(workstations;)936 2826
y(ports)46 b(to)h(other)e(machines)h(ar)m(e)g(in)h(pr)m(ogr)m(ess.)66
b(See)46 b(Section)g(B.4)h(to)f(learn)g(how)h(to)g(obtain)936
3026 y(a)41 b(copy)g(of)h(Nachos.)1235 3225 y(Her)m(e,)32
b(we)g(give)h(an)f(overview)e(of)j(the)e(Nachos)h(operating)f(system)i
(and)f(the)g(machine)936 3424 y(simulator)-12 b(,)77
b(and)71 b(describe)e(our)h(experiences)e(with)j(the)f(example)f
(assignments.)138 b(Of)936 3623 y(necessity)-18 b(,)34
b(Nachos)g(is)g(evolving)g(continually)-18 b(,)34 b(because)g(the)f
(\002eld)i(of)e(operating)g(systems)936 3823 y(is)j(evolving)f
(continually)-18 b(.)48 b(Thus,)37 b(we)e(can)g(give)g(only)g(a)h
(snapshot)f(of)g(Nachos;)i(in)e(Section)936 4022 y(B.4)41
b(we)h(explain)f(how)g(to)g(obtain)g(mor)m(e)f(up)i(to)f(date)h
(information.)936 4689 y Ff(B.1)p 1474 4666 100 100 v
498 w(Overview)936 5088 y Fj(Many)104 b(of)h(the)f(earliest)g
(operating-system)g(course)g(pr)m(ojects)f(wer)m(e)h(designed)h(in)936
5287 y(r)m(esponse)77 b(to)i(the)f(development)f(of)i
Fh(UNIX)h Fj(in)f(the)f(mid-1970s.)164 b(Earlier)79 b(operating)936
5486 y(systems,)108 b(such)95 b(as)h Fh(MUL)-11 b(TICS)96
b Fj(and)f Fh(OS/360)p Fj(,)107 b(wer)m(e)95 b(far)f(too)h(complicated)
f(for)h(an)936 5685 y(under)m(graduate)41 b(to)g(understand,)g(much)g
(less)h(to)f(modify)-18 b(,)41 b(in)h(one)e(semester)-12
b(.)1235 5885 y(Even)37 b Fh(UNIX)i Fj(itself)g(is)g(too)f(complicated)
g(for)f(that)h(purpose,)g(but)g Fh(UNIX)h Fj(showed)f(that)936
6084 y(the)k(cor)m(e)g(of)h(an)g(operating)f(system)h(can)f(be)h
(written)g(in)g(only)g(a)g(few)g(dozen)g(pages,)g(with)936
6283 y(a)52 b(few)h(simple)g(but)f(powerful)h(interfaces.)83
b(However)-12 b(,)53 b(r)m(ecent)e(advances)h(in)g(operating)936
6482 y(systems,)61 b(har)m(dwar)m(e)c(ar)m(chitectur)m(e,)i(and)e
(softwar)m(e)g(engineering)f(have)g(caused)i(many)936
6682 y(operating-systems)71 b(pr)m(ojects)f(developed)g(over)f(the)i
(past)g(two)g(decades)g(to)g(become)936 6881 y(out-of-date.)87
b(Networking)53 b(and)h(distributed)g(applications)g(ar)m(e)e(now)h
(commonplace.)936 7080 y(Thr)m(eads)47 b(ar)m(e)g(cr)o(ucial)g(for)h
(the)f(constr)o(uction)f(of)i(both)f(operating)f(systems)j(and)f
(higher)m(-)936 7279 y(level)82 b(concurr)m(ent)e(applications.)174
b(And)83 b(the)f(cost\226performance)e(tradeof)m(fs)j(among)936
7479 y(memory)-18 b(,)91 b Fh(CPU)83 b Fj(speed,)93 b(and)83
b(secondary)g(storage)f(ar)m(e)h(now)g(dif)m(fer)m(ent)g(fr)m(om)f
(those)936 7678 y(imposed)41 b(by)h(cor)m(e)e(memory)-18
b(,)39 b(discr)m(ete)i(logic,)g(magnetic)g(dr)o(ums,)g(and)h(car)m(d)f
(r)m(eaders.)1235 7877 y(Nachos)47 b(is)i(intended)f(to)g(help)g
(people)e(learn)i(about)g(these)f(modern)g(systems)i(con-)936
8076 y(cepts.)122 b(Nachos)65 b(illustrates)i(and)e(takes)h(advantage)g
(of)f(modern)f(operating-systems)936 8276 y(technology)-18
b(,)99 b(such)88 b(as)i(thr)m(eads)e(and)h(r)m(emote)e(pr)m(ocedur)m(e)
g(calls;)113 b(r)m(ecent)87 b(har)m(dwar)m(e)936 8475
y(advances,)51 b(such)g(as)f Fh(RISC)p Fj(s)i(and)e(the)g(pr)m
(evalence)d(of)k(memory)d(hierar)m(chies;)53 b(and)d(mod-)936
8674 y(ern)i(softwar)m(e-design)j(techniques,)h(such)d(as)h(pr)m
(otocol)f(layering)g(and)h(object-oriented)936 8873 y(pr)m(ogramming.)
1235 9073 y(In)e(designing)h(Nachos,)h(we)e(faced)h(constantly)f(the)g
(tradeof)m(f)g(between)f(simplicity)936 9272 y(and)56
b(r)m(ealism)g(in)g(choosing)g(what)g(code)g(to)g(pr)m(ovide)f(as)i
(part)f(of)g(the)f(baseline)h(system,)936 9471 y(and)e(what)f(to)h
(leave)f(for)g(the)g(assignments.)88 b(W)-15 b(e)53 b(believe)f(that)i
(a)f(course)g(pr)m(oject)f(must)936 9670 y(achieve)62
b(a)i(car)m(eful)f(balance)g(among)g(the)g(time)g(that)h(students)g
(spend)g(r)m(eading)f(code,)936 9870 y(that)68 b(they)f(spend)h
(designing)g(and)g(implementing,)73 b(and)68 b(that)g(they)f(spend)h
(learning)936 10069 y(new)74 b(concepts.)148 b(At)75
b(one)e(extr)m(eme,)80 b(we)75 b(could)f(have)g(pr)m(ovided)g(nothing)g
(but)g(bar)m(e)p eop
%%Page: 909 3
909 2 bop 5307 834 a Fg(B.1)150 b(Overview)299 b(909)1086
1432 y Fj(har)m(dwar)m(e,)42 b(leaving)g(a)h Fi(tabula)g(rasa)e
Fj(for)h(students)i(to)e(build)i(an)f(entir)m(e)e(operating)h(system)
1086 1631 y(fr)m(om)51 b(scratch.)82 b(This)52 b(appr)m(oach)e(is)j
(impractical,)h(given)d(the)h(scope)f(of)h(topics)g(to)g(cover)-12
b(.)1086 1830 y(At)42 b(the)f(other)f(extr)m(eme,)f(starting)j(with)g
(code)f(that)h(is)g(too)f(r)m(ealistic)h(would)h(make)e(it)h(easy)1086
2029 y(to)f(lose)h(sight)g(of)f(key)h(ideas)g(in)g(a)f(for)m(est)g(of)h
(details.)1385 2229 y(Our)49 b(appr)m(oach)g(was)i(to)f(build)i(the)d
(simplest)i(possible)g(implementation)d(for)i(each)1086
2428 y(subsystem)72 b(of)f(Nachos;)84 b(this)72 b(pr)m(ovides)e(a)h
(working)h(example)d(\227)i(albeit)g(an)g(overly)1086
2627 y(simplistic)56 b(one)d(\227)i(of)f(the)g(operation)f(of)i(each)e
(component)f(of)i(an)h(operating)e(system.)1086 2826
y(The)43 b(baseline)h(Nachos)g(operating-system)g(kernel)f(includes)i
(a)f(thr)m(ead)g(manager)-12 b(,)43 b(a)h(\002le)1086
3026 y(system,)50 b(the)e(ability)i(to)e(r)o(un)g(user)g(pr)m(ograms,)h
(and)g(a)g(simple)f(network)g(mailbox.)72 b(As)49 b(a)1086
3225 y(r)m(esult)g(of)g(our)f(emphasis)g(on)g(simplicity)-18
b(,)51 b(the)d(baseline)h(kernel)f(comprises)g(about)g(2500)1086
3424 y(lines)41 b(of)g(code,)f(about)g(one-half)h(of)g(which)f(ar)m(e)g
(devoted)h(to)g(interface)e(descriptions)i(and)1086 3623
y(comments.)90 b(\(The)54 b(har)m(dwar)m(e)h(simulator)g(takes)h(up)f
(another)e(2500)i(lines,)k(but)c(you)g(do)1086 3823 y(not)72
b(need)g(to)g(understand)g(the)g(details)i(of)f(its)g(operation)e(to)h
(do)h(the)f(assignments.\))1086 4022 y(It)66 b(is)h(thus)f(practical)f
(to)h(r)m(ead,)71 b(understand,)h(and)66 b(modify)h(Nachos)e(during)i
(a)f(single)1086 4221 y(semester)e(course.)123 b(By)67
b(contrast,)j(building)d(a)f(pr)m(oject)e(ar)m(ound)h(a)h(system)g
(like)h Fh(UNIX)1086 4420 y Fj(would)41 b(add)h(r)m(ealism,)e(but)g
(the)g Fh(UNIX)d(4.3BSD)j Fj(\002le)h(system)g Fi(by)f(itself,)g
Fj(even)f(excluding)i(the)1086 4620 y(device)c(drivers,)h(comprises)f
(r)m(oughly)h(5000)g(lines)g(of)g(code.)49 b(Since)37
b(a)h(typical)h(course)e(will)1086 4819 y(spend)j(only)g(about)g(2)h
(to)f(3)g(weeks)h(of)f(the)g(semester)f(on)g(\002le)i(systems,)g(size)f
(makes)h Fh(UNIX)1086 5018 y Fj(impractical)g(as)h(a)f(basis)i(for)e
(an)g(under)m(graduate)g(operating-system)g(course)g(pr)m(oject.)1385
5217 y(W)-15 b(e)59 b(have)h(found)g(that)h(the)f(baseline)g(Nachos)f
(kernel)h(can)g(demystify)h(a)g(number)1086 5417 y(of)i
(operating-system)h(concepts)e(that)i(ar)m(e)f(dif)m(\002cult)i(to)f
(understand)f(in)h(the)f(abstract.)1086 5616 y(Simply)49
b(r)m(eading)g(and)g(walking)i(thr)m(ough)d(the)g(execution)g(of)g(the)
h(baseline)f(system)i(can)1086 5815 y(answer)62 b(numer)m(ous)g
(questions)h(about)f(how)h(an)g(operating)e(system)j(works)f(at)g(a)g
(low)1086 6014 y(level,)40 b(such)i(as:)1202 6415 y Fe(\017)100
b Fj(How)42 b(do)f(all)h(the)f(pieces)g(of)g(an)h(operating)e(system)i
(\002t)g(together?)1202 6732 y Fe(\017)100 b Fj(How)38
b(does)h(the)f(operating)f(system)i(start)g(a)f(thr)m(ead?)50
b(How)39 b(does)f(it)h(start)g(a)f(pr)m(ocess?)1202 7049
y Fe(\017)100 b Fj(What)41 b(happens)f(when)h(one)g(thr)m(ead)f
(context)g(switches)j(to)e(another)f(thr)m(ead?)1202
7366 y Fe(\017)100 b Fj(How)42 b(do)f(interr)o(upts)g(interact)f(with)i
(the)f(implementation)f(of)h(critical)h(sections?)1202
7684 y Fe(\017)100 b Fj(What)41 b(happens)f(on)h(a)h(system)g(call?)51
b(What)42 b(happens)e(on)h(a)g(page)g(fault?)1202 8001
y Fe(\017)100 b Fj(How)42 b(does)f(addr)m(ess)h(translation)g(work?)
1202 8318 y Fe(\017)100 b Fj(Which)47 b(data)i(str)o(uctur)m(es)f(in)g
(a)h(\002le)f(system)h(ar)m(e)e(on)h(disk,)j(and)d(which)g(ar)m(e)g(in)
g(mem-)1385 8517 y(ory?)1202 8835 y Fe(\017)100 b Fj(What)41
b(data)h(need)f(to)g(be)g(written)g(to)h(disk)h(when)d(a)i(user)f(cr)m
(eates)g(a)g(\002le?)1202 9152 y Fe(\017)100 b Fj(How)42
b(does)f(the)g(operating)f(system)i(interface)f(with)h
Fh(I/O)g Fj(devices?)1202 9469 y Fe(\017)100 b Fj(What)41
b(does)h(it)g(mean)e(to)h(build)i(one)d(layer)h(of)h(a)f(network)g(pr)m
(otocol)f(on)h(another?)1385 9870 y(Of)63 b(course,)68
b(r)m(eading)63 b(code)g(by)h(itself)h(can)e(be)g(a)h(boring)f(and)g
(pointless)h(exer)m(cise;)1086 10069 y(we)51 b(addr)m(essed)h(this)g
(pr)m(oblem)d(by)i(keeping)g(the)g(code)f(as)i(simple)f(as)g(possible,)
j(and)d(by)p eop
%%Page: 910 4
910 3 bop 936 834 a Fg(910)298 b(Appendix)38 b(B)149
b(The)37 b(Nachos)i(System)936 1432 y Fj(designing)51
b(assignments)f(that)f(modify)i(the)e(system)h(in)g(fundamental)f
(ways.)77 b(Because)936 1631 y(we)43 b(start)h(with)g(working)g(code,)f
(the)g(assignments)h(can)e(focus)i(on)f(the)g(mor)m(e)f(inter)m(esting)
936 1830 y(aspects)f(of)g(operating-system)f(design,)h(wher)m(e)f
(tradeof)m(fs)h(exist)g(and)g(ther)m(e)f(is)h(no)g(single)936
2029 y(right)g(answer)-12 b(.)936 2696 y Ff(B.2)p 1474
2673 100 100 v 498 w(Nachos)60 b(Software)e(Structure)936
3094 y Fj(Befor)m(e)50 b(we)h(discuss)i(the)d(sample)h(assignments)g
(in)g(detail,)j(we)d(\002rst)g(outline)g(the)f(str)o(uc-)936
3294 y(tur)m(e)67 b(of)h(the)f(Nachos)g(softwar)m(e.)131
b(Figur)m(e)68 b(B.1)f(illustrates)j(how)d(the)g(major)g(pieces)g(in)
936 3493 y(Nachos)43 b(\002t)g(together)-12 b(.)55 b(Like)44
b(many)e(earlier)h(instr)o(uctional)g(operating)f(systems,)i(Nachos)936
3692 y(r)o(uns)80 b(on)g(a)g Fi(simulation)h Fj(of)g(r)m(eal)f(har)m
(dwar)m(e.)167 b(Originally)-18 b(,)90 b(when)79 b(operating-system)936
3891 y(pr)m(ojects)43 b(wer)m(e)h(\002rst)h(being)f(developed)f(in)i
(the)f(1970s)g(and)h(early)f(1980s,)i(the)d(r)m(eason)h(for)936
4091 y(using)36 b(a)f(simulator)h(was)g(to)g(make)f(better)f(use)h(of)h
(scar)m(ce)e(har)m(dwar)m(e)h(r)m(esour)m(ces.)47 b(W)-9
b(ithout)936 4290 y(a)59 b(simulator)-12 b(,)62 b(each)c(student)i
(would)f(need)g(her)e(own)i(physical)g(machine)f(to)g(test)i(new)936
4489 y(versions)37 b(of)g(the)g(kernel.)49 b(Now)37 b(that)h(personal)e
(computers)h(ar)m(e)f(commonplace,)f(is)k(ther)m(e)936
4688 y(still)65 b(a)f(r)m(eason)e(to)i(develop)e(an)i(operating)e
(system)i(on)f(a)h(simulator)-12 b(,)69 b(rather)62 b(than)h(on)936
4888 y(physical)42 b(har)m(dwar)m(e?)1510 5286 y
 18273867 17360164 11314462 20787036 29996482 38679674 startTexFig
 1510
5286 a
%%BeginDocument: aw-figures/app1/figA.1.eps
%%Creator: Adobe Illustrator(TM) 5.5
%%For: (Julie Gecha) (Julie Gecha Designs)
%%Title: (figA.1.eps)
%%CreationDate: (3/14/96) (9:51 AM)
%%BoundingBox: 172 316 456 588
%%HiResBoundingBox: 172.9889 316.3515 455.1358 587.2023
%%DocumentProcessColors: Black
%%DocumentFonts: Helvetica
%%DocumentSuppliedResources: procset Adobe_level2_AI5 1.0 0
%%+ procset Adobe_typography_AI5 1.0 0
%%+ procset Adobe_IllustratorA_AI5 1.0 0
%AI5_FileFormat 1.2
%AI3_ColorUsage: Black&White
%AI3_TemplateBox: 306 396 306 396
%AI3_TileBox: 30 31 582 759
%AI3_DocumentPreview: PC_TIFF
%AI5_ArtSize: 1296 1296
%AI5_RulerUnits: 2
%AI5_ArtFlags: 0 0 0 1 0 0 1 1 0
%AI5_TargetResolution: 800
%AI5_NumLayers: 1
%AI5_OpenToView: -6 612 1 634 437 25 0 1 3 40
%AI5_OpenViewLayers: 5
%%EndComments
%%BeginProlog
%%BeginResource: procset Adobe_level2_AI5 1.0 0
%%Title: (Adobe Illustrator (R) Version 5.0 Level 2 Emulation)
%%Version: 1.0 
%%CreationDate: (04/10/93) ()
%%Copyright: ((C) 1987-1993 Adobe Systems Incorporated All Rights Reserved)
userdict /Adobe_level2_AI5 21 dict dup begin
	put
	/packedarray where not
	{
		userdict begin
		/packedarray
		{
			array astore readonly
		} bind def
		/setpacking /pop load def
		/currentpacking false def
	 end
		0
	} if
	pop
	userdict /defaultpacking currentpacking put true setpacking
	/initialize
	{
		Adobe_level2_AI5 begin
	} bind def
	/terminate
	{
		currentdict Adobe_level2_AI5 eq
		{
		 end
		} if
	} bind def
	mark
	/setcustomcolor where not
	{
		/findcmykcustomcolor
		{
			5 packedarray
		} bind def
		/setcustomcolor
		{
			exch aload pop pop
			4
			{
				4 index mul 4 1 roll
			} repeat
			5 -1 roll pop
			setcmykcolor
		}
		def
	} if
	
	/gt38? mark {version cvx exec} stopped {cleartomark true} {38 gt exch pop} ifelse def
	userdict /deviceDPI 72 0 matrix defaultmatrix dtransform dup mul exch dup mul add sqrt put
	userdict /level2?
	systemdict /languagelevel known dup
	{
		pop systemdict /languagelevel get 2 ge
	} if
	put
	level2? not
	{
		/setcmykcolor where not
		{
			/setcmykcolor
			{
				exch .11 mul add exch .59 mul add exch .3 mul add
				1 exch sub setgray
			} def
		} if
		/currentcmykcolor where not
		{
			/currentcmykcolor
			{
				0 0 0 1 currentgray sub
			} def
		} if
		/setoverprint where not
		{
			/setoverprint /pop load def
		} if
		/selectfont where not
		{
			/selectfont
			{
				exch findfont exch
				dup type /arraytype eq
				{
					makefont
				}
				{
					scalefont
				} ifelse
				setfont
			} bind def
		} if
		/cshow where not
		{
			/cshow
			{
				[
				0 0 5 -1 roll aload pop
				] cvx bind forall
			} bind def
		} if
	} if
	cleartomark
	/anyColor?
	{
		add add add 0 ne
	} bind def
	/testColor
	{
		gsave
		setcmykcolor currentcmykcolor
		grestore
	} bind def
	/testCMYKColorThrough
	{
		testColor anyColor?
	} bind def
	userdict /composite?
	level2?
	{
		gsave 1 1 1 1 setcmykcolor currentcmykcolor grestore
		add add add 4 eq
	}
	{
		1 0 0 0 testCMYKColorThrough
		0 1 0 0 testCMYKColorThrough
		0 0 1 0 testCMYKColorThrough
		0 0 0 1 testCMYKColorThrough
		and and and
	} ifelse
	put
	composite? not
	{
		userdict begin
		gsave
		/cyan? 1 0 0 0 testCMYKColorThrough def
		/magenta? 0 1 0 0 testCMYKColorThrough def
		/yellow? 0 0 1 0 testCMYKColorThrough def
		/black? 0 0 0 1 testCMYKColorThrough def
		grestore
		/isCMYKSep? cyan? magenta? yellow? black? or or or def
		/customColor? isCMYKSep? not def
	 end
	} if
 end defaultpacking setpacking
%%EndResource
%%BeginResource: procset Adobe_typography_AI5 1.0 1
%%Title: (Typography Operators)
%%Version: 1.0 
%%CreationDate:(03/26/93) ()
%%Copyright: ((C) 1987-1993 Adobe Systems Incorporated All Rights Reserved)
currentpacking true setpacking
userdict /Adobe_typography_AI5 54 dict dup begin
put
/initialize
{
 begin
 begin
	Adobe_typography_AI5 begin
	Adobe_typography_AI5
	{
		dup xcheck
		{
			bind
		} if
		pop pop
	} forall
 end
 end
 end
	Adobe_typography_AI5 begin
} def
/terminate
{
	currentdict Adobe_typography_AI5 eq
	{
	 end
	} if
} def
/modifyEncoding
{
	/_tempEncode exch ddef
	/_pntr 0 ddef
	{
		counttomark -1 roll
		dup type dup /marktype eq
		{
			pop pop exit
		}
		{
			/nametype eq
			{
				_tempEncode /_pntr dup load dup 3 1 roll 1 add ddef 3 -1 roll
				put
			}
			{
				/_pntr exch ddef
			} ifelse
		} ifelse
	} loop
	_tempEncode
} def
/TE
{
	StandardEncoding 256 array copy modifyEncoding
	/_nativeEncoding exch def
} def
%
/TZ
{
	dup type /arraytype eq
	{
		/_wv exch def
	}
	{
		/_wv 0 def
	} ifelse
	/_useNativeEncoding exch def
	pop pop
	findfont _wv type /arraytype eq
	{
		_wv makeblendedfont
	} if
	dup length 2 add dict
 begin
	mark exch
	{
		1 index /FID ne
		{
			def
		} if
		cleartomark mark
	} forall
	pop
	/FontName exch def
	counttomark 0 eq
	{
		1 _useNativeEncoding eq
		{
			/Encoding _nativeEncoding def
		} if
		cleartomark
	}
	{
		/Encoding load 256 array copy
		modifyEncoding /Encoding exch def
	} ifelse
	FontName currentdict
 end
	definefont pop
} def
/tr
{
	_ax _ay 3 2 roll
} def
/trj
{
	_cx _cy _sp _ax _ay 6 5 roll
} def
/a0
{
	/Tx
	{
		dup
		currentpoint 3 2 roll
		tr _psf
		newpath moveto
		tr _ctm _pss
	} ddef
	/Tj
	{
		dup
		currentpoint 3 2 roll
		trj _pjsf
		newpath moveto
		trj _ctm _pjss
	} ddef
} def
/a1
{
	/Tx
	{
		dup currentpoint 4 2 roll gsave
		dup currentpoint 3 2 roll
		tr _psf
		newpath moveto
		tr _ctm _pss
		grestore 3 1 roll moveto tr sp
	} ddef
	/Tj
	{
		dup currentpoint 4 2 roll gsave
		dup currentpoint 3 2 roll
		trj _pjsf
		newpath moveto
		trj _ctm _pjss
		grestore 3 1 roll moveto tr jsp
	} ddef
} def
/e0
{
	/Tx
	{
		tr _psf
	} ddef
	/Tj
	{
		trj _pjsf
	} ddef
} def
/e1
{
	/Tx
	{
		dup currentpoint 4 2 roll gsave
		tr _psf
		grestore 3 1 roll moveto tr sp
	} ddef
	/Tj
	{
		dup currentpoint 4 2 roll gsave
		trj _pjsf
		grestore 3 1 roll moveto tr jsp
	} ddef
} def
/i0
{
	/Tx
	{
		tr sp
	} ddef
	/Tj
	{
		trj jsp
	} ddef
} def
/i1
{
	W N
} def
/o0
{
	/Tx
	{
		tr sw rmoveto
	} ddef
	/Tj
	{
		trj swj rmoveto
	} ddef
} def
/r0
{
	/Tx
	{
		tr _ctm _pss
	} ddef
	/Tj
	{
		trj _ctm _pjss
	} ddef
} def
/r1
{
	/Tx
	{
		dup currentpoint 4 2 roll currentpoint gsave newpath moveto
		tr _ctm _pss
		grestore 3 1 roll moveto tr sp
	} ddef
	/Tj
	{
		dup currentpoint 4 2 roll currentpoint gsave newpath moveto
		trj _ctm _pjss
		grestore 3 1 roll moveto tr jsp
	} ddef
} def
/To
{
	pop _ctm currentmatrix pop
} def
/TO
{
	iTe _ctm setmatrix newpath
} def
/Tp
{
	pop _tm astore pop _ctm setmatrix
	_tDict begin
	/W
	{
	} def
	/h
	{
	} def
} def
/TP
{
 end
	iTm 0 0 moveto
} def
/Tr
{
	_render 3 le
	{
		currentpoint newpath moveto
	} if
	dup 8 eq
	{
		pop 0
	}
	{
		dup 9 eq
		{
			pop 1
		} if
	} ifelse
	dup /_render exch ddef
	_renderStart exch get load exec
} def
/iTm
{
	_ctm setmatrix _tm concat 0 _rise translate _hs 1 scale
} def
/Tm
{
	_tm astore pop iTm 0 0 moveto
} def
/Td
{
	_mtx translate _tm _tm concatmatrix pop iTm 0 0 moveto
} def
/iTe
{
	_render -1 eq
	{
	}
	{
		_renderEnd _render get dup null ne
		{
			load exec
		}
		{
			pop
		} ifelse
	} ifelse
	/_render -1 ddef
} def
/Ta
{
	pop
} def
/Tf
{
	dup 1000 div /_fScl exch ddef
%
	selectfont
} def
/Tl
{
	pop
	0 exch _leading astore pop
} def
/Tt
{
	pop
} def
/TW
{
	3 npop
} def
/Tw
{
	/_cx exch ddef
} def
/TC
{
	3 npop
} def
/Tc
{
	/_ax exch ddef
} def
/Ts
{
	/_rise exch ddef
	currentpoint
	iTm
	moveto
} def
/Ti
{
	3 npop
} def
/Tz
{
	100 div /_hs exch ddef
	iTm
} def
/TA
{
	pop
} def
/Tq
{
	pop
} def
/Th
{
	pop pop pop pop pop
} def
/TX
{
	pop
} def
/Tk
{
	exch pop _fScl mul neg 0 rmoveto
} def
/TK
{
	2 npop
} def
/T*
{
	_leading aload pop neg Td
} def
/T*-
{
	_leading aload pop Td
} def
/T-
{
	_hyphen Tx
} def
/T+
{
} def
/TR
{
	_ctm currentmatrix pop
	_tm astore pop
	iTm 0 0 moveto
} def
/TS
{
	currentfont 3 1 roll
	/_Symbol_ _fScl 1000 mul selectfont
	
	0 eq
	{
		Tx
	}
	{
		Tj
	} ifelse
	setfont
} def
/Xb
{
	pop pop
} def
/Tb /Xb load def
/Xe
{
	pop pop pop pop
} def
/Te /Xe load def
/XB
{
} def
/TB /XB load def
currentdict readonly pop
end
setpacking
%%EndResource
%%BeginResource: procset Adobe_IllustratorA_AI5 1.1 0
%%Title: (Adobe Illustrator (R) Version 5.0 Abbreviated Prolog)
%%Version: 1.1 
%%CreationDate: (3/7/1994) ()
%%Copyright: ((C) 1987-1994 Adobe Systems Incorporated All Rights Reserved)
currentpacking true setpacking
userdict /Adobe_IllustratorA_AI5_vars 70 dict dup begin
put
/_lp /none def
/_pf
{
} def
/_ps
{
} def
/_psf
{
} def
/_pss
{
} def
/_pjsf
{
} def
/_pjss
{
} def
/_pola 0 def
/_doClip 0 def
/cf currentflat def
/_tm matrix def
/_renderStart
[
/e0 /r0 /a0 /o0 /e1 /r1 /a1 /i0
] def
/_renderEnd
[
null null null null /i1 /i1 /i1 /i1
] def
/_render -1 def
/_rise 0 def
/_ax 0 def
/_ay 0 def
/_cx 0 def
/_cy 0 def
/_leading
[
0 0
] def
/_ctm matrix def
/_mtx matrix def
/_sp 16#020 def
/_hyphen (-) def
/_fScl 0 def
/_cnt 0 def
/_hs 1 def
/_nativeEncoding 0 def
/_useNativeEncoding 0 def
/_tempEncode 0 def
/_pntr 0 def
/_tDict 2 dict def
/_wv 0 def
/Tx
{
} def
/Tj
{
} def
/CRender
{
} def
/_AI3_savepage
{
} def
/_gf null def
/_cf 4 array def
/_if null def
/_of false def
/_fc
{
} def
/_gs null def
/_cs 4 array def
/_is null def
/_os false def
/_sc
{
} def
/discardSave null def
/buffer 256 string def
/beginString null def
/endString null def
/endStringLength null def
/layerCnt 1 def
/layerCount 1 def
/perCent (%) 0 get def
/perCentSeen? false def
/newBuff null def
/newBuffButFirst null def
/newBuffLast null def
/clipForward? false def
end
userdict /Adobe_IllustratorA_AI5 74 dict dup begin
put
/initialize
{
	Adobe_IllustratorA_AI5 dup begin
	Adobe_IllustratorA_AI5_vars begin
	discardDict
	{
		bind pop pop
	} forall
	dup /nc get begin
	{
		dup xcheck 1 index type /operatortype ne and
		{
			bind
		} if
		pop pop
	} forall
 end
	newpath
} def
/terminate
{
 end
 end
} def
/_
null def
/ddef
{
	Adobe_IllustratorA_AI5_vars 3 1 roll put
} def
/xput
{
	dup load dup length exch maxlength eq
	{
		dup dup load dup
		length 2 mul dict copy def
	} if
	load begin
	def
 end
} def
/npop
{
	{
		pop
	} repeat
} def
/sw
{
	dup length exch stringwidth
	exch 5 -1 roll 3 index mul add
	4 1 roll 3 1 roll mul add
} def
/swj
{
	dup 4 1 roll
	dup length exch stringwidth
	exch 5 -1 roll 3 index mul add
	4 1 roll 3 1 roll mul add
	6 2 roll /_cnt 0 ddef
	{
		1 index eq
		{
			/_cnt _cnt 1 add ddef
		} if
	} forall
	pop
	exch _cnt mul exch _cnt mul 2 index add 4 1 roll 2 index add 4 1 roll pop pop
} def
/ss
{
	4 1 roll
	{
		2 npop
		(0) exch 2 copy 0 exch put pop
		gsave
		false charpath currentpoint
		4 index setmatrix
		stroke
		grestore
		moveto
		2 copy rmoveto
	} exch cshow
	3 npop
} def
/jss
{
	4 1 roll
	{
		2 npop
		(0) exch 2 copy 0 exch put
		gsave
		_sp eq
		{
			exch 6 index 6 index 6 index 5 -1 roll widthshow
			currentpoint
		}
		{
			false charpath currentpoint
			4 index setmatrix stroke
		} ifelse
		grestore
		moveto
		2 copy rmoveto
	} exch cshow
	6 npop
} def
/sp
{
	{
		2 npop (0) exch
		2 copy 0 exch put pop
		false charpath
		2 copy rmoveto
	} exch cshow
	2 npop
} def
/jsp
{
	{
		2 npop
		(0) exch 2 copy 0 exch put
		_sp eq
		{
			exch 5 index 5 index 5 index 5 -1 roll widthshow
		}
		{
			false charpath
		} ifelse
		2 copy rmoveto
	} exch cshow
	5 npop
} def
/pl
{
	transform
	0.25 sub round 0.25 add exch
	0.25 sub round 0.25 add exch
	itransform
} def
/setstrokeadjust where
{
	pop true setstrokeadjust
	/c
	{
		curveto
	} def
	/C
	/c load def
	/v
	{
		currentpoint 6 2 roll curveto
	} def
	/V
	/v load def
	/y
	{
		2 copy curveto
	} def
	/Y
	/y load def
	/l
	{
		lineto
	} def
	/L
	/l load def
	/m
	{
		moveto
	} def
}
{
	/c
	{
		pl curveto
	} def
	/C
	/c load def
	/v
	{
		currentpoint 6 2 roll pl curveto
	} def
	/V
	/v load def
	/y
	{
		pl 2 copy curveto
	} def
	/Y
	/y load def
	/l
	{
		pl lineto
	} def
	/L
	/l load def
	/m
	{
		pl moveto
	} def
} ifelse
/d
{
	setdash
} def
/cf
{
} def
/i
{
	dup 0 eq
	{
		pop cf
	} if
	setflat
} def
/j
{
	setlinejoin
} def
/J
{
	setlinecap
} def
/M
{
	setmiterlimit
} def
/w
{
	setlinewidth
} def
/H
{
} def
/h
{
	closepath
} def
/N
{
	_pola 0 eq
	{
		_doClip 1 eq
		{
			clip /_doClip 0 ddef
		} if
		newpath
	}
	{
		/CRender
		{
			N
		} ddef
	} ifelse
} def
/n
{
	N
} def
/F
{
	_pola 0 eq
	{
		_doClip 1 eq
		{
			gsave _pf grestore clip newpath /_lp /none ddef _fc
			/_doClip 0 ddef
		}
		{
			_pf
		} ifelse
	}
	{
		/CRender
		{
			F
		} ddef
	} ifelse
} def
/f
{
	closepath
	F
} def
/S
{
	_pola 0 eq
	{
		_doClip 1 eq
		{
			gsave _ps grestore clip newpath /_lp /none ddef _sc
			/_doClip 0 ddef
		}
		{
			_ps
		} ifelse
	}
	{
		/CRender
		{
			S
		} ddef
	} ifelse
} def
/s
{
	closepath
	S
} def
/B
{
	_pola 0 eq
	{
		_doClip 1 eq
		gsave F grestore
		{
			gsave S grestore clip newpath /_lp /none ddef _sc
			/_doClip 0 ddef
		}
		{
			S
		} ifelse
	}
	{
		/CRender
		{
			B
		} ddef
	} ifelse
} def
/b
{
	closepath
	B
} def
/W
{
	/_doClip 1 ddef
} def
/*
{
	count 0 ne
	{
		dup type /stringtype eq
		{
			pop
		} if
	} if
	newpath
} def
/u
{
} def
/U
{
} def
/q
{
	_pola 0 eq
	{
		gsave
	} if
} def
/Q
{
	_pola 0 eq
	{
		grestore
	} if
} def
/*u
{
	_pola 1 add /_pola exch ddef
} def
/*U
{
	_pola 1 sub /_pola exch ddef
	_pola 0 eq
	{
		CRender
	} if
} def
/D
{
	pop
} def
/*w
{
} def
/*W
{
} def
/`
{
	/_i save ddef
	clipForward?
	{
		nulldevice
	} if
	6 1 roll 4 npop
	concat pop
	userdict begin
	/showpage
	{
	} def
	0 setgray
	0 setlinecap
	1 setlinewidth
	0 setlinejoin
	10 setmiterlimit
	[] 0 setdash
	/setstrokeadjust where {pop false setstrokeadjust} if
	newpath
	0 setgray
	false setoverprint
} def
/~
{
 end
	_i restore
} def
/O
{
	0 ne
	/_of exch ddef
	/_lp /none ddef
} def
/R
{
	0 ne
	/_os exch ddef
	/_lp /none ddef
} def
/g
{
	/_gf exch ddef
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_gf setgray
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		fill
	} ddef
	/_psf
	{
		_fc
		ashow
	} ddef
	/_pjsf
	{
		_fc
		awidthshow
	} ddef
	/_lp /none ddef
} def
/G
{
	/_gs exch ddef
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_gs setgray
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/k
{
	_cf astore pop
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_cf aload pop setcmykcolor
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		fill
	} ddef
	/_psf
	{
		_fc
		ashow
	} ddef
	/_pjsf
	{
		_fc
		awidthshow
	} ddef
	/_lp /none ddef
} def
/K
{
	_cs astore pop
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_cs aload pop setcmykcolor
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/x
{
	/_gf exch ddef
	findcmykcustomcolor
	/_if exch ddef
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_if _gf 1 exch sub setcustomcolor
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		fill
	} ddef
	/_psf
	{
		_fc
		ashow
	} ddef
	/_pjsf
	{
		_fc
		awidthshow
	} ddef
	/_lp /none ddef
} def
/X
{
	/_gs exch ddef
	findcmykcustomcolor
	/_is exch ddef
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_is _gs 1 exch sub setcustomcolor
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/A
{
	pop
} def
/annotatepage
{
userdict /annotatepage 2 copy known {get exec} {pop pop} ifelse
} def
/discard
{
	save /discardSave exch store
	discardDict begin
	/endString exch store
	gt38?
	{
		2 add
	} if
	load
	stopped
	pop
 end
	discardSave restore
} bind def
userdict /discardDict 7 dict dup begin
put
/pre38Initialize
{
	/endStringLength endString length store
	/newBuff buffer 0 endStringLength getinterval store
	/newBuffButFirst newBuff 1 endStringLength 1 sub getinterval store
	/newBuffLast newBuff endStringLength 1 sub 1 getinterval store
} def
/shiftBuffer
{
	newBuff 0 newBuffButFirst putinterval
	newBuffLast 0
	currentfile read not
	{
	stop
	} if
	put
} def
0
{
	pre38Initialize
	mark
	currentfile newBuff readstring exch pop
	{
		{
			newBuff endString eq
			{
				cleartomark stop
			} if
			shiftBuffer
		} loop
	}
	{
	stop
	} ifelse
} def
1
{
	pre38Initialize
	/beginString exch store
	mark
	currentfile newBuff readstring exch pop
	{
		{
			newBuff beginString eq
			{
				/layerCount dup load 1 add store
			}
			{
				newBuff endString eq
				{
					/layerCount dup load 1 sub store
					layerCount 0 eq
					{
						cleartomark stop
					} if
				} if
			} ifelse
			shiftBuffer
		} loop
	}
	{
	stop
	} ifelse
} def
2
{
	mark
	{
		currentfile buffer readline not
		{
		stop
		} if
		endString eq
		{
			cleartomark stop
		} if
	} loop
} def
3
{
	/beginString exch store
	/layerCnt 1 store
	mark
	{
		currentfile buffer readline not
		{
		stop
		} if
		dup beginString eq
		{
			pop /layerCnt dup load 1 add store
		}
		{
			endString eq
			{
				layerCnt 1 eq
				{
					cleartomark stop
				}
				{
					/layerCnt dup load 1 sub store
				} ifelse
			} if
		} ifelse
	} loop
} def
end
userdict /clipRenderOff 15 dict dup begin
put
{
	/n /N /s /S /f /F /b /B
}
{
	{
		_doClip 1 eq
		{
			/_doClip 0 ddef clip
		} if
		newpath
	} def
} forall
/Tr /pop load def
/Bb {} def
/BB /pop load def
/Bg {12 npop} def
/Bm {6 npop} def
/Bc /Bm load def
/Bh {4 npop} def
end
/Lb
{
	4 npop
	6 1 roll
	pop
	4 1 roll
	pop pop pop
	0 eq
	{
		0 eq
		{
			(%AI5_BeginLayer) 1 (%AI5_EndLayer--) discard
		}
		{
			/clipForward? true def
			
			/Tx /pop load def
			/Tj /pop load def
			currentdict end clipRenderOff begin begin
		} ifelse
	}
	{
		0 eq
		{
			save /discardSave exch store
		} if
	} ifelse
} bind def
/LB
{
	discardSave dup null ne
	{
		restore
	}
	{
		pop
		clipForward?
		{
			currentdict
		 end
		 end
		 begin
			
			/clipForward? false ddef
		} if
	} ifelse
} bind def
/Pb
{
	pop pop
	0 (%AI5_EndPalette) discard
} bind def
/Np
{
	0 (%AI5_End_NonPrinting--) discard
} bind def
/Ln /pop load def
/Ap
/pop load def
/Ar
{
	72 exch div
	0 dtransform dup mul exch dup mul add sqrt
	dup 1 lt
	{
		pop 1
	} if
	setflat
} def
/Mb
{
	q
} def
/Md
{
} def
/MB
{
	Q
} def
/nc 3 dict def
nc begin
/setgray
{
	pop
} bind def
/setcmykcolor
{
	4 npop
} bind def
/setcustomcolor
{
	2 npop
} bind def
currentdict readonly pop
end
currentdict readonly pop
end
setpacking
%%EndResource
%%EndProlog
%%BeginSetup
%%IncludeFont: Helvetica
Adobe_level2_AI5 /initialize get exec
Adobe_IllustratorA_AI5_vars Adobe_IllustratorA_AI5 Adobe_typography_AI5 /initialize get exec
Adobe_IllustratorA_AI5 /initialize get exec
[
39/quotesingle 96/grave 128/Adieresis/Aring/Ccedilla/Eacute/Ntilde/Odieresis
/Udieresis/aacute/agrave/acircumflex/adieresis/atilde/aring/ccedilla/eacute
/egrave/ecircumflex/edieresis/iacute/igrave/icircumflex/idieresis/ntilde
/oacute/ograve/ocircumflex/odieresis/otilde/uacute/ugrave/ucircumflex
/udieresis/dagger/degree/cent/sterling/section/bullet/paragraph/germandbls
/registered/copyright/trademark/acute/dieresis/.notdef/AE/Oslash
/.notdef/plusminus/.notdef/.notdef/yen/mu/.notdef/.notdef
/.notdef/.notdef/.notdef/ordfeminine/ordmasculine/.notdef/ae/oslash
/questiondown/exclamdown/logicalnot/.notdef/florin/.notdef/.notdef
/guillemotleft/guillemotright/ellipsis/.notdef/Agrave/Atilde/Otilde/OE/oe
/endash/emdash/quotedblleft/quotedblright/quoteleft/quoteright/divide
/.notdef/ydieresis/Ydieresis/fraction/currency/guilsinglleft/guilsinglright
/fi/fl/daggerdbl/periodcentered/quotesinglbase/quotedblbase/perthousand
/Acircumflex/Ecircumflex/Aacute/Edieresis/Egrave/Iacute/Icircumflex
/Idieresis/Igrave/Oacute/Ocircumflex/.notdef/Ograve/Uacute/Ucircumflex
/Ugrave/dotlessi/circumflex/tilde/macron/breve/dotaccent/ring/cedilla
/hungarumlaut/ogonek/caron
TE
%AI3_BeginEncoding: _Helvetica Helvetica
[/_Helvetica/Helvetica 0 0 1 TZ
%AI3_EndEncoding AdobeType
%AI5_Begin_NonPrinting
Np
%AI3_BeginPattern: (Yellow Stripe)
(Yellow Stripe) 8.4499 4.6 80.4499 76.6 [
%AI3_Tile
(0 O 0 R 0 0.4 1 0 k 0 0.4 1 0 K) @
(
800 Ar
0 J 0 j 3.6 w 4 M []0 d
%AI3_Note:
0 D
8.1999 8.1999 m
80.6999 8.1999 L
S
8.1999 22.6 m
80.6999 22.6 L
S
8.1999 37.0001 m
80.6999 37.0001 L
S
8.1999 51.3999 m
80.6999 51.3999 L
S
8.1999 65.8 m
80.6999 65.8 L
S
8.1999 15.3999 m
80.6999 15.3999 L
S
8.1999 29.8 m
80.6999 29.8 L
S
8.1999 44.1999 m
80.6999 44.1999 L
S
8.1999 58.6 m
80.6999 58.6 L
S
8.1999 73.0001 m
80.6999 73.0001 L
S
) &
] E
%AI3_EndPattern
%AI5_End_NonPrinting--
%AI5_Begin_NonPrinting
Np
3 Bn
%AI5_BeginGradient: (Black & White)
(Black & White) 0 2 Bd
[
<
FFFEFDFCFBFAF9F8F7F6F5F4F3F2F1F0EFEEEDECEBEAE9E8E7E6E5E4E3E2E1E0DFDEDDDCDBDAD9D8
D7D6D5D4D3D2D1D0CFCECDCCCBCAC9C8C7C6C5C4C3C2C1C0BFBEBDBCBBBAB9B8B7B6B5B4B3B2B1B0
AFAEADACABAAA9A8A7A6A5A4A3A2A1A09F9E9D9C9B9A999897969594939291908F8E8D8C8B8A8988
87868584838281807F7E7D7C7B7A797877767574737271706F6E6D6C6B6A69686766656463626160
5F5E5D5C5B5A595857565554535251504F4E4D4C4B4A494847464544434241403F3E3D3C3B3A3938
37363534333231302F2E2D2C2B2A292827262524232221201F1E1D1C1B1A19181716151413121110
0F0E0D0C0B0A09080706050403020100
>
0 %_Br
[
0 0 50 100 %_Bs
1 0 50 0 %_Bs
BD
%AI5_EndGradient
%AI5_BeginGradient: (Red & Yellow)
(Red & Yellow) 0 2 Bd
[
0
<
000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F2021222324252627
28292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F
505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F7071727374757677
78797A7B7C7D7E7F808182838485868788898A8B8C8D8E8F909192939495969798999A9B9C9D9E9F
A0A1A2A3A4A5A6A7A8A9AAABACADAEAFB0B1B2B3B4B5B6B7B8B9BABBBCBDBEBFC0C1C2C3C4C5C6C7
C8C9CACBCCCDCECFD0D1D2D3D4D5D6D7D8D9DADBDCDDDEDFE0E1E2E3E4E5E6E7E8E9EAEBECEDEEEF
F0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF
>
<
FFFFFEFEFDFDFDFCFCFBFBFBFAFAF9F9F9F8F8F7F7F7F6F6F5F5F5F4F4F3F3F3F2F2F1F1F1F0F0EF
EFEFEEEEEDEDEDECECEBEBEBEAEAE9E9E9E8E8E7E7E7E6E6E5E5E5E4E4E3E3E3E2E2E1E1E1E0E0DF
DFDFDEDEDDDDDDDCDCDBDBDBDADAD9D9D9D8D8D7D7D7D6D6D5D5D5D4D4D3D3D3D2D2D1D1D1D0D0CF
CFCFCECECDCDCDCCCCCBCBCBCACAC9C9C9C8C8C7C7C7C6C6C5C5C5C4C4C3C3C3C2C2C1C1C1C0C0BF
BFBFBEBEBDBDBDBCBCBBBBBBBABAB9B9B9B8B8B7B7B7B6B6B5B5B5B4B4B3B3B3B2B2B1B1B1B0B0AF
AFAFAEAEADADADACACABABABAAAAA9A9A9A8A8A7A7A7A6A6A5A5A5A4A4A3A3A3A2A2A1A1A1A0A09F
9F9F9E9E9D9D9D9C9C9B9B9B9A9A9999
>
0
1 %_Br
[
0 1 0.6 0 1 50 100 %_Bs
0 0 1 0 1 50 0 %_Bs
BD
%AI5_EndGradient
%AI5_BeginGradient: (Yellow & Blue Radial)
(Yellow & Blue Radial) 1 2 Bd
[
<
000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F2021222324252627
28292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F
505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F7071727374757677
78797A7B7C7D7E7F808182838485868788898A8B8C8D8E8F909192939495969798999A9B9C9D9E9F
A0A1A2A3A4A5A6A7A8A9AAABACADAEAFB0B1B2B3B4B5B6B7B8B9BABBBCBDBEBFC0C1C2C3C4C5C6C7
C8C9CACBCCCDCECFD0D1D2D3D4D5D6D7D8D9DADBDCDDDEDFE0E1E2E3E4E5E6E7E8E9EAEBECEDEEEF
F0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF
>
<
1415161718191A1B1C1D1E1F1F202122232425262728292A2A2B2C2D2E2F30313233343536363738
393A3B3C3D3E3F40414142434445464748494A4B4C4D4D4E4F50515253545556575858595A5B5C5D
5E5F60616263646465666768696A6B6C6D6E6F6F707172737475767778797A7B7B7C7D7E7F808182
83848586868788898A8B8C8D8E8F90919292939495969798999A9B9C9D9D9E9FA0A1A2A3A4A5A6A7
A8A9A9AAABACADAEAFB0B1B2B3B4B4B5B6B7B8B9BABBBCBDBEBFC0C0C1C2C3C4C5C6C7C8C9CACBCB
CCCDCECFD0D1D2D3D4D5D6D7D7D8D9DADBDCDDDEDFE0E1E2E2E3E4E5E6E7E8E9EAEBECEDEEEEEFF0
F1F2F3F4F5F6F7F8F9F9FAFBFCFDFEFF
>
<
ABAAAAA9A8A7A7A6A5A5A4A3A3A2A1A1A09F9F9E9D9D9C9B9B9A9999989797969595949393929191
908F8F8E8D8D8C8B8B8A8989888787868585848383828181807F7F7E7D7D7C7B7B7A797978777776
7575747373727171706F6F6E6D6D6C6B6B6A6969686767666565646362626160605F5E5E5D5C5C5B
5A5A5958585756565554545352525150504F4E4E4D4C4C4B4A4A4948484746464544444342424140
403F3E3E3D3C3C3B3A3A3938383736363534343332323130302F2E2E2D2C2C2B2A2A292828272626
25242423222121201F1F1E1D1D1C1B1B1A1919181717161515141313121111100F0F0E0D0D0C0B0B
0A090908070706050504030302010100
>
0
1 %_Br
[
0 0.08 0.67 0 1 50 14 %_Bs
1 1 0 0 1 50 100 %_Bs
BD
%AI5_EndGradient
%AI5_End_NonPrinting--
%AI5_BeginPalette
0 0 Pb
Pn
Pc
1 g
Pc
0 g
Pc
0 0 0 0 k
Pc
0.75 g
Pc
0.5 g
Pc
0.25 g
Pc
0 g
Pc
Bb
2 (Black & White) -4014 4716 0 0 1 0 0 1 0 0 Bg
0 BB
Pc
0.25 0 0 0 k
Pc
0.5 0 0 0 k
Pc
0.75 0 0 0 k
Pc
1 0 0 0 k
Pc
0.25 0.25 0 0 k
Pc
0.5 0.5 0 0 k
Pc
0.75 0.75 0 0 k
Pc
1 1 0 0 k
Pc
Bb
2 (Red & Yellow) -4014 4716 0 0 1 0 0 1 0 0 Bg
0 BB
Pc
0 0.25 0 0 k
Pc
0 0.5 0 0 k
Pc
0 0.75 0 0 k
Pc
0 1 0 0 k
Pc
0 0.25 0.25 0 k
Pc
0 0.5 0.5 0 k
Pc
0 0.75 0.75 0 k
Pc
0 1 1 0 k
Pc
Bb
0 0 0 0 Bh
2 (Yellow & Blue Radial) -4014 4716 0 0 1 0 0 1 0 0 Bg
0 BB
Pc
0 0 0.25 0 k
Pc
0 0 0.5 0 k
Pc
0 0 0.75 0 k
Pc
0 0 1 0 k
Pc
0.25 0 0.25 0 k
Pc
0.5 0 0.5 0 k
Pc
0.75 0 0.75 0 k
Pc
1 0 1 0 k
Pc
(Yellow Stripe) 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p
Pc
0.25 0.125 0 0 k
Pc
0.5 0.25 0 0 k
Pc
0.75 0.375 0 0 k
Pc
1 0.5 0 0 k
Pc
0.125 0.25 0 0 k
Pc
0.25 0.5 0 0 k
Pc
0.375 0.75 0 0 k
Pc
0.5 1 0 0 k
Pc
0 0 0 0 k
Pc
0 0.25 0.125 0 k
Pc
0 0.5 0.25 0 k
Pc
0 0.75 0.375 0 k
Pc
0 1 0.5 0 k
Pc
0 0.125 0.25 0 k
Pc
0 0.25 0.5 0 k
Pc
0 0.375 0.75 0 k
Pc
0 0.5 1 0 k
Pc
0 0 0 0 k
Pc
0.125 0 0.25 0 k
Pc
0.25 0 0.5 0 k
Pc
0.375 0 0.75 0 k
Pc
0.5 0 1 0 k
Pc
0.25 0 0.125 0 k
Pc
0.5 0 0.25 0 k
Pc
0.75 0 0.375 0 k
Pc
1 0 0.5 0 k
Pc
0 0 0 0 k
Pc
0.25 0.125 0.125 0 k
Pc
0.5 0.25 0.25 0 k
Pc
0.75 0.375 0.375 0 k
Pc
1 0.5 0.5 0 k
Pc
0.25 0.25 0.125 0 k
Pc
0.5 0.5 0.25 0 k
Pc
0.75 0.75 0.375 0 k
Pc
1 1 0.5 0 k
Pc
0 0 0 0 k
Pc
0.125 0.25 0.125 0 k
Pc
0.25 0.5 0.25 0 k
Pc
0.375 0.75 0.375 0 k
Pc
0.5 1 0.5 0 k
Pc
0.125 0.25 0.25 0 k
Pc
0.25 0.5 0.5 0 k
Pc
0.375 0.75 0.75 0 k
Pc
0.5 1 1 0 k
Pc
0 0 0 0 k
Pc
0.125 0.125 0.25 0 k
Pc
0.25 0.25 0.5 0 k
Pc
0.375 0.375 0.75 0 k
Pc
0.5 0.5 1 0 k
Pc
0.25 0.125 0.25 0 k
Pc
0.5 0.25 0.5 0 k
Pc
0.75 0.375 0.75 0 k
Pc
1 0.5 1 0 k
Pc
PB
%AI5_EndPalette
%%EndSetup
%AI5_BeginLayer
1 0 1 1 0 0 0 79 128 255 Lb
(Layer 1) Ln
0 A
800 Ar
0 J 0 j 1 w 3.8636 M []0 d
%AI3_Note:
0 D
1929.4523 1044 m
1929.4523 -252 L
(N) *
2292.9414 1044 m
2292.9414 -252 L
(N) *
u
u
0 O
0 0 0 0.3 k
236.8424 587.2023 m
238.6275 587.3935 238.6531 585.6367 238.6837 584.8097 c
238.7474 583.0885 237.8549 582.5785 Y
237.5999 581.8772 238.7174 581.4272 Y
241.0425 580.6772 L
242.0175 579.2522 242.2425 573.3271 Y
242.6551 568.3334 L
242.6551 568.3334 L
242.6925 568.5271 L
243.0705 566.6249 L
243.1118 565.3462 242.4675 565.3021 V
241.8742 565.4699 242.1217 566.9962 Y
241.8742 566.4599 241.5411 566.585 V
241.2555 566.8724 241.4242 568.2686 Y
240.9059 568.5277 L
240.5925 572.8771 L
239.9925 576.5522 L
239.8424 573.7021 239.3175 572.6521 V
239.6925 571.2271 239.9175 568.5271 Y
239.3825 562.0905 L
239.3175 559.602 L
239.3925 554.277 L
238.7924 554.2019 L
240.1425 552.7769 239.8424 552.1019 V
239.4674 551.5769 238.9424 551.3894 237.8924 552.1019 C
237.2174 552.6269 237.4424 553.977 Y
236.9174 554.3144 L
236.9174 560.502 L
236.6924 565.7521 L
236.4674 560.427 L
236.4674 554.3144 L
235.9424 553.977 L
236.1674 552.6269 235.4924 552.1019 V
234.4424 551.5769 234.1424 551.6144 233.5424 552.1019 C
232.7924 552.6269 234.5924 554.2019 Y
233.9924 554.277 L
234.0674 559.602 L
234.0024 562.0905 L
233.4674 568.5271 L
233.6924 571.2271 234.0674 572.6521 V
233.5424 573.7021 233.3924 576.4772 Y
232.9424 572.9521 L
232.4789 568.5277 L
231.8174 568.2271 L
232.1086 566.8724 231.823 566.585 V
231.4898 566.4599 231.2423 566.9962 Y
231.4898 565.4699 230.8965 565.3021 V
230.2523 565.3462 230.2935 566.6249 Y
230.6174 568.6771 L
230.7297 568.3334 L
230.7297 568.3334 L
231.1424 573.3271 L
231.3674 579.2522 232.3424 580.6772 V
234.6674 581.4272 L
235.9424 581.8772 235.6874 582.5785 V
234.7949 583.0885 234.8586 584.8097 v
234.8893 585.6367 235.0574 587.3935 236.8424 587.2023 C
f
U
0 0 0 0.15 k
1 R
0 0 0 1 K
0.5 w
173.2389 500 m
407.9062 500 L
407.9062 476 L
173.2389 476 L
173.2389 500 L
b
173.2389 476 m
290.6385 476 L
290.6385 452 L
173.2389 452 L
173.2389 476 L
b
173.2389 404 m
407.9062 404 L
407.9062 380 L
173.2389 380 L
173.2389 404 L
b
0 0 0 0.2 k
173.2389 380 m
407.9062 380 L
407.9062 356 L
173.2389 356 L
173.2389 380 L
b
173.2389 356 m
407.9062 356 L
407.9062 332 L
173.2389 332 L
173.2389 356 L
b
0 0 0 0.15 k
290.6385 476 m
407.9062 476 L
407.9062 452 L
290.6385 452 L
290.6385 476 L
b
266 452 m
407.9062 452 L
407.9062 428 L
266 428 L
266 452 L
b
266 428 m
407.9062 428 L
407.9062 404 L
266 404 L
266 428 L
b
173.2389 452 m
266 452 L
266 404 L
173.2389 404 L
173.2389 452 L
b
0 0 0 0.1 k
173.2389 524 m
407.9062 524 L
407.9062 500 L
173.2389 500 L
173.2389 524 L
b
209.3598 551.654 m
264.9775 551.654 L
264.9775 524 L
209.3598 524 L
209.3598 551.654 L
b
1 To
1 0 0 1 218.0525 541.4767 0 Tp
257.2823 532.4767 m
257.2823 541.4767 L
218.0525 541.4767 L
218.0525 532.4767 L
257.2823 532.4767 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
/_Helvetica 8 Tf
0 Ts
100 Tz
0 Tt
1 TA
%_ 0 XL
36 0 Xb
XB
-5 0 10 TC
90 100 150 TW
0 0 0 Ti
0 Ta
0 0 2 2 3 Th
0 Tq
8.2083 0 Tl
0 Tc
0 Tw
(application) Tx
(\r) TX 
TO
1 To
1 0 0 1 282.3499 515.3362 0 Tp
0.5 w 3.8636 M
299.7923 506.3362 m
299.7923 515.3362 L
282.3499 515.3362 L
282.3499 506.3362 L
299.7923 506.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(shell) Tx
(\r) TX 
TO
1 To
1 0 0 1 261.6829 491.3362 0 Tp
0.5 w 3.8636 M
320.4606 482.3362 m
320.4606 491.3362 L
261.6829 491.3362 L
261.6829 482.3362 L
320.4606 482.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(MIPS simulation) Tx
(\r) TX 
TO
1 To
1 0 0 1 217.8943 467.3362 0 Tp
0.5 w 3.8636 M
246.8912 458.3362 m
246.8912 467.3362 L
217.8943 467.3362 L
217.8943 458.3362 L
246.8912 458.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(syscalls) Tx
(\r) TX 
TO
1 To
1 0 0 1 323.0102 467.3362 0 Tp
0.5 w 3.8636 M
376.4418 458.3362 m
376.4418 467.3362 L
323.0102 467.3362 L
323.0102 458.3362 L
376.4418 458.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(virtual memory) Tx
(\r) TX 
TO
1 To
1 0 0 1 308.9453 443.3362 0 Tp
0.5 w 3.8636 M
365.9593 434.3362 m
365.9593 443.3362 L
308.9453 443.3362 L
308.9453 434.3362 L
365.9593 434.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(address spaces) Tx
(\r) TX 
TO
1 To
1 0 0 1 318.0654 419.3362 0 Tp
0.5 w 3.8636 M
356.8395 410.3362 m
356.8395 419.3362 L
318.0654 419.3362 L
318.0654 410.3362 L
356.8395 410.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(file system) Tx
(\r) TX 
TO
1 To
1 0 0 1 254.7855 395.3362 0 Tp
0.5 w 3.8636 M
327.3574 386.3362 m
327.3574 395.3362 L
254.7855 395.3362 L
254.7855 386.3362 L
327.3574 386.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(thread management) Tx
(\r) TX 
TO
1 To
1 0 0 1 238.5599 371.3362 0 Tp
0.5 w 3.8636 M
343.5832 362.3362 m
343.5832 371.3362 L
238.5599 371.3362 L
238.5599 362.3362 L
343.5832 362.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(machine-dependent OS layer) Tx
(\r) TX 
TO
1 To
1 0 0 1 253.4573 347.3362 0 Tp
0.5 w 3.8636 M
328.6864 338.3362 m
328.6864 347.3362 L
253.4573 347.3362 L
253.4573 338.3362 L
328.6864 338.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(I/O device simulation) Tx
(\r) TX 
TO
1 To
1 0 0 1 211.1761 437.3362 0 Tp
0.5 w 3.8636 M
229.0599 428.3362 m
229.0599 437.3362 L
211.1761 437.3362 L
211.1761 428.3362 L
229.0599 428.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(RPC) Tx
(\r) TX 
TO
1 To
1 0 0 1 211.6204 425.3362 0 Tp
0.5 w 3.8636 M
228.617 416.3362 m
228.617 425.3362 L
211.6204 425.3362 L
211.6204 416.3362 L
228.617 416.3362 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(TCP) Tx
(\r) TX 
TO
1 To
1 0 0 1 415.0742 519.8184 0 Tp
0.5 w 3.8636 M
449.8466 499.8184 m
449.8466 519.8184 L
415.0742 519.8184 L
415.0742 499.8184 L
449.8466 499.8184 L
n
TP
9.6079 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
1 Ta
(user ) Tx
-9.1094 -11 Td
11 0 Tl
(programs) Tx
(\r) TX 
TO
1 To
1 0 0 1 414.1816 435.8184 0 Tp
0.5 w 3.8636 M
450.7405 415.8184 m
450.7405 435.8184 L
414.1816 435.8184 L
414.1816 415.8184 L
450.7405 415.8184 L
n
TP
3.8312 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
8.2083 0 Tl
(portable ) Tx
-3.332 -11 Td
11 0 Tl
(OS kernel) Tx
(\r) TX 
TO
1 To
1 0 0 1 413.9619 363.8184 0 Tp
0.5 w 3.8636 M
454.083 343.8184 m
454.083 363.8184 L
413.9619 363.8184 L
413.9619 343.8184 L
454.083 343.8184 L
n
TP
3.3926 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
8.2083 0 Tl
(hardware  ) Tx
-1.332 -11 Td
11 0 Tl
(simulation) Tx
(\r) TX 
TO
1 To
1 0 0 1 265.9046 325.3515 0 Tp
0.5 w 3.8636 M
316.2391 316.3515 m
316.2391 325.3515 L
265.9046 325.3515 L
265.9046 316.3515 L
316.2391 316.3515 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
0 Ta
8.2083 0 Tl
(UNIX process) Tx
(\r) TX 
TO
0 0 0 0.1 k
1 R
0 0 0 1 K
0.5 w 3.8636 M
316.3598 551.654 m
371.9775 551.654 L
371.9775 524 L
316.3598 524 L
316.3598 551.654 L
b
1 To
1 0 0 1 325.0525 541.4767 0 Tp
364.2823 532.4767 m
364.2823 541.4767 L
325.0525 541.4767 L
325.0525 532.4767 L
364.2823 532.4767 L
n
TP
0 -6.1562 Td
0 Tr
0 O
0 0 0 1 k
1 w 4 M
(application) Tx
(\r) TX 
TO
1 R
0 0 0 1 K
1.5 w 3.8636 M
407.9062 476 m
173.2389 476 L
S
407.9062 380.2544 m
173.2389 380.2544 L
S
U
LB
%AI5_EndLayer--
%%PageTrailer
gsave annotatepage grestore showpage
%%Trailer
Adobe_IllustratorA_AI5 /terminate get exec
Adobe_typography_AI5 /terminate get exec
Adobe_level2_AI5 /terminate get exec
%%EOF

%%EndDocument

 endTexFig
 1714 10082 a Fd(Figure)g(B.1)199 b Fj(How)41 b(the)g(major)f(pieces)h
(in)h(Nachos)f(\002t)h(together)-12 b(.)p eop
%%Page: 911 5
911 4 bop 4159 834 a Fg(B.2)150 b(Nachos)38 b(Software)g(Structure)300
b(91)-6 b(1)1385 1432 y Fj(W)-15 b(e)41 b(believe)g(that)h(the)f
(answer)h(is)h(yes,)f(because)f(using)i(a)f(simulator)h(makes)f(debug-)
1086 1631 y(ging)64 b(easier)-12 b(.)116 b(On)62 b(r)m(eal)h(har)m
(dwar)m(e,)68 b(operating-system)63 b(behavior)f(is)i(nondeterminis-)
1086 1830 y(tic;)i(depending)58 b(on)f(the)g(pr)m(ecise)g(timing)i(of)f
(interr)o(upts,)i(the)e(operating)f(system)h(may)1086
2029 y(take)c(one)e(path)i(thr)m(ough)f(its)i(code)e(or)g(another)-12
b(.)86 b(Synchr)m(onization)53 b(can)g(help)g(to)h(make)1086
2229 y(operating-system)45 b(behavior)f(mor)m(e)f(pr)m(edictable,)j
(but)f(what)h(if)g(we)f(have)f(a)i(bug)f(in)h(our)1086
2428 y(synchr)m(onization)e(code)g(such)h(that)g(two)g(thr)m(eads)g
(can)f(access)h(the)f(same)h(data)g(str)o(uctur)m(e)1086
2627 y(at)i(the)f(same)h(time?)67 b(The)45 b(kernel)h(may)h(behave)e
(corr)m(ectly)h(most)h(of)f(the)h(time,)g(yet)g(crash)1086
2826 y(occasionally)-18 b(.)100 b(W)-9 b(ithout)58 b(being)f(able)h(to)
f(r)m(epeat)g(the)g(behavior)f(that)i(led)g(to)g(the)f(crash,)1086
3026 y(however)-12 b(,)35 b(it)i(would)h(be)e(dif)m(\002cult)j(to)d
(\002nd)i(the)e(r)m(oot)f(cause)i(of)g(the)f(pr)m(oblem.)48
b(Running)36 b(on)1086 3225 y(a)51 b(simulator)-12 b(,)52
b(rather)e(than)g(on)g(r)m(eal)h(har)m(dwar)m(e,)h(allows)g(us)f(to)g
(make)f(system)i(behavior)1086 3424 y(r)m(epeatable.)112
b(Of)62 b(course,)k(debugging)d(nonr)m(epeatable)d(execution)g
(sequences)i(is)h(part)1086 3623 y(of)54 b(life)g(for)f(pr)m
(ofessional)h(operating-system)f(engineers,)i(but)f(it)h(did)g(not)e
(seem)g(advis-)1086 3823 y(able)e(for)f(us)i(to)f(make)g(this)g
(experience)d(part)j(of)g(anyone's)g(intr)m(oduction)f(to)h(operating)
1086 4022 y(systems.)1385 4221 y(Running)39 b(on)g(simulated)h(har)m
(dwar)m(e)f(has)h(other)e(advantages.)51 b(During)39
b(debugging,)1086 4420 y(it)45 b(is)h(important)d(to)i(be)f(able)h(to)f
(make)h(a)f(change)g(to)h(the)f(system)h(quickly)-18
b(,)46 b(to)f(r)m(ecompile,)1086 4620 y(and)53 b(to)f(test)h(the)f
(change)f(to)i(see)f(whether)f(it)i(\002xed)g(the)f(pr)m(oblem.)83
b(Using)53 b(a)g(simulator)1086 4819 y(r)m(educes)36
b(the)g(time)g(r)m(equir)m(ed)g(for)h(this)g(edit\226compile\226debug)f
(cycle,)h(because)f(otherwise)1086 5018 y(the)83 b(entir)m(e)f(system)i
(has)g(to)g(be)f(r)m(ebooted)f(to)h(test)h(a)g(new)f(version)g(of)h
(the)f(kernel.)1086 5217 y(Mor)m(eover)-12 b(,)54 b(normal)f(debugging)
h(tools)h(do)f(not)f(work)h(on)g(operating-system)f(kernels,)1086
5417 y(because,)e(for)f(example,)h(if)g(the)f(kernel)g(stops)h(at)f(a)h
(br)m(eakpoint,)g(the)f(debugger)g(cannot)1086 5616 y(use)32
b(the)g(kernel)g(to)g(print)g(the)f(pr)m(ompt)h(for)g(the)f(next)h
(debugging)h(command.)47 b(In)32 b(practice,)1086 5815
y(debugging)k(an)e(operating-system)h(kernel)e(on)i(r)m(eal)f(har)m
(dwar)m(e)g(r)m(equir)m(es)g Fi(two)h Fj(machines:)1086
6014 y(one)75 b(to)h(r)o(un)f(the)h(kernel)f(under)h(test,)84
b(and)77 b(the)e(other)g(to)h(r)o(un)f(the)h(debugger)-12
b(.)155 b(For)1086 6214 y(these)54 b(r)m(easons,)j(many)d(commer)m
(cial)f(operating-system)i(development)e(pr)m(ojects)g(now)1086
6413 y(r)m(outinely)41 b(use)h(simulators)g(to)f(speed)g(development.)
1385 6612 y(One)84 b(appr)m(oach)h(would)i(be)e(to)h(simulate)g(the)f
(entir)m(e)g(workstation)h(har)m(dwar)m(e,)1086 6811
y(including)41 b(fetching,)e(decoding,)h(and)h(executing)e(each)g
(kernel-)g(or)h(user)m(-mode)f(instr)o(uc-)1086 7011
y(tion)53 b(in)g(turn.)85 b(Instead,)56 b(we)d(take)g(a)g(shortcut)f
(for)h(performance.)83 b(The)52 b(Nachos)g(kernel)1086
7210 y(code)58 b(executes)g(in)h(native)f(mode)h(as)g(a)g(normal)f
(\(debuggable\))i Fh(UNIX)f Fj(pr)m(ocess)g(linked)1086
7409 y(with)38 b(the)e(har)m(dwar)m(e)h(simulator)-12
b(.)49 b(The)36 b(simulator)h(surr)m(ounds)g(the)g(kernel)f(code,)h
(making)1086 7608 y(it)49 b(appear)f(as)h(though)g(it)g(is)h(r)o
(unning)d(on)i(r)m(eal)f(har)m(dwar)m(e.)73 b(Whenever)46
b(the)i(kernel)g(code)1086 7808 y(accesses)41 b(an)g
Fh(I/O)h Fj(device)f(\227)h(such)f(as)h(a)g(clock)f(chip,)g(a)g(disk,)i
(a)e(network)g(contr)m(oller)-12 b(,)39 b(or)i(a)1086
8007 y(console)34 b(\227)h(the)g(simulator)g(is)h(invoked)f(to)g
(perform)e(the)i Fh(I/O)g Fj(activity)-18 b(.)50 b(For)34
b(instance,)i(the)1086 8206 y(simulator)h(implements)f(disk)i
Fh(I/O)f Fj(using)h Fh(UNIX)f Fj(\002le)g(r)m(outines;)h(it)f
(implements)f(network)1086 8405 y(packet)41 b(transfer)g(via)g
Fh(UNIX)h Fj(sockets.)1385 8605 y(In)33 b(addition,)i(we)f(simulate)g
(each)e(instr)o(uction)h(executed)f(in)h(user)g(mode.)48
b(Whenever)1086 8804 y(the)g(kernel)g(gives)h(up)f(contr)m(ol)g(to)g(r)
o(un)g(application)h(code,)g(the)f(simulator)h(fetches)f(each)1086
9003 y(application)h(instr)o(uction)f(in)h(turn,)h(checks)f(for)g(page)
f(faults)j(or)d(other)g(exceptions,)h(and)1086 9202 y(then)74
b(simulates)h(its)h(execution.)149 b(When)74 b(an)g(application)h(page)
f(fault)i(or)e(har)m(dwar)m(e)1086 9402 y(interr)o(upt)40
b(occurs,)g(the)h(simulator)h(passes)g(contr)m(ol)e(back)i(to)f(the)g
(kernel)f(for)h(pr)m(ocessing,)1086 9601 y(as)h(the)f(har)m(dwar)m(e)f
(would)j(in)e(a)h(r)m(eal)f(system.)1385 9800 y(Thus,)63
b(in)d(Nachos,)i(user)d(applications,)64 b(the)59 b(operating-system)g
(kernel,)j(and)e(the)1086 9999 y(har)m(dwar)m(e)46 b(simulator)h(r)o
(un)f(together)g(in)g(a)h(normal)f Fh(UNIX)h Fj(pr)m(ocess.)67
b(The)46 b Fh(UNIX)h Fj(pr)m(ocess)p eop
%%Page: 912 6
912 5 bop 936 834 a Fg(912)298 b(Appendix)38 b(B)149
b(The)37 b(Nachos)i(System)936 1432 y Fj(thus)77 b(r)m(epr)m(esents)f
(a)h(single)h(workstation)f(r)o(unning)f(Nachos.)158
b(The)76 b(Nachos)h(kernel,)936 1631 y(however)-12 b(,)61
b(is)e(written)g(as)g(though)g(it)g(wer)m(e)f(r)o(unning)g(on)h(r)m
(eal)f(har)m(dwar)m(e.)103 b(In)58 b(fact,)63 b(we)936
1830 y(could)f(port)f(the)g(Nachos)g(kernel)f(to)i(a)f(physical)i
(machine)d(simply)i(by)g(r)m(eplacing)f(the)936 2029
y(har)m(dwar)m(e)36 b(simulation)h(with)g(r)m(eal)f(har)m(dwar)m(e)g
(and)g(a)h(few)g(machine-dependent)d(device-)936 2229
y(driver)41 b(r)m(outines.)1235 2428 y(Nachos)g(is)h(dif)m(fer)m(ent)f
(fr)m(om)g(earlier)f(systems)j(in)e(several)g(signi\002cant)h(ways:)
1023 2779 y(1.)100 b(W)-15 b(e)32 b(can)h(r)o(un)g(normal)f(compiled)h
(C)h(pr)m(ograms)e(on)h(the)g(Nachos)g(kernel,)g(because)g(we)1248
2978 y(simulate)51 b(a)g(standar)m(d,)j(well-documented,)f(instr)o
(uction)d(set)h(\()p Fh(MIPS)d(R2/3000)h Fj(inte-)1248
3177 y(ger)60 b(instr)o(uctions\))i(for)f(user)m(-mode)f(pr)m(ograms.)
110 b(In)61 b(the)f(past,)66 b(operating-system)1248
3376 y(pr)m(ojects)35 b(typically)i(simulated)g(their)f(own)g(ad)h(hoc)
e(instr)o(uction)h(set,)h(r)m(equiring)f(user)1248 3576
y(pr)m(ograms)41 b(to)i(be)f(written)g(in)h(a)f(special-purpose)g
(assembly)h(language.)55 b(However)-12 b(,)1248 3775
y(because)31 b(the)h Fh(R2/3000)e Fj(is)j(a)f Fh(RISC)p
Fj(,)h(it)g(is)g(straightforwar)m(d)g(to)f(simulate)h(its)g(instr)o
(uction)1248 3974 y(set.)51 b(In)41 b(all,)g(the)g Fh(MIPS)i
Fj(simulation)f(code)f(is)h(only)g(about)f(10)h(pages)f(long.)1023
4252 y(2.)100 b(W)-15 b(e)63 b(simulate)i(accurately)g(the)e(behavior)g
(of)i(a)f(network)g(of)h(workstations,)70 b(each)1248
4452 y(r)o(unning)47 b(a)i(copy)f(of)h(Nachos.)72 b(W)-15
b(e)48 b(connect)f(Nachos)h(\223machines,\224)i(each)d(r)o(unning)1248
4651 y(as)59 b(a)f Fh(UNIX)h Fj(pr)m(ocess,)i(via)e Fh(UNIX)g
Fj(sockets,)j(simulating)e(a)f(local-ar)m(ea)f(network.)101
b(A)1248 4850 y(thr)m(ead)58 b(on)g(one)f(\223machine\224)g(can)i(then)
e(send)i(a)g(packet)f(to)g(a)h(thr)m(ead)f(r)o(unning)g(on)1248
5049 y(a)49 b(dif)m(fer)m(ent)h(\223machine\224;)i(of)e(course,)g(both)
f(ar)m(e)g(simulated)i(on)e(the)g(same)h(physical)1248
5249 y(har)m(dwar)m(e.)1023 5527 y(3.)100 b(The)95 b(simulation)i(is)g
(deterministic,)109 b(and)96 b(kernel)g(behavior)e(is)j(r)m(epr)m
(oducible.)1248 5726 y(Instead)36 b(of)h(using)g Fh(UNIX)g
Fj(signals)h(to)e(simulate)h(asynchr)m(onous)e(devices)i(such)f(as)h
(the)1248 5926 y(disk)44 b(and)f(the)f(timer)-12 b(,)41
b(Nachos)i(maintains)f(a)h(simulated)h(time)e(that)h(is)g(incr)m
(emented)1248 6125 y(whenever)72 b(a)k(user)e(pr)m(ogram)g(executes)g
(an)g(instr)o(uction)h(and)g(whenever)e(a)i(call)1248
6324 y(is)60 b(made)f(to)g(certain)f(low-level)i(kernel)e(r)m(outines.)
104 b(Interr)o(upt)58 b(handlers)h(ar)m(e)f(then)1248
6523 y(invoked)88 b(when)h(the)f(simulated)i(time)e(r)m(eaches)g(the)g
(appr)m(opriate)f(point.)193 b(At)1248 6723 y(pr)m(esent,)44
b(the)h(pr)m(ecise)g(timing)h(of)f(network)g(packet)g(delivery)h(is)g
(not)f(r)m(epr)m(oducible,)1248 6922 y(although)c(this)h(limitation)g
(may)f(be)g(\002xed)h(in)f(later)g(versions)g(of)h(Nachos.)1023
7200 y(4.)100 b(The)88 b(simulation)h(is)h(randomizable)e(to)h(add)i
(unpr)m(edictable,)99 b(but)89 b(r)m(epeatable,)1248
7399 y(behavior)31 b(to)i(the)f(kernel)g(thr)m(ead)h(scheduler)-12
b(.)47 b(Our)32 b(goal)i(was)g(to)f(make)f(it)i(easy)f(to)g(test)1248
7599 y(kernel)j(behavior)f(given)i(dif)m(fer)m(ent)g(interleavings)g
(of)g(the)f(execution)g(of)h(concurr)m(ent)1248 7798
y(thr)m(eads.)96 b(Simulated)58 b(time)e(is)h(incr)m(emented)e
(whenever)f(interr)o(upts)i(ar)m(e)g(enabled)1248 7997
y(within)37 b(the)f(kernel)g(\(in)h(other)e(wor)m(ds,)j(whenever)d(any)
h(low-level)h(synchr)m(onization)1248 8196 y(r)m(outine,)e(such)h(as)g
(semaphor)m(e)d(P)j(or)f(V)-21 b(,)35 b(is)h(called\);)i(after)d(a)h
(random)f(interval)g(of)h(sim-)1248 8396 y(ulated)d(time,)h(the)e
(scheduler)h(will)h(cause)f(the)f(curr)m(ent)g(thr)m(ead)g(to)h(be)f
(time)h(sliced.)49 b(As)1248 8595 y(another)35 b(example,)h(the)h
(network)f(simulation)i(randomly)f(chooses)f(which)h(packets)1248
8794 y(to)48 b(dr)m(op.)71 b(Pr)m(ovided)49 b(that)g(the)e(initial)j
(seed)e(to)h(the)f(random)f(number)g(generator)f(is)1248
8993 y(the)40 b(same,)h(however)-12 b(,)39 b(the)i(behavior)f(of)h(the)
g(system)h(is)g(r)m(epeatable.)1023 9272 y(5.)100 b(W)-15
b(e)53 b(hide)h(the)f(har)m(dwar)m(e)g(simulation)i(fr)m(om)e(the)g(r)m
(est)h(of)g(Nachos)f(via)h(a)g(machine-)1248 9471 y(dependent)62
b(interface)h(layer)-12 b(.)118 b(For)63 b(example,)68
b(we)c(de\002ne)f(an)h(abstract)g(disk)h(that)1248 9670
y(accepts)53 b(r)m(equests)h(to)g(r)m(ead)g(and)h(write)f(disk)i
(sectors)d(and)i(pr)m(ovides)f(an)g(interr)o(upt)1248
9870 y(handler)59 b(to)i(be)f(called)h(on)f(r)m(equest)g(completion.)
106 b(The)60 b(details)i(of)e(the)g(disk)j(sim-)1248
10069 y(ulator)77 b(ar)m(e)g(hidden)h(behind)f(this)i(abstraction,)85
b(in)78 b(much)f(the)g(same)h(way)g(that)p eop
%%Page: 913 7
913 6 bop 4540 834 a Fg(B.3)149 b(Sample)37 b(Assignments)300
b(913)1398 1432 y Fj(disk-device\226speci\002c)41 b(details)h(ar)m(e)e
(isolated)i(in)e(a)h(normal)f(operating)f(system.)51
b(One)1398 1631 y(advantage)57 b(to)h(using)g(a)f(machine-dependent)f
(interface)g(layer)h(is)i(to)e(make)g(clear)1398 1830
y(which)35 b(portions)g(of)h(Nachos)f(can)h(be)f(modi\002ed)h(\(the)g
(kernel)f(and)h(the)f(applications\))1398 2029 y(and)41
b(which)g(portions)g(ar)m(e)f(of)m(f-limits)j(\(the)e(har)m(dwar)m(e)g
(simulation)h(\227)f(at)h(least)g(until)1398 2229 y(you)f(take)h(a)f
(computer)m(-ar)m(chitectur)m(e)d(course\).)1086 2744
y Ff(B.3)p 1624 2721 100 100 v 498 w(Sample)58 b(Assignments)1086
3095 y Fj(Nachos)32 b(contains)g(\002ve)g(major)f(components,)h(each)f
(the)h(focus)g(of)h(one)e(assignment)i(given)1086 3294
y(during)43 b(the)g(semester:)53 b(thr)m(ead)43 b(management)e(and)i
(synchr)m(onization,)f(the)h(\002le)g(system,)1086 3493
y(user)m(-level)68 b(multipr)m(ogramming)g(support,)74
b(the)68 b(virtual-memory)g(system,)76 b(and)69 b(net-)1086
3693 y(working.)c(Each)46 b(assignment)g(is)h(designed)g(to)f(build)h
(on)f(pr)m(evious)f(ones;)j(for)d(instance,)1086 3892
y(every)56 b(part)h(of)h(Nachos)f(uses)h(thr)m(ead)f(primitives)g(for)g
(managing)h(concurr)m(ency)-18 b(.)96 b(This)1086 4091
y(design)53 b(r)m(e\003ects)f(part)h(of)f(the)h(charm)e(of)i
(developing)f(operating)g(systems:)74 b(Y)-15 b(ou)53
b(get)f(to)1086 4290 y(use)60 b(what)g(you)g(build.)106
b(It)60 b(is)h(easy)-18 b(,)63 b(however)-12 b(,)62 b(to)e(change)e
(the)h(assignments)i(or)e(to)g(do)1086 4490 y(them)40
b(in)i(a)f(dif)m(fer)m(ent)h(or)m(der)-12 b(.)1385 4689
y(In)67 b(Sections)f(B.3.1)h(thr)m(ough)g(B.3.5,)72 b(we)c(discuss)h
(each)d(of)h(the)g(\002ve)g(assignments)1086 4888 y(in)59
b(turn,)j(describing)d(what)g(har)m(dwar)m(e-simulation)g(facilities)h
(and)f(operating-system)1086 5088 y(str)o(uctur)m(es)43
b(we)h(pr)m(ovide,)f(and)h(what)g(we)g(ask)g(you)g(to)g(implement.)56
b(Of)44 b(course,)f(because)1086 5287 y(Nachos)56 b(is)g(continuing)g
(to)g(evolve,)i(what)f(is)g(described)f(her)m(e)f(is)h(a)h(snapshot)f
(of)g(what)1086 5486 y(is)61 b(available)g(at)f(the)g(time)g(of)g
(printing.)107 b(Section)60 b(B.4)g(explains)g(how)h(to)f(obtain)g(mor)
m(e)1086 5685 y(up-to-date)42 b(information.)1385 5885
y(The)74 b(assignments)i(ar)m(e)f(intended)g(to)g(be)g(of)g(r)m(oughly)
h(equal)f(size,)84 b(each)74 b(taking)1086 6084 y(appr)m(oximately)g(3)
i(weeks)g(of)f(a)h(15-week)g(\(semester\))e(course,)83
b(assuming)76 b(that)g(two)1086 6283 y(people)44 b(work)h(together)f
(on)h(each.)61 b(The)45 b(\002le-system)h(assignment)f(is)h(the)f(most)
g(dif)m(\002cult)1086 6482 y(of)37 b(the)f(\002ve;)i(the)e(multipr)m
(ogramming)g(assignment)h(is)h(the)f(least)g(dif)m(\002cult.)51
b(Faculty)38 b(who)1086 6682 y(have)45 b(used)h(Nachos)g(say)g(that)g
(they)g(\002nd)g(it)h(useful)g(to)e(spend)h(1/2)g(to)f(1)h(hour)f(per)g
(week)1086 6881 y(discussing)58 b(the)c(assignments.)94
b(W)-15 b(e)55 b(have)g(found)h(it)g(useful)g(for)f(faculty)i(to)e
(conduct)g(a)1086 7080 y(design)i(r)m(eview)f(with)h(each)e(pair)i(of)f
(students)h(the)f(week)h(befor)m(e)d(each)i(assignment)g(is)1086
7279 y(due.)1385 7479 y(Nachos)74 b(is)i(intended)e(to)h(encourage)e(a)
i(quantitative)g(appr)m(oach)e(to)i(operating-)1086 7678
y(system)i(design.)158 b(Fr)m(equently)-18 b(,)85 b(the)76
b(choice)f(of)i(how)g(to)g(implement)e(an)i(operating-)1086
7877 y(system)d(function)f(r)m(educes)g(to)h(a)g(tradeof)m(f)f(between)
g(simplicity)i(and)f(performance.)1086 8076 y(Making)55
b(informed)f(decisions)i(about)e(tradeof)m(fs)i(is)f(one)f(of)h(the)f
(key)h(tasks)i(to)d(learn)g(in)1086 8276 y(an)49 b(under)m(graduate)h
(operating-system)f(course.)75 b(The)48 b(Nachos)i(har)m(dwar)m(e)f
(simulation)1086 8475 y(r)m(e\003ects)35 b(curr)m(ent)g(har)m(dwar)m(e)
g(performance)e(characteristics)j(\(except)f(that)h(kernel)f(execu-)
1086 8674 y(tion)50 b(time)g(is)h(estimated,)h(rather)d(than)g(being)h
(measur)m(ed)g(dir)m(ectly\).)78 b(The)49 b(assignments)1086
8873 y(exploit)38 b(this)h(featur)m(e)f(by)h(asking)h(that)f(you)f
(explain)g(and)h(optimize)f(the)g(performance)e(of)1086
9073 y(your)41 b(implementations)f(on)h(simple)g(benchmarks.)1385
9272 y(The)71 b(Nachos)g(kernel)g(and)h(simulator)g(ar)m(e)g
(implemented)e(in)i(a)g(subset)h(of)f(C++.)1086 9471
y(Object-oriented)63 b(pr)m(ogramming)i(is)h(becoming)e(mor)m(e)h
(popular)-12 b(,)70 b(and)c(it)g(is)h(a)e(natural)1086
9670 y(idiom)44 b(for)g(str)m(essing)g(the)f(importance)f(of)i
(modularity)h(and)f(clean)f(interfaces)g(in)h(build-)1086
9870 y(ing)55 b(systems.)90 b(Unfortunately)-18 b(,)57
b(C++)c(is)i(a)g(complicated)e(language;)61 b(thus,)d(to)c(simplify)
1086 10069 y(matters,)48 b(we)g(omitted)f(certain)g(aspects)g(fr)m(om)g
(standar)m(d)h(C++:)63 b(derived)47 b(classes,)i(oper)m(-)p
eop
%%Page: 914 8
914 7 bop 936 834 a Fg(914)298 b(Appendix)38 b(B)149
b(The)37 b(Nachos)i(System)936 1432 y Fj(ator)h(and)i(function)f
(overloading,)f(C++)g(str)m(eams,)g(and)i(generics.)50
b(W)-15 b(e)40 b(also)i(kept)f(inlines)936 1631 y(to)h(a)h(minimum.)54
b(The)41 b(Nachos)h(distribution)i(includes)f(a)g(short)f(primer)f(to)i
(help)f(people)936 1830 y(who)i(know)h(C)f(to)g(learn)g(our)g(subset)h
(of)f(C++;)h(we)f(have)g(found)g(that)h(our)f(students)h(pick)936
2029 y(up)c(this)h(subset)g(quickly)-18 b(.)936 2562
y Fc(B.3.1)98 b(Thread)48 b(Management)936 2861 y Fj(The)i(\002rst)i
(assignment)g(intr)m(oduces)f(the)f(concepts)g(of)i(thr)m(eads)f(and)h
(concurr)m(ency)-18 b(.)77 b(The)936 3060 y(baseline)46
b(Nachos)h(kernel)e(pr)m(ovides)i(a)g(basic)g(working)g(thr)m(ead)f
(system)i(and)f(an)f(imple-)936 3260 y(mentation)37 b(of)h(semaphor)m
(es;)f(the)h(assignment)g(is)h(to)f(implement)f(Mesa-style)i(locks)g
(and)936 3459 y(condition)62 b(variables)h(using)h(semaphor)m(es,)i
(and)d(then)f(to)h(implement)f(solutions)h(to)g(a)936
3658 y(number)40 b(of)h(concurr)m(ency)e(pr)m(oblems)h(using)i(these)f
(synchr)m(onization)f(primitives.)1235 3857 y(In)e(much)f(the)h(same)g
(way)i(as)f(understanding)f(pointers)g(can)g(be)g(dif)m(\002cult)i(for)
e(begin-)936 4057 y(ning)81 b(pr)m(ogrammers,)88 b(understanding)81
b(concurr)m(ency)e(r)m(equir)m(es)h(a)h(conceptual)f(leap.)936
4256 y(W)-15 b(e)68 b(believe)g(that)h(a)g(good)g(way)h(to)e(learn)g
(about)h(concurr)m(ency)d(is)k(to)f(take)g(a)g(hands-)936
4455 y(on)60 b(appr)m(oach.)107 b(Nachos)61 b(helps)f(to)h(teach)f
(concurr)m(ency)e(in)j(two)g(ways.)111 b(First,)66 b(thr)m(ead)936
4654 y(management)49 b(in)i(Nachos)g(is)h Fi(explicit)p
Fj(:)71 b(it)52 b(is)g(possible)f(to)g(trace,)h(literally)h(statement)d
(by)936 4854 y(statement,)j(what)g(happens)e(during)i(a)f(context)f
(switch)i(fr)m(om)e(one)g(thr)m(ead)h(to)g(another)-12
b(,)936 5053 y(fr)m(om)50 b(the)g(perspectives)g(of)h(an)g(outside)g
(observer)e(and)j(of)f(the)f(thr)m(eads)h(involved.)79
b(W)-15 b(e)936 5252 y(believe)60 b(that)g(this)i(experience)57
b(is)62 b(cr)o(ucial)e(to)h(demystifying)h(concurr)m(ency)-18
b(.)106 b(Pr)m(ecisely)936 5451 y(because)54 b(C)h(and)g(C++)f(allow)i
(nothing)e(to)h(be)f(swept)i(under)e(the)g(carpet,)j(concurr)m(ency)936
5651 y(may)43 b(be)g(easier)f(to)h(understand)g(\(although)h(mor)m(e)d
(dif)m(\002cult)k(to)e(use\))h(in)f(these)f(pr)m(ogram-)936
5850 y(ming)i(languages)h(than)e(in)h(those)g(explicitly)g(designed)h
(for)f(concurr)m(ency)-18 b(,)41 b(such)j(as)h(Ada)936
6049 y(or)c(Modula-3.)1235 6248 y(Second,)60 b(a)d(working)g(thr)m(ead)
g(system,)k(like)d(that)f(in)g(Nachos,)j(pr)m(ovides)d(a)g(chance)936
6448 y(to)e(practice)e(writing,)59 b(and)c(testing,)j(concurr)m(ent)52
b(pr)m(ograms.)90 b(Even)55 b(experienced)d(pr)m(o-)936
6647 y(grammers)35 b(\002nd)h(it)h(dif)m(\002cult)h(to)e(think)g
(concurr)m(ently)-18 b(.)47 b(When)35 b(we)h(\002rst)g(used)h(Nachos,)f
(we)936 6846 y(omitted)42 b(many)g(of)g(the)f(practice)g(pr)m(oblems)g
(that)h(we)h(now)f(include)g(in)g(the)g(assignment,)936
7045 y(thinking)h(that)f(students)h(would)h(see)e(enough)f(concurr)m
(ency)f(in)i(the)g(r)m(est)g(of)h(the)e(pr)m(oject.)936
7245 y(Later)-12 b(,)32 b(we)g(r)m(ealized)g(that)f(many)g(students)i
(wer)m(e)e(still)i(making)f(concurr)m(ency)d(err)m(ors)h(even)936
7444 y(in)41 b(the)g(\002nal)h(phase)f(of)g(the)g(pr)m(oject.)1235
7643 y(Our)i(primary)h(goal)g(in)g(building)i(the)d(baseline)h(thr)m
(ead)g(system)g(was)h(simplicity)-18 b(,)45 b(to)936
7842 y(r)m(educe)54 b(the)g(ef)m(fort)g(r)m(equir)m(ed)g(to)g(trace)g
(thr)m(ough)g(the)g(thr)m(ead)g(system's)h(behavior)-12
b(.)89 b(The)936 8042 y(implementation)54 b(takes)i(a)g(total)g(of)g
(about)g(10)g(pages)g(of)g(C++)f(and)h(one)e(page)i(of)g
Fh(MIPS)936 8241 y Fj(assembly)e(code.)85 b(For)53 b(simplicity)-18
b(,)57 b(thr)m(ead)52 b(scheduling)i(is)g(normally)f(nonpr)m(eemptive,)
936 8440 y(but)58 b(to)f(emphasize)g(the)g(importance)f(of)i(critical)g
(sections)g(and)g(synchr)m(onization,)i(we)936 8639 y(have)39
b(a)i(command-line)e(option)h(that)h(causes)g(thr)m(eads)f(to)g(be)g
(time)h(sliced)g(at)g(\223random,\224)936 8839 y(but)j(r)m(epeatable,)g
(points)g(in)h(the)f(pr)m(ogram.)58 b(Concurr)m(ent)42
b(pr)m(ograms)i(ar)m(e)g(corr)m(ect)e(only)j(if)936 9038
y(they)c(work)h(when)e(a)i(context)e(switch)i(can)f(happen)f(at)i(any)f
(time.)936 9571 y Fc(B.3.2)98 b(File)50 b(Systems)936
9870 y Fj(Real)g(\002le)h(systems)h(can)e(be)g(complex)f(artifacts.)79
b(The)50 b Fh(UNIX)h Fj(\002le)g(system,)i(for)d(example,)936
10069 y(has)34 b(at)h(least)g(thr)m(ee)e(levels)h(of)h(indir)m(ection)e
(\227)i(the)f(per)m(-pr)m(ocess)e(\002le-descriptor)j(table,)g(the)p
eop
%%Page: 915 9
915 8 bop 4540 834 a Fg(B.3)149 b(Sample)37 b(Assignments)300
b(915)1086 1432 y Fj(system)44 b(wide)h(open-\002le)e(table,)h(and)g
(the)g(in-cor)m(e)f(inode)g(table)h(\227)g(befor)m(e)f(you)h(even)e
(get)1086 1631 y(to)47 b(disk)i(blocks.)70 b(As)48 b(a)g(r)m(esult,)h
(to)e(build)i(a)f(\002le)g(system)g(that)f(is)i(simple)f(enough)e(to)i
(r)m(ead)1086 1830 y(and)56 b(understand)f(in)h(a)f(couple)g(of)h
(weeks,)j(we)c(wer)m(e)g(for)m(ced)g(to)g(make)h(some)e(dif)m(\002cult)
1086 2029 y(choices)40 b(about)i(wher)m(e)e(to)h(sacri\002ce)g(r)m
(ealism.)1385 2229 y(W)-15 b(e)31 b(pr)m(ovide)g(a)h(basic)g(working)g
(\002le)g(system,)i(stripped)e(of)g(as)g(much)f(functionality)i(as)1086
2428 y(possible.)56 b(Although)44 b(the)e(\002le)i(system)f(has)h(an)f
(interface)f(similar)h(to)g(that)h(of)f Fh(UNIX)h Fj(\(cast)1086
2627 y(in)d(terms)g(of)g(C++)f(objects\),)h(it)h(also)f(has)h(many)f
(signi\002cant)h(limitations)g(with)g(r)m(espect)e(to)1086
2826 y(commer)m(cial)h(\002le)j(systems:)56 b(ther)m(e)42
b(is)i(no)f(synchr)m(onization)f(\(only)h(one)g(thr)m(ead)g(at)g(a)h
(time)1086 3026 y(can)51 b(access)g(the)g(\002le)h(system\),)j(\002les)
d(have)f(a)g(very)g(small)i(maximum)d(size,)k(\002les)e(have)f(a)1086
3225 y(\002xed)35 b(size)h(once)d(cr)m(eated,)i(ther)m(e)f(is)i(no)f
(caching)f(or)h(buf)m(fering)g(of)g(\002le)h(data,)g(the)f(\002le)g
(name)1086 3424 y(space)f(is)h(completely)e(\003at)h(\(ther)m(e)f(is)i
(no)f(hierar)m(chical)e(dir)m(ectory)i(str)o(uctur)m(e\),)g(and)h(ther)
m(e)d(is)1086 3623 y(no)42 b(attempt)g(to)g(pr)m(ovide)g(r)m(obustness)
g(acr)m(oss)g(machine)g(and)g(disk)i(crashes.)54 b(As)43
b(a)g(r)m(esult,)1086 3823 y(the)e(basic)g(\002le)h(system)g(takes)g
(only)g(about)f(15)g(pages)h(of)f(code.)1385 4022 y(The)31
b(assignment)h(is)h(\(1\))g(to)f(corr)m(ect)f(some)g(of)h(these)g
(limitations,)i(and)f(\(2\))g(to)f(impr)m(ove)1086 4221
y(the)53 b(performance)e(of)j(the)g(r)m(esulting)g(\002le)h(system.)89
b(W)-15 b(e)53 b(list)i(a)f(few)h(possible)f(optimiza-)1086
4420 y(tions,)45 b(such)f(as)h(caching)f(and)g(disk)i(scheduling,)f
(but)g(part)f(of)g(the)g(exer)m(cise)f(is)i(to)f(decide)1086
4620 y(which)d(solutions)h(ar)m(e)f(the)g(most)g(cost)h(ef)m(fective.)
1385 4819 y(At)65 b(the)f(har)m(dwar)m(e)h(level,)70
b(we)65 b(pr)m(ovide)f(a)h(disk)h(simulator)-12 b(,)70
b(which)65 b(accepts)g(r)m(ead)1086 5018 y(sector)i(and)h(write)h
(sector)e(r)m(equests)h(and)g(signals)i(the)d(completion)g(of)h(an)g
(operation)1086 5217 y(via)78 b(an)f(interr)o(upt.)159
b(The)77 b(disk)i(data)g(ar)m(e)e(stor)m(ed)h(in)f(a)h
Fh(UNIX)h Fj(\002le;)96 b(r)m(ead)77 b(and)h(write)1086
5417 y(sector)38 b(operations)f(ar)m(e)h(performed)f(using)j(normal)e
Fh(UNIX)h Fj(\002le)g(r)m(eads)g(and)g(writes.)50 b(After)1086
5616 y(the)j Fh(UNIX)i Fj(\002le)f(is)h(updated,)i(we)d(calculate)g
(how)f(long)h(the)f(simulated)i(disk)h(operation)1086
5815 y(should)32 b(have)f(taken)h(\(fr)m(om)f(the)g(track)h(and)g
(sector)e(of)i(the)f(r)m(equest\),)i(and)f(set)g(an)g(interr)o(upt)1086
6014 y(to)75 b(occur)f(that)h(far)g(in)g(the)f(futur)m(e.)152
b(Read)75 b(and)h(write)f(sector)f(r)m(equests)h(\(emulating)1086
6214 y(har)m(dwar)m(e\))42 b(r)m(eturn)g(immediately;)h(higher)m
(-level)e(softwar)m(e)i(is)h(r)m(esponsible)e(for)g(waiting)1086
6413 y(until)g(the)f(interr)o(upt)f(occurs.)1385 6612
y(W)-15 b(e)60 b(made)h(several)g(mistakes)h(in)f(developing)f(the)h
(Nachos)g(\002le)g(system.)111 b(In)61 b(our)1086 6811
y(\002rst)46 b(attempt,)g(the)f(\002le)h(system)h(was)g(much)e(mor)m(e)
f(r)m(ealistic)i(than)f(the)h(curr)m(ent)e(one,)h(but)1086
7011 y(it)55 b(also)f(took)g(mor)m(e)f(than)g(four)h(times)g(as)h(much)
e(code.)89 b(W)-15 b(e)53 b(wer)m(e)h(for)m(ced)f(to)h(r)m(ewrite)g(it)
1086 7210 y(to)i(cut)g(it)h(down)f(to)g(code)f(that)i(could)f(be)g(r)m
(ead)f(and)i(understood)e(quickly)-18 b(.)96 b(When)55
b(we)1086 7409 y(handed)h(out)h(this)g(simpler)g(\002le)g(system,)j(we)
d(did)h(not)e(pr)m(ovide)g(suf)m(\002cient)h(code)f(for)h(it)1086
7608 y(to)d(be)g(working)h(completely;)60 b(we)55 b(left)g(out)f
(\002le)h(r)m(ead)f(and)h(\002le)g(write)g(to)f(be)g(written)h(as)1086
7808 y(part)67 b(of)g(the)f(assignment.)128 b(Although)68
b(these)e(functions)h(ar)m(e)f(fairly)j(straightforwar)m(d)1086
8007 y(to)f(implement,)73 b(the)68 b(fact)h(that)f(the)g(code)g(did)i
(not)d(work)i(meant)e(that)i(students)g(had)1086 8206
y(dif)m(\002culty)55 b(understanding)f(how)f(each)g(of)g(the)g(pieces)f
(of)i(the)e(\002le)i(system)g(\002t)g(with)g(the)1086
8405 y(others.)1385 8605 y(W)-15 b(e)64 b(also)i(initially)h(gave)e
(students)h(the)e(option)h(of)g(which)g(limitation)g(to)g(\002x;)77
b(we)1086 8804 y(found)56 b(that)g(students)g(learned)f(the)h(most)f
(fr)m(om)g(\002xing)i(the)e(\002rst)h(four)g(listed.)95
b(In)55 b(par)m(-)1086 9003 y(ticular)-12 b(,)47 b(the)f(students)i
(who)e(chose)g(to)g(implement)f(a)i(hierar)m(chical)e(dir)m(ectory)h
(str)o(uctur)m(e)1086 9202 y(found)j(that,)h(although)f(it)g(was)h
(conceptually)e(simple,)j(the)d(implementation)f(r)m(equir)m(ed)1086
9402 y(a)41 b(r)m(elatively)h(lar)m(ge)f(amount)g(of)g(code.)1385
9601 y(Finally)-18 b(,)55 b(many)d(modern)e(\002le)j(systems)g(include)
f(some)g(form)f(of)h(write-ahead)h(log-)1086 9800 y(ging)61
b(or)e(log)i(str)o(uctur)m(e,)j(simplifying)e(crash)d(r)m(ecovery)-18
b(.)105 b(The)59 b(assignment)i(now)f(com-)1086 9999
y(pletely)68 b(ignor)m(es)f(this)h(issue,)74 b(but)68
b(we)g(ar)m(e)f(curr)m(ently)g(looking)h(at)f(ways)i(to)f(do)g(crash)p
eop
%%Page: 916 10
916 9 bop 936 834 a Fg(916)298 b(Appendix)38 b(B)149
b(The)37 b(Nachos)i(System)936 1432 y Fj(r)m(ecovery)60
b(by)j(adding)g(simple)f(write-ahead)h(logging)g(code)f(to)g(the)g
(baseline)g(Nachos)936 1631 y(\002le)41 b(system.)52
b(As)42 b(it)f(stands,)h(the)f(choice)e(of)j(whether)d(or)i(not)g(to)g
(addr)m(ess)h(crash)e(r)m(ecovery)936 1830 y(is)f(simply)h(a)f(tradeof)
m(f.)50 b(In)38 b(the)g(limited)i(amount)e(of)h(time)f(available,)h(we)
g(ask)h(students)f(to)936 2029 y(focus)k(on)f(how)h(basic)g(\002le)g
(systems)h(work,)f(how)f(the)h(\002le)g(abstraction)f(allows)i(disk)h
(data)936 2229 y(layout)j(to)g(be)f(changed)g(radically)h(without)h
(changing)e(the)g(\002le-system)i(interface,)e(and)936
2428 y(how)41 b(caching)g(can)g(be)g(used)h(to)f(impr)m(ove)f
Fh(I/O)i Fj(performance.)936 3195 y Fc(B.3.3)98 b(Multiprogramming)936
3493 y Fj(In)39 b(the)f(thir)m(d)i(assignment,)f(we)h(pr)m(ovide)e
(code)h(to)g(cr)m(eate)f(a)h(user)h(addr)m(ess)g(space,)f(to)g(load)936
3693 y(a)d(Nachos)f(\002le)h(containing)f(an)g(executable)f(image)i
(into)f(user)h(memory)-18 b(,)34 b(and)i(then)f(to)g(r)o(un)936
3892 y(the)f(pr)m(ogram.)47 b(The)34 b(initial)h(code)f(is)i(r)m
(estricted)e(to)g(r)o(unning)g(only)g(a)h(single)g(user)g(pr)m(ogram)
936 4091 y(at)k(a)g(time.)50 b(The)38 b(assignment)h(is)g(to)g(expand)f
(this)i(base)e(to)h(support)g(multipr)m(ogramming,)936
4290 y(to)47 b(implement)e(a)j(variety)f(of)g(system)g(calls)h(\(such)f
(as)h Fh(UNIX)g Fd(fork)f Fj(and)g Fd(exec)p Fj(\))g(as)h(well)g(as)936
4490 y(a)41 b(user)m(-level)g(shell,)g(and)h(to)f(optimize)g(the)f
(performance)f(of)i(the)g(r)m(esulting)h(system)f(on)g(a)936
4689 y(mixed)g(workload)h(of)f Fh(I/O)p Fj(-)i(and)e
Fh(CPU)p Fj(-bound)h(jobs.)1235 4888 y(Although)54 b(we)h(supply)g
(little)g(Nachos)f(kernel)f(code)h(as)h(part)f(of)h(this)g(assignment,)
936 5088 y(the)c(har)m(dwar)m(e)h(simulation)g(does)g(r)m(equir)m(e)f
(a)h(fair)h(amount)e(of)h(code.)82 b(W)-15 b(e)51 b(simulate)i(the)936
5287 y(entir)m(e)44 b Fh(MIPS)f(R2/3000)g Fj(integer)i(instr)o(uction)g
(set)h(and)f(a)h(simple)f(single-level)h(page-table)936
5486 y(translation)63 b(scheme.)113 b(\(For)63 b(this)g(assignment,)68
b(a)63 b(pr)m(ogram's)f(entir)m(e)f(virtual)i(addr)m(ess)936
5685 y(space)55 b(must)h(be)f(mapped)f(into)i(physical)g(memory;)k(tr)o
(ue)55 b(virtual)h(memory)e(is)i(left)g(for)936 5885
y(assignment)h(4.\))99 b(In)57 b(addition,)62 b(we)c(pr)m(ovide)e(an)h
(abstraction)g(that)h(hides)f(most)g(of)h(the)936 6084
y(details)43 b(of)e(the)g Fh(MIPS)i Fj(object-code)d(format.)1235
6283 y(This)47 b(assignment)g(r)m(equir)m(es)f(few)h(conceptual)e
(leaps,)j(but)f(it)h(does)f(tie)f(together)g(the)936
6482 y(work)57 b(of)f(the)g(pr)m(evious)g(two)i(assignments,)i(r)m
(esulting)d(in)g(a)g(usable)g(\227)g(albeit)f(limited)936
6682 y(\227)e(operating)g(system.)90 b(Because)54 b(the)g(simulator)g
(can)g(r)o(un)f(C)i(pr)m(ograms,)h(it)f(is)g(easy)f(to)936
6881 y(write)61 b(utility)h(pr)m(ograms)e(\(such)h(as)g(the)f(shell)h
(or)f Fh(UNIX)h Fd(cat)p Fj(\))g(to)f(exer)m(cise)f(the)h(system.)936
7080 y(\(One)55 b(overly)g(ambitious)h(student)g(attempted)g
(unsuccessfully)h(to)f(port)f(emacs.\))93 b(The)936 7279
y(assignment)55 b(illustrates)i(that)e(ther)m(e)f(is)i(little)g(dif)m
(fer)m(ence)e(between)g(writing)i(user)f(code)936 7479
y(and)36 b(writing)g(operating-system)g(kernel)e(code,)i(except)e(that)
i(user)f(code)g(r)o(uns)g(in)h(its)g(own)936 7678 y(addr)m(ess)42
b(space,)f(isolating)h(the)f(kernel)g(fr)m(om)f(user)h(err)m(ors.)1235
7877 y(One)e(important)h(topic)g(that)h(we)g(chose)e(to)i(leave)f(out)h
(\(again,)g(as)g(a)g(tradeof)m(f)f(against)936 8076 y(time)69
b(constraints\))g(is)h(the)f(tr)m(end)f(towar)m(d)i(a)f(small-kernel)g
(operating-system)g(str)o(uc-)936 8276 y(tur)m(e,)52
b(wher)m(e)e(pieces)g(of)h(the)g(operating)f(system)h(ar)m(e)f(split)i
(of)m(f)g(into)e(user)m(-level)h(servers.)936 8475 y(Because)80
b(of)g(Nachos')f(modular)h(design,)90 b(it)81 b(would)g(be)e
(straightforwar)m(d)i(to)f(move)936 8674 y(Nachos)56
b(towar)m(d)g(a)h(small-kernel)f(str)o(uctur)m(e,)j(except)54
b(that)j(\(1\))g(we)f(have)f(no)h(symbolic)936 8873 y(debugging)46
b(support)e(for)h(user)g(pr)m(ograms,)f(and)i(\(2\))f(we)g(would)i
(need)d(a)h(stub)h(compiler)936 9073 y(to)64 b(make)g(it)g(easy)h(to)f
(make)g(r)m(emote)e(pr)m(ocedur)m(e)g(calls)j(acr)m(oss)f(addr)m(ess)h
(spaces.)119 b(One)936 9272 y(r)m(eason)63 b(for)g(adopting)i(a)f(micr)
m(o-kernel)e(design)j(is)g(that)f(it)h(is)f(easier)g(to)g(develop)f
(and)936 9471 y(debug)54 b(operating-system)g(code)g(as)g(a)g(user)m
(-level)g(server)e(than)i(if)h(the)e(code)h(is)h(part)e(of)936
9670 y(the)58 b(kernel.)104 b(Because)59 b(Nachos)g(r)o(uns)g(as)g(a)h
Fh(UNIX)g Fj(pr)m(ocess,)i(the)d(r)m(everse)e(is)j(tr)o(ue:)86
b(It)59 b(is)936 9870 y(easier)37 b(to)g(develop)f(and)i(debug)g
(Nachos)e(kernel)h(code)f(than)h(application)g(code)g(r)o(unning)936
10069 y(on)k(top)g(of)g(Nachos.)p eop
%%Page: 917 11
917 10 bop 4540 834 a Fg(B.3)149 b(Sample)37 b(Assignments)300
b(917)1086 1432 y Fc(B.3.4)98 b(V)-11 b(irtual)50 b(Memory)1086
1730 y Fj(Assignment)56 b(4)h(is)g(to)f(r)m(eplace)f(the)h(simple)g
(memory-management)d(system)k(fr)m(om)f(the)1086 1930
y(pr)m(evious)64 b(assignment)i(with)g(a)f(tr)o(ue)f(virtual-memory)g
(system)i(\227)f(that)h(is,)71 b(one)64 b(that)1086 2129
y(pr)m(esents)43 b(to)h(each)g(user)g(pr)m(ogram)f(the)g(abstraction)h
(of)h(an)f(\(almost\))h(unlimited)g(virtual-)1086 2328
y(memory)33 b(size)j(by)f(using)h(main)e(memory)g(as)h(a)g(cache)f(for)
h(the)f(disk.)50 b(W)-15 b(e)35 b(pr)m(ovide)f(no)h(new)1086
2527 y(har)m(dwar)m(e)41 b(or)f(operating-system)i(components)d(for)i
(this)h(assignment.)1385 2727 y(The)49 b(assignment)h(has)g(thr)m(ee)e
(parts.)77 b(The)49 b(\002rst)h(part)g(is)h(to)e(implement)g(the)g
(mecha-)1086 2926 y(nism)j(for)g(page-fault)h(handling)g(\227)f(the)g
(kernel)f(must)i(catch)f(the)f(page)h(fault,)k(\002nd)d(the)1086
3125 y(needed)j(page)h(on)g(disk,)62 b(\002nd)c(a)f(page)h(frame)e(in)h
(memory)f(to)h(hold)g(the)g(needed)g(page)1086 3324 y(\(writing)c(the)e
(old)h(contents)f(of)h(the)f(page)h(frame)f(to)g(disk)j(if)e(the)f
(page)h(frame)f(is)i(dirty\),)1086 3524 y(r)m(ead)37
b(the)f(new)h(page)g(fr)m(om)f(disk)j(into)e(memory)-18
b(,)36 b(adjust)i(the)e(page-table)h(entry)-18 b(,)37
b(and)g(then)1086 3723 y(r)m(esume)51 b(the)h(execution)f(of)h(the)g
(pr)m(ogram.)82 b(This)53 b(mechanism)e(can)g(take)i(advantage)f(of)
1086 3922 y(the)36 b(code)g(written)h(for)g(the)f(pr)m(evious)g
(assignments:)49 b(The)36 b(backing)h(stor)m(e)f(for)h(an)f(addr)m(ess)
1086 4121 y(space)c(can)g(be)g(r)m(epr)m(esented)f(simply)j(as)f(a)g
(Nachos)f(\002le,)i(and)f(synchr)m(onization)f(is)h(needed)1086
4321 y(when)41 b(multiple)g(page)g(faults)i(occur)e(concurr)m(ently)-18
b(.)1385 4520 y(The)54 b(second)h(part)f(of)i(the)e(assignment)i(is)g
(to)f(devise)g(a)g(policy)h(for)f(managing)g(the)1086
4719 y(memory)g(as)i(a)f(cache)f(\227)i(for)f(deciding)h(which)f(page)g
(to)h(toss)g(out)f(when)g(a)g(new)h(page)1086 4918 y(frame)35
b(is)h(needed,)g(in)f(what)i(cir)m(cumstances)d(\(if)j(any\))f(to)g(do)
f(r)m(ead-ahead,)h(when)g(to)f(write)1086 5118 y(unused)d(dirty)g
(pages)g(back)f(to)h(disk,)i(and)e(how)f(many)h(pages)f(to)h(bring)f
(in)h(befor)m(e)e(starting)1086 5317 y(to)41 b(r)o(un)g(a)g(pr)m
(ogram.)1385 5516 y(These)65 b(policy)h(questions)g(can)g(have)f(a)h
(lar)m(ge)g(ef)m(fect)f(on)h(overall)f(system)h(perfor)m(-)1086
5715 y(mance,)72 b(in)c(part)f(because)g(of)h(the)f(lar)m(ge)g(and)h
(incr)m(easing)f(gap)h(between)e Fh(CPU)i Fj(speed)1086
5915 y(and)49 b(disk)i(latency)e(\227)h(this)g(gap)f(has)h(widened)g
(by)f(two)h(or)m(ders)f(of)g(magnitude)h(in)f(only)1086
6114 y(the)j(past)h(decade.)85 b(Unfortunately)-18 b(,)55
b(the)d(simplest)i(policies)f(often)f(have)g(unacceptable)1086
6313 y(performance.)125 b(So)67 b(that)g(r)m(ealistic)g(policies)g(ar)m
(e)g(encouraged,)k(the)c(thir)m(d)g(part)g(of)g(the)1086
6512 y(assignment)61 b(is)h(to)f(measur)m(e)f(the)g(performance)e(of)j
(the)f(paging)i(system)f(on)g(a)g(matrix)1086 6712 y(multiply)67
b(pr)m(ogram)e(wher)m(e)f(the)i(matrices)f(do)h(not)g(\002t)h(in)f
(memory)-18 b(.)122 b(This)67 b(workload)1086 6911 y(is)57
b(not)f(meant)g(to)h(be)f(r)m(epr)m(esentative)e(of)j(r)m(eal-life)g
(paging)g(behavior)-12 b(,)58 b(but)f(it)g(is)g(simple)1086
7110 y(enough)33 b(to)g(illustrate)i(the)e(in\003uence)f(of)i(policy)g
(changes)f(on)g(application)h(performance.)1086 7310
y(Further)-12 b(,)45 b(the)g(application)h(illustrates)h(several)e(of)h
(the)f(pr)m(oblems)f(with)j(caching:)59 b(Small)1086
7509 y(changes)41 b(in)g(the)g(implementation)f(can)h(have)f(a)i(lar)m
(ge)f(ef)m(fect)g(on)g(performance.)1086 8176 y Fc(B.3.5)98
b(Networking)1086 8475 y Fj(Although)67 b(distributed)h(systems)g(have)
f(become)e(incr)m(easingly)i(important)f(commer)m(-)1086
8674 y(cially)-18 b(,)51 b(most)f(instr)o(uctional)f(operating)f
(systems)i(do)g(not)f(have)f(a)h(networking)g(compo-)1086
8873 y(nent.)97 b(T)-15 b(o)56 b(addr)m(ess)j(this)e(omission,)k(we)c
(chose)g(the)f(capstone)g(of)i(the)e(pr)m(oject)g(to)h(be)f(to)1086
9073 y(write)41 b(a)h(signi\002cant)g(and)g(inter)m(esting)f
(distributed)i(application.)1385 9272 y(At)70 b(the)g(har)m(dwar)m(e)g
(level,)77 b(each)69 b Fh(UNIX)i Fj(pr)m(ocess)e(r)o(unning)h(Nachos)g
(r)m(epr)m(esents)e(a)1086 9471 y(unipr)m(ocessor)48
b(workstation.)75 b(W)-15 b(e)49 b(simulate)h(the)f(behavior)f(of)h(a)h
(network)f(of)g(worksta-)1086 9670 y(tions)44 b(by)g(r)o(unning)f
(multiple)i(copies)e(of)h(Nachos,)g(each)f(in)h(its)h(own)f
Fh(UNIX)h Fj(pr)m(ocess,)e(and)1086 9870 y(by)g(using)h
Fh(UNIX)f Fj(sockets)h(to)e(pass)i(network)e(packets)h(fr)m(om)g(one)e
(Nachos)i(\223machine\224)e(to)1086 10069 y(another)-12
b(.)101 b(The)58 b(Nachos)g(operating)g(system)h(can)f(communicate)f
(with)j(other)d(systems)p eop
%%Page: 918 12
918 11 bop 936 834 a Fg(918)298 b(Appendix)38 b(B)149
b(The)37 b(Nachos)i(System)936 1432 y Fj(by)72 b(sending)g(packets)f
(into)h(the)f(simulated)h(network;)86 b(the)71 b(transmission)h(is)g
(accom-)936 1631 y(plished)54 b(by)f(socket)h(send)f(and)h(r)m(eceive.)
85 b(The)52 b(Nachos)h(network)g(pr)m(ovides)g(unr)m(eliable)936
1830 y(transmission)69 b(of)g(limited-sized)h(packets)f(fr)m(om)f
(machine)g(to)g(machine.)132 b(The)68 b(likeli-)936 2029
y(hood)62 b(that)g(any)h(packet)f(will)i(be)e(dr)m(opped)f(can)h(be)g
(set)h(as)g(a)f(command-line)f(option,)936 2229 y(as)48
b(can)e(the)h(seed)h(used)f(to)h(determine)d(which)j(packets)f(ar)m(e)g
(\223randomly\224)g(chosen)f(to)h(be)936 2428 y(dr)m(opped.)70
b(Packets)48 b(ar)m(e)f(dr)m(opped)h(but)g(ar)m(e)f(never)f(corr)o
(upted,)h(so)i(that)f(checksums)f(ar)m(e)936 2627 y(not)41
b(r)m(equir)m(ed.)1235 2826 y(T)-15 b(o)82 b(show)h(how)g(to)g(use)g
(the)g(network)f(and,)93 b(at)84 b(the)e(same)h(time,)92
b(to)83 b(illustrate)936 3026 y(the)71 b(bene\002ts)g(of)h(layering,)78
b(the)71 b(Nachos)g(kernel)g(comes)g(with)h(a)g(simple)f(post-of)m
(\002ce)936 3225 y(pr)m(otocol)61 b(layer)m(ed)i(on)f(top)g(of)h(the)f
(network.)115 b(The)61 b(post-of)m(\002ce)i(layer)g(pr)m(ovides)f(a)h
(set)936 3424 y(of)h(mailboxes)g(that)h(r)m(oute)e(incoming)h(packets)h
(to)f(the)g(appr)m(opriate)f(waiting)i(thr)m(ead.)936
3623 y(Messages)49 b(sent)f(thr)m(ough)f(the)g(post)h(of)m(\002ce)g
(also)h(contain)e(a)h(r)m(eturn)f(addr)m(ess)i(to)f(be)g(used)936
3823 y(for)41 b(acknowledgments.)1235 4022 y(The)56 b(assignment)i(is)g
(\002rst)g(to)f(pr)m(ovide)g(r)m(eliable)g(transmission)g(of)h
(arbitrary-sized)936 4221 y(packets,)82 b(and)74 b(then)f(to)h(build)h
(a)g(distributed)g(application)f(on)g(top)f(of)i(that)f(service.)936
4420 y(Supporting)62 b(arbitrary-sized)h(packets)f(is)i(straightforwar)
m(d)f(\227)f(you)h(need)f(mer)m(ely)f(to)936 4620 y(split)51
b(any)g(lar)m(ge)f(packet)g(into)g(\002xed-sized)i(pieces,)g(to)e(add)i
(fragment)d(serial)i(numbers,)936 4819 y(and)67 b(to)g(send)g(the)f
(pieces)g(one)g(by)h(one.)127 b(Ensuring)67 b(r)m(eliability)h(is)g
(mor)m(e)d(inter)m(esting,)936 5018 y(r)m(equiring)49
b(a)h(car)m(eful)g(analysis)h(and)f(design.)77 b(T)-15
b(o)49 b(r)m(educe)g(the)g(time)g(r)m(equir)m(ed)g(to)h(do)g(the)936
5217 y(assignment,)67 b(we)c(do)g(not)f(ask)h(you)g(to)f(implement)f
(congestion)h(contr)m(ol)f(or)h(window)936 5417 y(management,)39
b(although)i(of)h(course)e(these)h(ar)m(e)g(important)f(issues)j(in)e
(pr)m(otocol)f(design.)1235 5616 y(The)69 b(choice)g(of)h(how)g(to)g
(complete)e(the)h(pr)m(oject)g(is)i(left)f(open.)136
b(W)-15 b(e)69 b(do)h(make)g(a)936 5815 y(few)45 b(suggestions:)59
b(multiuser)45 b Fh(UNIX)g Fj(talk,)h(a)f(distributed)i(\002le)e
(system)g(with)h(caching,)e(a)936 6014 y(pr)m(ocess-migration)g
(facility)-18 b(,)47 b(distributed)g(virtual)f(memory)-18
b(,)44 b(a)i(gateway)g(pr)m(otocol)e(that)936 6214 y(is)58
b(r)m(obust)g(to)f(machine)f(crashes.)99 b(Per)m(haps)57
b(the)g(most)g(inter)m(esting)g(application)h(that)f(a)936
6413 y(student)h(built)h(\(that)f(we)g(know)g(of\))g(was)h(a)f
(distributed)h(version)e(of)h(the)f(\223battleship\224)936
6612 y(game,)72 b(with)67 b(each)f(player)g(on)g(a)h(dif)m(fer)m(ent)f
(machine.)126 b(This)66 b(application)h(illustrated)936
6811 y(the)i(r)m(ole)h(of)g(distributed)h(state,)78 b(since)69
b(each)h(machine)e(kept)i(only)g(its)i(local)e(view)g(of)936
7011 y(the)43 b(gameboar)m(d;)i(it)g(also)f(exposed)g(several)f
(performance)f(pr)m(oblems)h(in)h(the)g(har)m(dwar)m(e)936
7210 y(simulation,)d(which)h(we)f(have)g(since)g(\002xed.)1235
7409 y(Per)m(haps)69 b(the)h(biggest)h(limitation)g(of)g(the)e(curr)m
(ent)g(implementation)g(is)i(that)f(we)936 7608 y(do)76
b(not)g(model)g(network)g(performance)e(corr)m(ectly)-18
b(,)83 b(because)75 b(we)i(do)f(not)g(keep)g(the)936
7808 y(timers)63 b(on)f(each)g(of)h(the)g(Nachos)f(machines)g(synchr)m
(onized)g(with)i(one)e(another)-12 b(.)114 b(W)-15 b(e)936
8007 y(ar)m(e)76 b(curr)m(ently)h(working)g(on)g(\002xing)h(this)g(pr)m
(oblem,)84 b(using)78 b(distributed)h(simulation)936
8206 y(techniques)46 b(for)g(ef)m(\002ciency)-18 b(.)67
b(These)45 b(techniques)h(will)j(allow)f(us)f(to)g(make)f(performance)
936 8405 y(comparisons)72 b(between)g(alternate)g(implementations)g(of)
h(network)f(pr)m(otocols;)88 b(they)936 8605 y(will)60
b(also)g(enable)e(us)i(to)f(use)g(the)g(Nachos)f(network)h(as)h(a)f
(simulation)h(of)f(a)g(message-)936 8804 y(passing)42
b(multipr)m(ocessor)-12 b(.)936 9471 y Ff(B.4)p 1474
9448 100 100 v 498 w(Information)58 b(on)i(Obtaining)e(a)i(Copy)f(of)h
(Nachos)936 9870 y Fj(Y)-15 b(ou)37 b(can)h(obtain)g(Nachos)f(by)i
(anonymous)e(ftp)h(fr)m(om)g(the)f(machine)g(ftp.cs.berkeley)-18
b(.edu)936 10069 y(by)41 b(following)i(these)e(steps:)p
eop
%%Page: 919 13
919 12 bop 2958 834 a Fg(B.4)149 b(Information)38 b(on)g(Obtaining)f(a)
h(Copy)f(of)h(Nachos)300 b(919)1173 1432 y Fj(1.)100
b(Use)41 b Fh(UNIX)h Fj(ftp)g(to)f(access)h(ftp.cs.berkeley)-18
b(.edu:)3351 1934 y(ftp)41 b(ftp.cs.berkeley)-18 b(.edu)1173
2437 y(2.)100 b(Y)-15 b(ou)38 b(will)i(get)f(a)g(login)h(pr)m(ompt.)48
b(T)-15 b(ype)39 b(the)f(wor)m(d)h(anonymous,)f(and)h(then)f(use)h
(your)1398 2636 y(e-mail)i(addr)m(ess)i(as)f(the)e(passwor)m(d.)2506
3091 y Fd(Name:)51 b Fj(anonymous)2506 3290 y Fd(Password:)h
Fj(tea@cs.berkeley)-18 b(.edu)39 b(\(for)i(example\))1173
3791 y(3.)100 b(Y)-15 b(ou)40 b(ar)m(e)h(now)g(in)h(ftp.)51
b(Move)41 b(to)g(the)g(Nachos)g(subdir)m(ectory)-18 b(.)3418
4246 y Fd(ftp)p Fb(>)42 b Fj(cd)f(ucb/nachos)1173 4749
y(4.)100 b(Y)-15 b(ou)42 b(must)i(r)m(emember)d(to)i(turn)g(on)g
(\223binary\224)g(mode)g(in)h(ftp;)g(unfortunately)-18
b(,)43 b(if)h(you)1398 4948 y(for)m(get)k(to)g(do)h(so,)h(when)e(you)h
(fetch)f(the)g(Nachos)g(\002le,)i(it)f(will)h(be)e(garbled)h(without)
1398 5147 y(any)h(kind)i(of)e(warning)h(message.)79 b(This)51
b(err)m(or)d(is)k(one)d(of)i(the)f(most)h(common)d(that)1398
5347 y(people)40 b(make)h(in)g(obtaining)h(softwar)m(e)f(using)i
(anonymous)d(ftp.)3726 5802 y Fd(ftp)p Fb(>)i Fj(binary)1173
6304 y(5.)100 b(Y)-15 b(ou)68 b(can)g(now)g(copy)g(the)g(compr)m(essed)
f Fh(UNIX)i Fj(tar)g(\002le)g(containing)f(the)g(Nachos)1398
6504 y(distribution)55 b(to)f(your)h(machine.)88 b(The)54
b(softwar)m(e)g(will)i(automatically)f(enr)m(oll)f(you)1398
6703 y(in)63 b(a)g(mailing)g(list)i(for)d(announcements)f(of)i(new)f(r)
m(eleases)h(of)g(Nachos;)73 b(you)63 b(can)1398 6902
y(r)m(emove)30 b(yourself)j(fr)m(om)f(this)h(list)h(by)f(sending)g
(e-mail)g(to)g(nachos@cs.berkeley)-18 b(.edu.)3383 7557
y Fd(ftp)p Fb(>)42 b Fj(get)g(nachos.tar)-12 b(.Z)1173
8059 y(6.)100 b(Exit)42 b(the)f(ftp)g(pr)m(ogram:)3817
8467 y Fd(ftp)p Fb(>)h Fj(quit)1173 8970 y(7.)100 b(Decompr)m(ess)58
b(and)i(detar)h(to)f(obtain)g(the)g(Nachos)f(distribution.)109
b(\(If)61 b(the)f(decom-)1398 9169 y(pr)m(ess)38 b(step)g(fails,)h(you)
g(pr)m(obably)e(for)m(got)h(to)g(set)g(binary)g(mode)f(in)h(ftp)h(in)f
(step)g(4.)50 b(Y)-15 b(ou)1398 9368 y(will)43 b(need)d(to)i(start)f
(over)-12 b(.\))3247 9823 y(uncompr)m(ess)40 b(nachos.tar)-12
b(.Z)3247 10023 y(tar)41 b(-xf)h(nachos.tar)p eop
%%Page: 920 14
920 13 bop 936 834 a Fg(920)298 b(Appendix)38 b(B)149
b(The)37 b(Nachos)i(System)1023 1432 y Fj(8.)100 b(The)53
b(pr)m(eceding)h(steps)h(will)h(pr)m(oduce)e(several)g(\002les,)k
(including)d(the)g(code)f(for)g(the)1248 1631 y(baseline)73
b(Nachos)g(kernel,)80 b(the)73 b(har)m(dwar)m(e)g(simulator)-12
b(,)82 b(documentation)72 b(on)h(the)1248 1830 y(sample)60
b(assignments,)65 b(and)c(the)e(C++)h(primer)-12 b(.)106
b(Ther)m(e)58 b(will)k(also)f(be)f(a)g Fh(README)1248
2029 y Fj(\002le)55 b(to)g(get)g(you)g(started:)79 b(It)55
b(explains)g(how)g(to)g(build)h(the)e(baseline)h(system,)j(how)1248
2229 y(to)39 b(print)h(out)f(documentation,)g(and)h(which)f(machine)g
(ar)m(chitectur)m(es)f(ar)m(e)h(curr)m(ently)1248 2428
y(supported.)3557 2835 y(cat)i Fh(README)1235 3289 y
Fj(Mendel)c(Rosenblum)f(at)i(Stanfor)m(d)g(has)f(ported)g(the)g(Nachos)
g(kernel)f(to)i(r)o(un)e(on)h(Sun)936 3489 y Fh(SP)-14
b(ARC)53 b Fj(workstations,)h(although)e(user)f(pr)m(ograms)g(r)o
(unning)g(on)g(top)g(of)h(Nachos)f(must)936 3688 y(still)g(be)d
(compiled)h(for)g(the)g Fh(MIPS)d(R2/3000)c(RISC)50 b
Fj(pr)m(ocessor)-12 b(.)73 b(Ports)49 b(to)g(machines)g(other)936
3887 y(than)k(Digital)h(Equipment)f(Corporation)e Fh(MIPS)e(UNIX)54
b Fj(workstations)g(and)g(Sun)f Fh(SP)-14 b(ARC)936 4086
y Fj(workstations)55 b(ar)m(e)f(in)g(pr)m(ogr)m(ess.)89
b(Up-to-date)55 b(information)e(on)h(machine)e(availability)936
4286 y(is)58 b(included)g(in)f(the)g Fh(README)h Fj(\002le)g(in)g(the)e
(distribution.)100 b(The)56 b(machine)g(dependence)936
4485 y(comes)49 b(in)i(two)g(parts.)78 b(First,)53 b(the)d(Nachos)g
(kernel)g(r)o(uns)g(just)h(like)g(normal)e(application)936
4684 y(code)54 b(on)h(a)g Fh(UNIX)g Fj(workstation,)j(but)d(a)h(small)f
(amount)f(of)h(assembly)h(code)e(is)i(needed)936 4883
y(in)51 b(the)g(Nachos)g(kernel)g(to)g(implement)f(thr)m(ead)h(context)
g(switching.)82 b(Second,)53 b(Nachos)936 5083 y(simulates)64
b(the)e(instr)o(uction-by-instr)o(uction)g(execution)g(of)h(user)f(pr)m
(ograms,)67 b(to)c(catch)936 5282 y(page)d(faults)i(and)e(other)f
(exceptions.)106 b(This)61 b(simulation)g(assumes)g(the)e
Fh(MIPS)d(R2/3000)936 5481 y Fj(instr)o(uction)79 b(set.)165
b(T)-15 b(o)79 b(port)f(Nachos)h(to)h(a)f(new)h(machine,)87
b(we)79 b(r)m(eplace)f(the)h(kernel)936 5680 y(thr)m(ead-switch)44
b(code)g(with)g(machine-speci\002c)f(code,)g(and)i(r)m(ely)e(on)h(a)g
(C)g(cr)m(oss-compiler)936 5880 y(to)67 b(generate)e
Fh(MIPS)j Fj(object)e(code)g(for)h(each)f(user)g(pr)m(ogram.)126
b(\(A)68 b(cr)m(oss-compiler)d(is)j(a)936 6079 y(compiler)e(that)h
(generates)f(object)g(code)h(for)g(one)f(machine)g(type)h(while)h(r)o
(unning)e(on)936 6278 y(a)j(dif)m(fer)m(ent)g(machine)f(type.\))134
b(Because)69 b(we)g(r)m(ely)g(on)g(a)g(cr)m(oss-compiler)-12
b(,)74 b(we)69 b(do)h(not)936 6477 y(have)57 b(to)g(r)m(ewrite)h(the)f
(instr)o(uction-set)g(simulator)i(for)e(each)g(port)g(to)h(a)g(new)f
(machine.)936 6677 y(The)45 b Fh(SP)-14 b(ARC)48 b Fj(version)d(of)h
(Nachos,)h(for)f(instance,)g(comes)f(with)i(instr)o(uctions)g(on)e(how)
h(to)936 6876 y(cr)m(oss-compile)40 b(to)i Fh(MIPS)h
Fj(on)d(the)h Fh(SP)-14 b(ARC)p Fj(.)1235 7075 y(Questions)71
b(about)g(Nachos)f(and)i(bug)f(r)m(eports)f(should)i(be)f(dir)m(ected)g
(via)g(e-mail)936 7274 y(to)58 b(nachos@cs.berkeley)-18
b(.edu.)98 b(Questions)58 b(can)g(also)h(be)e(posted)i(to)f(the)g
(alt.os.nachos)936 7474 y(newsgr)m(oup.)936 8076 y Ff(B.5)p
1474 8053 100 100 v 498 w(Conclusions)936 8475 y Fj(Nachos)38
b(is)h(an)e(instr)o(uctional)h(operating)g(system)g(designed)h(to)f(r)m
(e\003ect)f(r)m(ecent)g(advances)936 8674 y(in)64 b(har)m(dwar)m(e)f
(and)h(softwar)m(e)g(technology)-18 b(,)68 b(to)63 b(illustrate)i
(modern)d(operating-system)936 8873 y(concepts,)70 b(and,)i(mor)m(e)65
b(br)m(oadly)-18 b(,)72 b(to)66 b(help)f(teach)h(the)f(design)i(of)f
(complex)f(computer)936 9073 y(systems.)115 b(The)61
b(Nachos)h(kernel)g(and)h(sample)f(assignments)h(illustrate)g
(principles)f(of)936 9272 y(computer)m(-system)42 b(design)i(needed)f
(to)g(understand)g(the)g(computer)e(systems)j(of)g(today)936
9471 y(and)83 b(of)g(the)f(futur)m(e:)134 b(concurr)m(ency)80
b(and)j(synchr)m(onization,)92 b(caching)82 b(and)h(locality)-18
b(,)936 9670 y(the)82 b(tradeof)m(f)g(between)f(simplicity)j(and)f
(performance,)89 b(building)84 b(r)m(eliability)f(fr)m(om)936
9870 y(unr)m(eliable)34 b(components,)f(dynamic)i(scheduling,)h
(object-oriented)d(pr)m(ogramming,)h(the)936 10069 y(power)53
b(of)h(a)h(level)e(of)i(translation,)i(pr)m(otocol)52
b(layering,)57 b(and)e(distributed)g(computing.)p eop
%%Page: 921 15
921 14 bop 4843 834 a Fg(Bibliographical)37 b(Notes)299
b(921)1086 1432 y Fj(Familiarity)54 b(with)g(these)f(concepts)f(is)i
(valuable,)i(we)d(believe,)i(even)d(for)h(those)g(people)1086
1631 y(who)41 b(do)h(not)f(end)g(up)g(working)h(in)g(operating-system)f
(development.)1086 2229 y Ff(Bibliographical)58 b(Notes)1086
2627 y Fj(W)-15 b(ayne)60 b(Christopher)-12 b(,)63 b(Steve)e(Pr)m
(octer)-12 b(,)63 b(and)e(Thomas)g(Anderson)f(\(the)g(author)h(of)g
(this)1086 2826 y(appendix\))50 b(did)i(the)e(initial)i(implementation)
d(of)i(Nachos)f(in)g(January)h(1992.)79 b(The)50 b(\002rst)1086
3026 y(version)d(was)i(used)f(for)g(one)f(term)f(as)j(the)e(pr)m(oject)
f(for)i(the)f(under)m(graduate)h(operating-)1086 3225
y(systems)64 b(course)e(at)h(The)f(University)h(of)g(California)g(at)g
(Berkeley)-18 b(.)115 b(W)-15 b(e)63 b(then)f(r)m(evised)1086
3424 y(both)46 b(the)h(code)f(and)i(the)e(assignments,)i(r)m(eleasing)f
(Nachos,)h(V)-18 b(ersion)46 b(2)h(for)f(public)i(dis-)1086
3623 y(tribution)c(in)g(August)h(1992;)g(Mendel)f(Rosenblum)f(ported)g
(Nachos)h(to)g(the)f(Sun)h Fh(SP)-14 b(ARC)1086 3823
y Fj(workstation.)149 b(The)74 b(second)f(version)g(is)i(curr)m(ently)f
(in)g(use)g(at)h(several)e(universities)1086 4022 y(including)g
(Carnegie)e(Mellon,)80 b(Colorado)71 b(State,)80 b(Duke,)f(Harvar)m(d,)
g(Stanfor)m(d,)h(State)1086 4221 y(University)55 b(of)g(New)h(Y)-15
b(ork)54 b(at)h(Albany)-18 b(,)58 b(University)e(of)f(W)-15
b(ashington,)57 b(and,)h(of)e(course,)1086 4420 y(Berkeley;)43
b(we)g(have)g(bene\002ted)f(tr)m(emendously)h(fr)m(om)f(the)h
(suggestions)h(and)g(criticisms)1086 4620 y(of)d(our)g(early)g(users.)
1385 4819 y(In)63 b(designing)i(the)e(Nachos)g(pr)m(oject,)k(we)c(have)
g(borr)m(owed)f(liberally)j(fr)m(om)d(ideas)1086 5018
y(found)46 b(in)f(other)f(systems,)j(including)f(the)f
Fh(T)m(OY)h Fj(operating)e(system)i(pr)m(oject,)e(originally)1086
5217 y(developed)58 b(by)h(Ken)e(Thompson)g(while)i(he)f(was)i(at)f
(Berkeley)-18 b(,)62 b(and)d(modi\002ed)g(exten-)1086
5417 y(sively)43 b(by)f(a)g(collection)f(of)i(people)d(since)i(then;)f
(T)-15 b(unis,)42 b(developed)f(by)i(Rick)f(Holt)h([Holt)1086
5616 y(1983];)68 b(and)60 b(Minix,)j(developed)58 b(by)i(Andy)g(T)-15
b(anenbaum)57 b([T)-15 b(anenbaum)58 b(1987].)105 b(Lions)1086
5815 y([1977])41 b(was)h(one)d(of)i(the)f(\002rst)h(people)e(to)i(r)m
(ealize)f(that)g(the)g(cor)m(e)f(of)i(an)f(operating)g(system)1086
6014 y(could)45 b(be)g(expr)m(essed)f(in)h(a)g(few)g(lines)h(of)f
(code,)g(and)g(then)f(used)i(to)f(teach)f(people)f(about)1086
6214 y(operating)72 b(systems.)145 b(The)72 b(instr)o(uction-set)g
(simulator)h(used)g(in)g(Nachos)f(is)i(lar)m(gely)1086
6413 y(based)42 b(on)e(a)i Fh(MIPS)h Fj(simulator)f(written)f(by)h
(John)e(Ouster)m(hout.)1385 6612 y(W)-15 b(e)53 b(cr)m(edit)i(Lance)e
(Ber)m(c)h(with)h(inventing)f(the)g(acr)m(onym)f(\223Nachos\224)h(Not)g
(Another)1086 6811 y(Completely)40 b(Heuristic)i(Operating)e(System.)p
eop
%%Page: 922 16
922 15 bop 936 834 a Fg(922)298 b(Appendix)38 b(B)149
b(The)37 b(Nachos)i(System)936 1432 y Ff(Credits)936
1830 y Fj(This)55 b(Appendix)f(is)i(derived)f(fr)m(om)f(Christopher/Pr)
m(octer/Anderson,)f Fa(\223)p Fj(The)h(Nachos)936 2029
y(Instr)o(uctional)35 b(Operating)g(System,)p Fa(\224)i
Fj(Pr)m(oceedings)f(of)g(W)-9 b(inter)35 b(USENIX,)h(January)h(1993.)
936 2229 y(Reprinted)j(with)i(permission)f(of)h(the)e(authors.)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
