COMP104 : Quiz 15

Linked List Class

1.	The following function is supposed to delete the first node in an integer linked list. What is wrong?

	void listClass::delHead(){
        	Head = Head->next;
        	Size--;
	}

Answer:	
	If Head is NULL, then "Head->next" will be illegal memory access.
	(and Size should not be decremented)
	Need to call delete on the deleted node

	void listClass::delHead(){
        	Nodeptr cur = Head;
        	if(Head!=NULL){
			Head = Head->next;
			delete cur;
			Size--;
        	}
	}


2. 	The following function is supposed to delete an element deldata in an ordered integer linked list. What is wrong?

	void listClass::del(int deldata){
        	Nodeptr prev, cur = Head;
        	while(cur!=NULL  &&  deldata > cur->data){
			prev = cur;
			cur = cur->next;
        	}
        	prev->next = cur->next;
        	delete cur;
        	Size--;
	}

Answer:	
	Need to test if list is NULL
	Need to see if deldata was not found.
	Need to add special code if deleted node is Head node:

	void listClass::del(int deldata){
        	Nodeptr prev, cur = Head;
        	while(cur!=NULL  &&  deldata > cur->data){
			prev = cur;
			cur = cur->next;
        	}
        	if(cur==NULL || cur->data!=deldata){
			cout << "Error: " << deldata << " not in list!" << endl;
			return;
        	}
        	if(cur==Head)
			Head = Head->next;
		else
			prev->next = cur->next;
        	delete cur;
        	Size--;
	}

