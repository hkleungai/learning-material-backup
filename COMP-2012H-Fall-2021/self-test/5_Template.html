<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0059)https://course.cse.ust.hk/comp2012/self-tests/template.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>COMP2012H Self-test Web Page</title>

<meta name="keywords" content="">
<!--link rel="stylesheet" href="img/Underground.css" type="text/css" /-->
<!-- Bubble tooltips: adopted from: http://www.web-graphics.com/mtarchive/BubbleTooltips.html--><!-- For automatic tooltip: -->
<script src="bubbletooltips/bubbletooltips.js" type="text/javascript"></script>
<!-- Example:  usage <a href="" title=""></a>  --><!-- For customize tooltip -->
<link media="all" href="bubbletooltips/bt.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="jquery/jquery.js"></script>

<!-- JQuery Calender is located here... -->
<style type="text/css">@import url(jquerycalendar/jquery-calendar.css);</style>
<script type="text/javascript" src="jquerycalendar/jquery-calendar.js"></script>

<script type="text/javascript" src="selftestmenu.js"></script>
<link rel="stylesheet" type="text/css" href="selfteststyle.css">
<!-- highslide stuff: TESTING... -->
<script type="text/javascript" src="highslide/highslide-with-html.js"></script>
<script type="text/javascript">    
    hs.graphicsDir = 'highslide/graphics/';
    hs.outlineType = 'rounded-white';
    hs.outlineWhileAnimating = true;
</script>
<style type="text/css">@import url(highslide/myslide.css);</style>
<!-- END OF highslide stuff -->

<link class="undefined" type="text/css" rel="stylesheet" href="bubbletooltips/BubbleTooltips.css" media="screen" style="display: block;"></head>

<!-- Start of the main html body -->
<body>

<!-- wrap starts here -->
<div id="main">
<div id="wrap">
        <!-- header -->
        <div id="header">
                <span id="slogan"></span>
                <!-- tabs -->
                <ul>
                  <li class="showall-solution"><a href="#"><span>Show all solutions</span></a></li>
                  <li class="hideall-solution"><a href="#"><span>Hide all solutions</span></a></li>
                  
                </ul>
        </div>
        <!-- main block: right panel -->
        <!--div id="main"-->

          <!--  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Test 1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  -->
          <div id="block1" style="display:block;	clear:left;">
            <h1>Self-test 16: <br>Templates</h1>

          <ol>
		  
            <!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>Which of the following is true about templates?</p>
			  <ol type="A">
                <li>Template is a feature of C++ that allows us to write one code for different data types.</li>
                <li>We can write one function that can be used for all data types including user defined types. Like sort(), max(), min(), ..etc.</li>
                <li>We can write one class or struct that can be used for all data types including user defined types. Like Linked List, Stack, Queue ..etc.</li>
                <li>Template is an example of compile-time polymorphism.</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              All are correct. For D, when a function or class is instantiated from a template, a specialization of that template is created by the compiler for the set of arguments used, and the specialization is referred to as being a generated specialization.
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->

            <!-- End of the 2nd question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">      
              <!-- Put the question here -->
			  <p>What is the output of the following code?</p>
<pre>#include &lt;iostream&gt;
using namespace std;
 
template &lt;typename T&gt;
void fun(const T& x)
{
    static int count = 0;
    cout << "x = " << x << " count = " << count << endl;
    ++count;
    return;
}
 
int main()
{
    fun<int>(1); 
    fun<int>(1); 
    fun<double>(1.1);
    return 0;
}
</pre>
			  <ol type="A">
                <li>x = 1 count = 0<br>x = 1 count = 1<br>x = 1.1 count = 0</li>
                <li>x = 1 count = 0<br>x = 1 count = 0<br>x = 1.1 count = 0</li>
                <li>x = 1 count = 0<br>x = 1 count = 1<br>x = 1.1 count = 2</li>
                <li>Compilation error</li>
              </ol>
            </div>
          
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              A is correct. Compiler creates a new instance of a template function for every data
            type. So a compiler creates two functions in the above example, one for fun<int> and another
            for fun<double>. Every instance has its own copy of static variable count. fun<int> is
            called twice, so count is incremented for the second call, whereas fun<double> is called
            only once and its count is zero at the call.
            </div>
            </div>
            <hr>
            </li>
            <!-- End of the 2nd question -->
			
			<!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>Which of the following is true about the output?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;
 
template &lt;typename T&gt;
T myMax(T x, T y)
{
    return (x > y)? x : y;
}

int main()
{
    cout << myMax(3, 7) << endl;
    cout << myMax(3.0, 7.0) << endl;
    cout << myMax(3, 7.0) << endl;
    return 0;
}
</pre>
			  <ol type="A">
                <li>7<br>7.0<br>7.0</li>
                <li>Compilation error in all cout statements as the data type is not specified.</li>
                <li>Compilation error in the last cout statement as the call to myMax is ambiguous.</li>
                <li>None of the above</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              C is correct. The template argument type T is automatically deduced by the compiler.
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->
			
			<!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>What is the output of the following code? Assume that the size of char is 1 byte and size of int is 4 bytes.</p>
<pre>
#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
using namespace std;
 
template &lt;class T, class U&gt;
class A
{
    T x;
    U y;
    static int count;
};
 
int main() 
{
   A&lt;char, char&gt; a;
   A&lt;int, int&gt; b;
   cout << sizeof(a) << endl;
   cout << sizeof(b) << endl;
   return 0;
}
</pre>
			  <ol type="A">
                <li>6<br>12</li>
                <li>2<br>8</li>
                <li>Compilation error: There can not be more than one template arguments.</li>
                <li>8<br>8</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              B is correct. Since count is static, it is not counted by sizeof( ).
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->
			
			<!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>What is the output of the following code?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;
 
template &lt;class T&gt;
class Test
{
  private:
    T val;
  public:
    static int count;
    Test()  { count++; }
};
 
template &lt;class T&gt;
int Test&lt;T&gt;::count = 0;
 
int main()
{
    Test&lt;int&gt; a;
    Test&lt;int&gt; b;
    Test&lt;double&gt; c;
    cout << Test&lt;int&gt;::count   << endl;
    cout << Test&lt;double&gt;::count << endl;
    return 0;
}
</pre>
			  <ol type="A">
                <li>0<br>0</li>
                <li>1<br>1</li>
                <li>2<br>1</li>
                <li>1<br>0</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              C is correct. There are two classes created by the template: Test&lt;int&gt; and Test&lt;double&gt;. Since count is a static member, every class has its own copy of it. Also, count gets incremented in constructor.
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->
			
			<!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>What is the output of the following code? Assume that the size of int is 4 byte and size of double is 8 bytes.</p>
<pre>
#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
using namespace std;
 
template &lt;class T, class U, class V=double&gt;
class A
{
    T x;
    U y;
    V z;
};
 
int main()
{
   A&lt;int, int&gt; a;
   A&lt;double, double&gt; b;
   cout << sizeof(a) << endl;
   cout << sizeof(b) << endl;
   return 0;
}
</pre>
	      <ol type="A">
                <li>16<br>24</li>
                <li>8<br>16</li>
                <li>20<br>28</li>
                <li>Compilation error: template parameters cannot have default values.</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
	      A is correct. Templates can also have default parameters. The rule is same as for
	      functions: all default values must be on the rightmost side.
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->
			
			<!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>What is the output of the following code?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;
 
template &lt;class T, int max&gt;
int arrMin(T arr[], int n)
{
   int m = max;
   for (int i = 0; i < n; i++)
      if (arr[i] < m)
         m = arr[i];
 
   return m;
}
 
int main()
{
   int arr1[]  = {10, 20, 15, 12};
   int n1 = sizeof(arr1)/sizeof(arr1[0]);
 
   char arr2[] = {1, 2, 3};
   int n2 = sizeof(arr2)/sizeof(arr2[0]);
 
   cout << arrMin&lt;int, 10000&gt;(arr1, n1) << endl;
   cout << arrMin&lt;char, 256&gt;(arr2, n2);
   return 0;
}
</pre>
			  <ol type="A">
                <li>Compilation error, template argument must be a data type.</li>
                <li>10<br>1</li>
                <li>10000<br>256</li>
                <li>1<br>1</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              B is correct. We can pass non-type arguments to templates.
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->
			
			<!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>Which of the following is an invalid template declaration?</p>
			  <ol type="A">
                <li>template &lt;int x&gt; int func() {return x;}</li>
                <li>template &lt;double x&gt; double func() {return x;}</li>
                <li>template &lt;typename x&gt; void func(x t) {} </li>
                <li>template &lt;class T&gt; func&lt;T*&gt;(T* x) {}</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              B and D are invalid. For B, floating-point numbers and class-type objects are not
	      allowed as non-type arguments. For D, func&lt;T*&gt; is invalid.
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->
			
			<!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>What is the output of the following code?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;
 
template &lt;int i&gt;
void fun()
{
   i = 20;
   cout << i;
}
 
int main()
{
   fun<10>();
   return 0;
}
</pre>
			  <ol type="A">
                <li>10</li>
                <li>20</li>
                <li>Compilation error</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              C is correct. Compilation error in line "i = 20;" Non-type parameters are treated as
	      const and cannot be modified.
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->
			
			<!-- Start of the first question -->
            <li>
            <div class="question-wrapper">
            <div class="question-content">
              <!-- Put the question here -->
              <p>What is the output of the following code?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;
 
template &lt;class T&gt;
T max (T &a, T &b)
{
    return (a > b)? a : b;
}
 
template &lt;&gt;
int max &lt;int&gt; (int &a, int &b)
{
    cout << "Called ";
    return (a > b)? a : b;
}
 
int main ()
{
    int a = 10, b = 20;
    cout << max&lt;int&gt;(a, b);
}
</pre>
			  <ol type="A">
                <li>20</li>
                <li>Called 20</li>
                <li>Compilation error</li>
              </ol>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <!-- Put the solution here -->
              B is correct. The above program is an example of template specialization. Sometimes we
            want a different behaviour of a function/class template for a particular data type. For
            this, we can create a specialized version for that particular data type. Thus, in the
            above example, when max( ) is called with two int's, the specialized max&lt;int&gt;( )
            is used instead of instantiating it from the general max function template. 
            </div>              
            </div>
            <hr>
            </li>
            <!-- End of the first question -->

          </ol>
        </div>

        <!-- wrap ends here; don't delete this /div --> 
        </div>

</div>





<div id="calendar_div"></div><span id="btc" style="position: absolute; top: 57px; left: 447px;"></span><div style="padding: 0px; border: none; margin: 0px; position: absolute; left: 0px; top: 0px; width: 100%; z-index: 1001;"><a class="highslide-loading" title="Click to cancel" style="position: absolute; opacity: 0.75; left: -9999px; z-index: 1;">Loading...</a><table cellspacing="0" style="padding: 0px; border: none; margin: 0px; visibility: hidden; position: absolute; z-index: 1001; border-collapse: collapse;"><tbody style="padding: 0px; border: none; margin: 0px;"><tr style="padding: 0px; border: none; margin: 0px; height: auto;"><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; background-image: url(https://course.cse.ust.hk/comp2012/self-tests/highslide/graphics/outlines/rounded-white.png); height: 20px; width: 20px; background-position: 0px 0px; background-repeat: initial initial;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; background-image: url(https://course.cse.ust.hk/comp2012/self-tests/highslide/graphics/outlines/rounded-white.png); height: 20px; width: 20px; background-position: 0px -40px; background-repeat: initial initial;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; background-image: url(https://course.cse.ust.hk/comp2012/self-tests/highslide/graphics/outlines/rounded-white.png); height: 20px; width: 20px; background-position: -20px 0px; background-repeat: initial initial;"></td></tr><tr style="padding: 0px; border: none; margin: 0px; height: auto;"><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; background-image: url(https://course.cse.ust.hk/comp2012/self-tests/highslide/graphics/outlines/rounded-white.png); height: 20px; width: 20px; background-position: 0px -80px; background-repeat: initial initial;"></td><td class="rounded-white" style="padding: 0px; border: none; margin: 0px; position: relative;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; background-image: url(https://course.cse.ust.hk/comp2012/self-tests/highslide/graphics/outlines/rounded-white.png); height: 20px; width: 20px; background-position: -20px -80px; background-repeat: initial initial;"></td></tr><tr style="padding: 0px; border: none; margin: 0px; height: auto;"><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; background-image: url(https://course.cse.ust.hk/comp2012/self-tests/highslide/graphics/outlines/rounded-white.png); height: 20px; width: 20px; background-position: 0px -20px; background-repeat: initial initial;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; background-image: url(https://course.cse.ust.hk/comp2012/self-tests/highslide/graphics/outlines/rounded-white.png); height: 20px; width: 20px; background-position: 0px -60px; background-repeat: initial initial;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; background-image: url(https://course.cse.ust.hk/comp2012/self-tests/highslide/graphics/outlines/rounded-white.png); height: 20px; width: 20px; background-position: -20px -20px; background-repeat: initial initial;"></td></tr></tbody></table><img src="./COMP2011 Self-test Web Page_files/rounded-white.png" style="padding: 0px; border: none; margin: 0px; position: absolute; left: -9999px; top: -9999px;"></div></body></html>
