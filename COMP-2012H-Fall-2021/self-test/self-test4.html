<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>COMP2012H Self-test Web Page</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="keywords" content="" />
<!--link rel="stylesheet" href="img/Underground.css" type="text/css" /-->
<!-- Bubble tooltips: adopted from: http://www.web-graphics.com/mtarchive/bubbletooltips.html--><!-- For automatic tooltip: -->
<script src="bubbletooltips/bubbletooltips.js" type=text/javascript></script>
<!-- Example:  usage <a href="" title=""></a>  --><!-- For customize tooltip -->
<link media=all href="bubbletooltips/bt.css" type=text/css rel=stylesheet>
<script type="text/javascript" src="jquery/jquery.js"></script>

<!-- JQuery Calender is located here... -->
<style type="text/css">@import url(jquerycalendar/jquery-calendar.css);</style>
<script type="text/javascript" src="jquerycalendar/jquery-calendar.js"></script>

<script type="text/javascript" src="selftestmenu.js"></script>
<link rel="stylesheet" type="text/css" href="selfteststyle.css" />
<!-- highslide stuff: TESTING... -->
<script type="text/javascript" src="highslide/highslide-with-html.js"></script>
<script type="text/javascript">    
    hs.graphicsDir = 'highslide/graphics/';
    hs.outlineType = 'rounded-white';
    hs.outlineWhileAnimating = true;
</script>
<style type="text/css">@import url(highslide/myslide.css);</style>
<!-- END OF highslide stuff -->

</head>

<!-- Start of the main html body -->
<body>

<!-- wrap starts here -->
<div id="main">
<div id="wrap">
        <!-- header -->
        <div id="header">
                <span id="slogan" ></span>
                <!-- tabs -->
                <ul>
                  <li class="showall-solution"><a href="#" title="Show all solutions"><span>Show all solutions</span></a></li>
                  <li class="hideall-solution"><a href="#" title="Hide all solutions"><span>Hide all solutions</span></a></li>
                  <li id="tabShowNormalView"><a href="#" title="The normal webpage view"><span>Web view</span></a></li>
                  <li id="tabShowAllOnePage"><a href="#" title="The view which is suitable for printing"><span>Printable view</span></a></li>
                  <li id="tabIncFontSize"><a href="#" title="Increase the font size" ><span >++ Font size</span></a></li>
                  <li id="tabDecFontSize"><a href="#" title="Decrease the font size" ><span >-- Font size</span></a></li>
                </ul>
        </div>
        <!-- main block: right panel -->
        <!--div id="main"-->

        <!--  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Test Content %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  -->

        <div id='block4' style="display:block;">
          <h1>Self-test 4:  <br /> <!-- [Oct. 5-9] --> Function basics</h1>
          
          <OL>
            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>Which of the following is <b>NOT</b> true?
              <ol type="A">
                <li>No return statement is allowed in a function with return type "void".</li>
                <li>Return statement(s) is/are necessary for a function with non-void return type.</li>
                <li>There can be many return statements in a function but at most one return statement is executed each time the function is executed.</li>
                <li>A return statement can at most return one object to the caller of the function.</li>
              </ol>
              </p>
            </div>

            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p><b>A.</b> </p>
              <p>A is <b>NOT</b> true because an empty return statement <b>"return;"</b> can still be used. Consider the following code:</p>
<pre>
void test()
{
    return; // can be used, but can also be omitted
}
</pre>
              <p> B is true because for function with non-void return type, a return statement is necessary, otherwise, the result will be undefined and that is not allowed. </p>
              <p> C is true. Consider the following code: </p>
<pre>
int compare(int x, int y)
{
    if (x &gt; y)
        return 1;
    else if (x &lt; y)
        return -1;

    return 0;
}
</pre>
                <p>In this function, we have 3 <b>return</b> statements. Only one of them will be executed. </p>
                <p>D is true because we cannot return two objects (e.g. two integers) in a single return type (unless you wrap the 2 objects into a user-defined composite data type such as struct or class that you will later learn). In some sense, <b>pass-by-reference</b> will achieve the same effect. For example: </p>
<pre>
void sum_and_diff(int a, int b, int&amp; sum, int&amp; diff)
{
    sum = a+b;
    diff = a-b;
}
</pre>
            </div>
            </div>
            <hr />
            </LI>

            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>Consider the following function:
<pre>
int update(int a, int b)
{
    a += b;
    return a;
}
</pre>
              </p>
              <p>(i) Which of the following statement(s) is/are valid function calls, where <i>a</i> and <i>b</i> are two int variables; <i>x</i> is a double variable.
              <ol type="A">
                <li>a += update(a, b);</li>
                <li>x += update( update(a, b), a);</li>
                <li>x = update(x, 10);</li>
                <li>a = update(x+b, a);</li>
              </ol>
              </p>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p><b>All are correct.</b> <i>x</i> and the floating-point value of other expressions will be coerced to int before passing to the <i>update</i> function. </p>
            </div>
            </div>
            <hr />

            <div class="question-wrapper">
            <div class="question-content">
              <p>(ii) Let a = 2, b = 3, and x = 4.5. What are the values of a, b, and x after each of the valid function calls above? </p>
            </div>

            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p>
              <b>
              <ol type="A">
                <li>a = 7, b = 3, x = 4.5;</li>
                <li>a = 2, b = 3, x = 11.5;</li>
                <li>a = 2, b = 3, x = 14;</li>
                <li>a = 9, b = 3, x = 4.5;</li>
              </ol>
              </b>
              </p>
            </div>
            </div>
            <hr />
            </LI>

            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>Similar to the last question, consider the following function:
<pre>
int update(int &a, int b)
{
    int c = a; 
    a += b;
    return c;
}
</pre>
              </p>
              <p>(i) Which of the following statement(s) is/are valid function calls, where <i>a</i> and <i>b</i> are two int variables; <i>x</i> is a double variable.
              <ol type="A">
                <li>a += update(a, b);</li>
                <li>x += update( update(a, b), a);</li>
                <li>x = update(x, 10);</li>
                <li>a = update(x+b, a);</li>
              </ol>
              </p>
            </div>

            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p><b>A only.</b> B and D are not valid because the first formal parameter of <i>update</i> requires pass-by-reference but the corresponding actual parameter is not a variable. C is not valid because one cannot initialize a reference variable of type int using a variable of type double. </p>
            </div>
            </div>
            <hr />

            <div class="question-wrapper">
            <div class="question-content">
              <p>(ii) Let a = 2, b = 3, and x = 4.5. What are the values of a, b, and x after each of the valid function calls above?</p>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
                <p><b>a = 7, b = 3, x = 4.5 for the first call only since it is the only valid function call.<br /></b >
              Note that update(a,b) increases value of a by b but returns the original value of a before it is incremented. So after the call to update(a,b), value of a is changed to 5, and update(a,b) returns 2. Therefore, a += 2 is evaluated to a equal to 7. </p>
            </div>
            </div>
            <hr />
            </LI>

            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>What is/are the output(s) of the following program? </p>
<pre>
#include &lt;iostream&gt;
using namespace std;

void test(int two, int three)
{
    int one = two * three;
    cout &lt;&lt; one &lt;&lt; three &lt;&lt; two &lt;&lt; endl;
}

int main(void)
{
    int a = 7, b = 5, c = 3;
    test(a, b);
    cout &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt; endl;
}
</pre>
              </p>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p><b>3557<br />753</b></p>
<pre>
Step 1: a = 7, b = 5, c = 3   (Note: they are variables in main function)
Step 2: call the test function as: test(7, 5)
Step 3: two = 7, three = 5  (Note: they are variables in test function)
Step 4: one = 7*5 = 35  
Step 5: 3557 is printed (because no space is printed between these three numbers)
Step 6: 753 is printed 
</pre>
            </div>
            </div>
            <hr />
            </LI>

            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>What is/are the output(s) of the following program? </p>
<pre>
#include &lt;iostream&gt;
using namespace std;

int test(int n1, int n2)
{
    cout &lt;&lt; n1 &lt;&lt; n2 &lt;&lt; endl;
    return n1/n2;
}

int main(void)
{
    int n1 = 5, n2 = 3;
    n2 = test(n2, n1);
    cout &lt;&lt; n1 &lt;&lt; n2;
}
</pre>
              </p>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p><b>35<br />50</b> </p>
<pre>
Step 1: n1 = 5, n2 = 3; (Note: they are main function variables)
Step 2: n2  =  test(3, 5); // the function test is called
Step 3: n1 = 3, n2 = 5; (Note: they are test function variables)
Step 4: 35 is printed (because no space is printed between two numbers)
Step 5: return 3/5 => return 0 (integer division)
Step 6: n2 = test(3, 5) = 0;  (Note: this n1 is in the main function)
Step 7: 50 is printed
</pre>
            </div>
            </div>
            <hr />
            </LI>

            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>What is/are the output(s) of the following program? </p>
<pre>
#include &lt;iostream&gt;
using namespace std;

int test(int a, int b, int c)
{
    b = c;
    cout &lt;&lt; c &lt;&lt; b &lt;&lt; a &lt;&lt; endl;
    return (a-b+c);
}

void main(void)
{
    int a = 5, b = 4, c = 3;
    a = test(c, b, a);
    cout &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt; endl;
}
</pre>
              </p>
            </div>

            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p><b>553 <br />343</b> </p>
<pre>
Step 1: a = 5, b = 4, c = 3 (Note: they are variables in main function)
Step 2: a = test(3, 4, 5)
Step 3: a = 3, b = 4, c = 5 (Note: they are variables in test function)
Step 4: b = 5           (Note: b is a variable in test function)
Step 5: 553 is printed
Step 6: return (3-5+5) => return 3
Step 7: a = test(3, 4, 5) = 3 (Note: a is a variable in main function)
Step 8: 343 is printed
</pre>
            </div>
            </div>
            <hr />
            </LI>

            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>What is/are the output(s) of the following program? </p>
<pre>
#include &lt;iostream&gt;
using namespace std;

int test(int n1, int n2)
{
    cout &lt;&lt; n2 &lt;&lt; n1 &lt;&lt; endl;
    return n2*n1;
}

void main(void)
{
    int n1 = 4, n2 = 3, n3 = 8;
    n2 = test(n1, n3);
    cout &lt;&lt; n1 &lt;&lt; n2 &lt;&lt; n3 &lt;&lt; endl;
}
</pre>
              </p>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p><b>84<br />4328</b></p>
<pre>
Step 1: n1 = 4, n2 = 3, n3 = 8 (Note: they are variables in the main function)
Step 2: n2 = test(4, 8)
Step 3: n1 = 4, n2 = 8       (Note: they are variables in the test function)
Step 4: 84 is printed
Step 5: return 8*4 => return 32
Step 6: n2 = test(4, 8) = 32 (Note: n2 is a variable in the main function)
Step 7: 4328 is printed
</pre>
              </p>
            </div>
            </div>
            <hr />
            </LI>

            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>Give the outputs of the following code.
<pre>
#include &lt;iostream&gt;
using namespace std;

void fun1(int a)
{
    cout &lt;&lt; "a is " &lt;&lt; a &lt;&lt; endl;
}

void fun2(void)
{
    int a;
    a = 2;
    cout &lt;&lt; "a is " &lt;&lt; a &lt;&lt; endl;
}

int main(void)
{
    int a = 0;
    fun1(a);
    fun2();
    cout &lt;&lt; "a is " &lt;&lt; a &lt;&lt; endl;
    return 0;
}
</pre>
              </p>              
            </div>      

            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p> &nbsp;
<pre>
a is 0
a is 2
a is 0
</pre>
              </p>
              <p>
              because (a) <i>fun1</i> uses pass-by-value and will not change its input, and (b) variable
              <i>a</i> in <i>fun2</i> is not the same as the variable <i>a</i> in other functions of the program.
              </p>
            </div>              
            </div>
            <hr />
            </LI>

            <LI>
            <div class="question-wrapper">
            <div class="question-content">
              <p>What are the outputs of the following program?
<pre>
#include &lt;iostream&gt;
using namespace std;

void fun2(int& a, int& b, int c, int& d)
{
    int temp;
    temp = a;
    a = b;
    b = c;
    c = d;
    d = temp;
}

int main(void)
{
    int a, b, c, d;
    a = b = c = d = 0;

    for(int i = 0; i &lt; 3; i = i+1)
    {
        fun2(a, b, c, d);
        a = a + 4;
        b = b - 3;
        c = c * 2;
        d = d - 1;
    }

    cout &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " 
         &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;
    return 0;
}
</pre>
              </p>              
            </div>      

            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p> <b> 1 -3 0 0 </b> </p>
<pre>
    Explanation:
                        | a | b | c | d |
    Initially           | 0 | 0 | 0 | 0 |
    After 1st fun2 call | 0 | 0 | 0 | 0 |
    After 1 iteration   | 4 |-3 | 0 |-1 |
    After 2nd fun2 call |-3 | 0 | 0 | 4 |
    After 2 iteration   | 1 |-3 | 0 | 3 |
    After 3rd fun2 call |-3 | 0 | 0 | 1 |
    After 3 iteration   | 1 |-3 | 0 | 0 |
</pre>
              </p>
            </div>              
            </div>
            <hr />
            </LI>

            <LI>

            <div class="question-wrapper">
            <div class="question-content">
              <p>What are the outputs of the following program?</p>
<pre>
#include &lt;iostream&gt;
using namespace std;

int foo(int& a, int b, int& c)
{
    int d = 5;
    a = b++;
    b = d;
    cout &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;
    return -d;
}

int bar(int a, int& b, int& c)
{
    int d = --a;
    b = a;
    cout &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;
    return d;
}

int main(void)
{
    int a = 4, b = 6, c = 2, d = 9;
    cout &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;
    d = foo(a, b, c);
    cout &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;
    a = 0;
    d = bar(a, b, c);
    cout &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;
}
</pre>
            </div>
        
            <div class="toggle-solution">Solution</div>
            <div class="solution-content">
              <p><b>
              4 6 2 9    <br>
              6 5 2 5    <br>
              6 6 2 -5   <br>
              -1 -1 2 -1 <br>
              0 -1 2 -1  <br>
              </b></p>
            </div>
            </div>
            <hr />
            </LI>

          </OL>
        </div>


    


        <!-- wrap ends here; don't delete this /div --> 
        </div>

</div>
</div>

</body>
</html>
